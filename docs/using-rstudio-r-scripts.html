<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 8 Using RStudio &amp; R scripts | www.datascience.pizza</title>
  <meta name="description" content="A resource &amp; workbook for the Sewanee DataLab" />
  <meta name="generator" content="bookdown 0.38 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 8 Using RStudio &amp; R scripts | www.datascience.pizza" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A resource &amp; workbook for the Sewanee DataLab" />
  <meta name="github-repo" content="databrew/intro-to-data-science" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 8 Using RStudio &amp; R scripts | www.datascience.pizza" />
  
  <meta name="twitter:description" content="A resource &amp; workbook for the Sewanee DataLab" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
<link rel="prev" href="running-r-code.html"/>
<link rel="next" href="variables.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">www.datascience.pizza</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-this-is-and-what-it-isnt"><i class="fa fa-check"></i>What this is, and what it isn’t</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-this-is-for"><i class="fa fa-check"></i>Who this is for</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-you-will-learn"><i class="fa fa-check"></i>What you will learn</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i>Contributors</a></li>
</ul></li>
<li class="part"><span><b>I Core theory</b></span></li>
<li class="chapter" data-level="2" data-path="what-is-data-science.html"><a href="what-is-data-science.html"><i class="fa fa-check"></i><b>2</b> What is data science?</a>
<ul>
<li class="chapter" data-level="" data-path="what-is-data-science.html"><a href="what-is-data-science.html#what-is-the-data-life-cycle"><i class="fa fa-check"></i>What is the data life cycle?</a></li>
<li class="chapter" data-level="" data-path="what-is-data-science.html"><a href="what-is-data-science.html#data-science-in-the-wild"><i class="fa fa-check"></i>Data science ‘in the wild’</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="the-reproducibility-crisis.html"><a href="the-reproducibility-crisis.html"><i class="fa fa-check"></i><b>3</b> The reproducibility crisis</a>
<ul>
<li class="chapter" data-level="" data-path="the-reproducibility-crisis.html"><a href="the-reproducibility-crisis.html#the-crisis"><i class="fa fa-check"></i>The crisis</a></li>
<li class="chapter" data-level="" data-path="the-reproducibility-crisis.html"><a href="the-reproducibility-crisis.html#the-reproducibility-movement"><i class="fa fa-check"></i>The ‘reproducibility’ movement</a></li>
<li class="chapter" data-level="" data-path="the-reproducibility-crisis.html"><a href="the-reproducibility-crisis.html#why-r"><i class="fa fa-check"></i>Why <code>R</code>?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-ethics.html"><a href="data-ethics.html"><i class="fa fa-check"></i><b>4</b> Data ethics</a>
<ul>
<li class="chapter" data-level="" data-path="data-ethics.html"><a href="data-ethics.html#a-few-principles"><i class="fa fa-check"></i>A few principles</a></li>
<li class="chapter" data-level="" data-path="data-ethics.html"><a href="data-ethics.html#warm-up-scenarios"><i class="fa fa-check"></i>Warm up scenarios</a></li>
<li class="chapter" data-level="" data-path="data-ethics.html"><a href="data-ethics.html#case-studies"><i class="fa fa-check"></i>Case studies</a></li>
<li class="chapter" data-level="" data-path="data-ethics.html"><a href="data-ethics.html#more-scenarios"><i class="fa fa-check"></i>More scenarios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>5</b> Visualizing data</a>
<ul>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#the-value-of-data-viz"><i class="fa fa-check"></i>The value of <em>data viz</em></a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#plot-gallery"><i class="fa fa-check"></i>Plot gallery</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#chart-junk"><i class="fa fa-check"></i>Chart junk</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#final-thoughts"><i class="fa fa-check"></i>Final thoughts</a></li>
</ul></li>
<li class="part"><span><b>II Getting sta<code>r</code>ted</b></span></li>
<li class="chapter" data-level="6" data-path="setting-up-rstudio.html"><a href="setting-up-rstudio.html"><i class="fa fa-check"></i><b>6</b> Setting up <code>RStudio</code></a></li>
<li class="chapter" data-level="7" data-path="running-r-code.html"><a href="running-r-code.html"><i class="fa fa-check"></i><b>7</b> Running R code</a>
<ul>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#running-code-in-the-console"><i class="fa fa-check"></i>Running code in the <em>Console</em></a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#use-r-like-a-calculator"><i class="fa fa-check"></i>Use R like a calculator</a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#getting-along-with-r"><i class="fa fa-check"></i>Getting along with <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html"><i class="fa fa-check"></i><b>8</b> Using <code>RStudio</code> &amp; <code>R</code> scripts</a>
<ul>
<li class="chapter" data-level="" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html#r-and-rstudio-whats-the-difference"><i class="fa fa-check"></i><code>R</code> and <code>RStudio</code>: what’s the difference?</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html#two-minute-tour-of-rstudio"><i class="fa fa-check"></i>Two-minute tour of <code>RStudio</code></a></li>
<li class="chapter" data-level="" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html#scripts"><i class="fa fa-check"></i>Scripts</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html#wd"><i class="fa fa-check"></i>Your working directory</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html#typical-workflows"><i class="fa fa-check"></i>Typical workflows</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="variables.html"><a href="variables.html"><i class="fa fa-check"></i><b>9</b> Variables</a>
<ul>
<li class="chapter" data-level="" data-path="variables.html"><a href="variables.html#introducing-variables"><i class="fa fa-check"></i>Introducing variables</a></li>
<li class="chapter" data-level="" data-path="variables.html"><a href="variables.html#types-of-data-in-r"><i class="fa fa-check"></i>Types of data in <code>R</code></a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/databrew/intro-to-data-science" target="blank">DataLab & DataBrew LLC</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">www.datascience.pizza</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="using-rstudio-r-scripts" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Module 8</span> Using <code>RStudio</code> &amp; <code>R</code> scripts<a href="using-rstudio-r-scripts.html#using-rstudio-r-scripts" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="learning-goals-1" class="section level4 unnumbered hasAnchor">
<h4>Learning goals<a href="using-rstudio-r-scripts.html#learning-goals-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Understand the difference between <code>R</code> and <code>RStudio</code></li>
<li>Understand the <code>RStudio</code> working environment and window panes<br />
</li>
<li>Understand what <code>R</code> scripts are, and how to create and save them</li>
<li>Understand how to add comments to your code, and why doing so is important</li>
<li>Understand what a <em>working directory</em> is, and how to use it</li>
<li>Learn basic project work flow</li>
</ul>
</div>
<div id="r-and-rstudio-whats-the-difference" class="section level2 unnumbered hasAnchor">
<h2><code>R</code> and <code>RStudio</code>: what’s the difference?<a href="using-rstudio-r-scripts.html#r-and-rstudio-whats-the-difference" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>These two entities are similar, but it is important to understand how they are different.</p>
<p>In short, <code>R</code> is a open-source (i.e., free) coding language: a powerful programming engine that can be used to do really cool things with data.</p>
<p><code>R Studio</code>, in contrast, is a free <em>user interface</em> that helps you interact with <code>R</code>. If you think of <code>R</code> as an engine, then it helps to think of <code>RStudio</code> as the car that contains it. Like a car,<code>RStudio</code> makes it easier and more comfortable to use the engine to get where you want to go.</p>
<p><code>R Studio</code> needs <code>R</code> in order to function, but <code>R</code> can technically be used on its own outside of <code>RStudio</code> if you want. However, just as a good car mechanic can get an engine to run without being installed within a car, using <code>R</code> on its own is a bit clunky and requires some expertise. For beginners (and everyone else, really), <code>R</code> is just so much more pleasant to use when you are operating it from within <code>RStudio</code>.</p>
<div id="tip-text" class="tip">
<p><strong>Instructor tip:</strong></p>
<p>At this point it may be useful to show the students what opening <code>R</code> looks like on its own (not through <code>RStudio</code>). This helps them see why <code>RStudio</code> is valuable, and it will also help them understand what they did wrong when they accidentally open an <code>.R</code> file in <code>R</code> instead of <code>RStudio</code> – which will happen a lot at first.</p>
</div>
<p><code>RStudio</code> also has increasingly powerful <em>extensions</em> that make <code>R</code> even more useful and versatile in data science. These extensions allow you to use <code>R</code> to make interactive data dashboards, beautiful and reproducible data reports, presentations, websites, and even books. And new features like these are regularly being added to <code>RStudio</code> by its all-star team of data scientists.</p>
<p>That is why this book <em>always</em> uses <code>RStudio</code> when working with <code>R</code>.</p>
</div>
<div id="two-minute-tour-of-rstudio" class="section level2 unnumbered hasAnchor">
<h2>Two-minute tour of <code>RStudio</code><a href="using-rstudio-r-scripts.html#two-minute-tour-of-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When you open <code>RStudio</code> for the first time, you will see a window that looks like the screenshot below.</p>
<p><img src="img/rstudio_windows.png" /></p>
<div id="console" class="section level3 unnumbered hasAnchor">
<h3>Console<a href="using-rstudio-r-scripts.html#console" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You are already acquainted with <code>RStudio</code>’s <em>Console</em>, the window pane on the left that you use to “talk” to <code>R</code>. (See the previous module.)</p>
</div>
<div id="environment" class="section level3 unnumbered hasAnchor">
<h3>Environment<a href="using-rstudio-r-scripts.html#environment" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the top right pane, the <em>Environment</em>, <code>RStudio</code> will maintain a list of all the datasets, variables, and functions that you are using as you work. The next modules will explain what variables and functions are.</p>
</div>
<div id="files-plots-packages-help" class="section level3 unnumbered hasAnchor">
<h3>Files, Plots, Packages, &amp; Help<a href="using-rstudio-r-scripts.html#files-plots-packages-help" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You will use the bottom right pane very often.</p>
<ul>
<li>The <strong>Files</strong> tab lets you see all the files within your <strong>working directory</strong>, which will be explained in the section below.<br />
</li>
<li>The <strong>Plots</strong> tab lets you see the plots you are producing with your code.<br />
</li>
<li>The <strong>Packages</strong> tab lets you see the <em>packages</em> you currently have installed on your computer. Packages are bundles of <code>R</code> functions downloaded from the internet; they will be explained in detail a few modules down the road.<br />
</li>
<li>The <strong>Help</strong> tab is very important! It lets you see <em>documentation</em> (i.e., user’s guides) for the functions you use in your code. Functions will also be explained in detail a few modules down the road.</li>
</ul>
<p>These three panes are useful, but the most useful window pane of all is actually <em>missing</em> when you first open <code>RStudio</code>. This important pane is where you work with <strong>scripts</strong>.</p>
<div id="tip-text" class="tip">
<p><strong>Instructor tip:</strong></p>
<p>We recommend speeding through this section; students will get to know these features as they become necessary. For now, you should move along to creating scripts as soon as you can.</p>
</div>
</div>
</div>
<div id="scripts" class="section level2 unnumbered hasAnchor">
<h2>Scripts<a href="using-rstudio-r-scripts.html#scripts" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Before explaining what scripts are and why they are awesome, let’s start a new script.</p>
<p><strong>To start a new script,</strong> go to the top left icon in the <code>RStudio</code> window, and click on the green plus sign with a blank page behind it:</p>
<p><img src="img/rstudio_newscript.png" /></p>
<p>A dropdown window will appear. Select “R Script”.</p>
<p>A new window pane will then appear in the top left quadrant of your <code>RStudio</code> window:</p>
<p><img src="img/rstudio_scripts.png" />
You now have a blank script to work in!</p>
<p>Now type some simple commands into your script:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="using-rstudio-r-scripts.html#cb46-1" tabindex="-1"></a><span class="dv">2</span>  <span class="sc">+</span> <span class="dv">10</span></span>
<span id="cb46-2"><a href="using-rstudio-r-scripts.html#cb46-2" tabindex="-1"></a><span class="dv">16</span> <span class="sc">*</span> <span class="dv">32</span></span></code></pre></div>
<p>Notice that when you press <code>Enter</code> after each line of code, nothing happens in the <em>Console</em>. In order to send this code to the Console, press <code>Enter + Command</code> at the same time (or <code>Enter + Control</code>, if you are on Windows) for each line of code.</p>
<p>To send both lines of code to the <em>Console</em> at once, select both lines of code and hit <code>Enter + Command</code>.</p>
<p>(To select multiple lines of code, you can (1) click and drag with your mouse or (2) hold down your <code>Shift</code> key while clicking your down arrow key. To select <em>all</em> lines of code, press <code>Command + A</code>.)</p>
<div id="tip-text" class="tip">
<p><strong>Instructor tip:</strong></p>
<p>Get all students to practice running code at this point. The act of typing the commands themselves helps them learn and overcome their hesitation about messing up.</p>
</div>
<p>So let’s build up this script. Add a few more lines to your script, such that your script now looks like this.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="using-rstudio-r-scripts.html#cb47-1" tabindex="-1"></a><span class="dv">2</span>  <span class="sc">+</span> <span class="dv">10</span></span>
<span id="cb47-2"><a href="using-rstudio-r-scripts.html#cb47-2" tabindex="-1"></a><span class="dv">16</span> <span class="sc">*</span> <span class="dv">32</span></span>
<span id="cb47-3"><a href="using-rstudio-r-scripts.html#cb47-3" tabindex="-1"></a><span class="dv">1080</span> <span class="sc">/</span> <span class="dv">360</span></span>
<span id="cb47-4"><a href="using-rstudio-r-scripts.html#cb47-4" tabindex="-1"></a><span class="dv">500</span> <span class="sc">-</span> <span class="dv">600</span></span></code></pre></div>
<p>Run all of these lines of code at once.</p>
<p>Now add <code>10</code> to the first number in each row, and re-run all of the code.</p>
<p>Think about how much more efficient part (B) was thanks to your script! If you had typed all of that directly into your <em>Console</em>, you would have to recall or retype each line individually. That difference builds up when your number of commands grows into the hundreds.</p>
<div id="what-is-an-r-script-and-why-are-scripts-so-awesome" class="section level3 unnumbered hasAnchor">
<h3>What is an <code>R</code> script, and why are scripts so awesome?<a href="using-rstudio-r-scripts.html#what-is-an-r-script-and-why-are-scripts-so-awesome" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An <code>R</code> script is a file where you can keep a record of your code. Just as a script tells actors exactly what to say and when to say it, an <code>R</code> script tells <code>R</code> exactly what code to run, and in what order to run it.</p>
<p>When working with R, you will almost always type your code into a script first, <em>then</em> send it to the <em>Console</em>. You can run your code immediately using <code>Enter + Command</code>, but you also have a script of what you have done so that you can run the exact same code at a later time</p>
<p>To understand why <code>R</code> scripts are so awesome, consider a typical workflow in <em>Excel</em> of <em>GoogleSheets</em>. You open a big complicated spreadsheet, spend hours making changes, and save your changes frequently throughout your work session.</p>
<p>The main disadvantages of this workflow are that:</p>
<ol style="list-style-type: decimal">
<li><p>There is no detailed record of the changes you have made. You cannot prove that you have made changes correctly. You cannot pass the original dataset to someone else and ask them to revise it in the same way you have. (Nor would you want to, since making all those changes was so time-consuming!) Nor could you take a different dataset and guarantee that you are able to apply the exact same changes that you applied to the first. In other words, your work is not reproducible.</p></li>
<li><p>Making those changes is labor-intensive! Rather than spend time manually making changes to a single spreadsheet, it would be better to devote that energy to writing <code>R</code> code that makes those changes for you. That code could be run in this one case, but it could also be run at any later time, or easily modified to make similar changes to other spreadsheets.</p></li>
<li><p>Unless you are an advanced <em>Excel</em> programmer, you are probably modifying your original dataset, which is always dangerous and a big No-No in data science. Each time you save your work in <em>Excel</em> or <em>GoogleSheets</em> (which automatically saves each change you make), the original spreadsheet file gets replaced by the updated version. But if you brought your dataset into <code>R</code> instead, and modified it using an <code>R</code> script, then you leave the raw data alone and keep it safe. (Sure, you can always save different versions of your Excel file, but then you run the risk of mixing up versions and getting confused.)</p></li>
</ol>
<div id="tip-text" class="tip">
<p><strong>Instructor tip:</strong></p>
<p>Consider telling a story from your own work life before you discovered R scripts. For example: receiving versions of Excel files named DATA-final-final-final.xlsx, because tiny changes are inevitably discovered after you try to finalize a data file. Then you work all weekend on an analysis using that data, only to discover you were using the WRONG version of the data!</p>
</div>
<p>Working with <code>R</code> scripts allows you to avoid all of these pitfalls. When you write an <code>R</code> script, you are making your work ….</p>
<ul>
<li><p><strong>Efficient.</strong> Once you get comfortable writing <code>R</code> code, you will be able to write scripts in a few minutes. Those scripts can modify datasets within seconds (or less) in ways that would take hours (or years) to carry out manually in <em>Excel</em> or <em>GoogleSheets</em>.</p></li>
<li><p><strong>Reproducible.</strong> Once you have written an<code>R</code> script, you can reproduce your own work whenever you want to. You can send your script to a colleague so that they can reproduct your work as well. Reproducible work is defensible work.</p></li>
<li><p><strong>Low-risk.</strong> Since your R script does not make any changes to the original data, you are keeping your data safe. It is <em>essential</em> to preserve the sanctity of raw data!</p></li>
</ul>
<p>Note that there is nothing fancy or special about an <code>R</code> script. An <code>R</code> script is a simple text file; that is, it only accepts basic text; you can’t add images or change font style or font size in an <code>R</code> script; just letters, numbers, and your other keyboard keys. The file’s extension, <code>.R</code> tells your computer to interpret that text as <code>R</code> code.</p>
</div>
<div id="commenting-your-code" class="section level3 unnumbered hasAnchor">
<h3>Commenting your code<a href="using-rstudio-r-scripts.html#commenting-your-code" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Another advantage of scripts is that you can include <em>comments</em> throughout your code to explain what you are doing and why. A <em>comment</em> is just a part of your script that is useful to you but that is ignored by <code>R</code>.</p>
<p>To add comments to your code, use the hashtag symbol (<code>#</code>). Any text following a <code>#</code> will be ignored by <code>R</code>.</p>
<p>Here is the script above, now with comments added:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="using-rstudio-r-scripts.html#cb48-1" tabindex="-1"></a><span class="co"># Define variable x</span></span>
<span id="cb48-2"><a href="using-rstudio-r-scripts.html#cb48-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">2</span> </span>
<span id="cb48-3"><a href="using-rstudio-r-scripts.html#cb48-3" tabindex="-1"></a>x</span>
<span id="cb48-4"><a href="using-rstudio-r-scripts.html#cb48-4" tabindex="-1"></a></span>
<span id="cb48-5"><a href="using-rstudio-r-scripts.html#cb48-5" tabindex="-1"></a><span class="co"># Make a new variable, y, based on x</span></span>
<span id="cb48-6"><a href="using-rstudio-r-scripts.html#cb48-6" tabindex="-1"></a>y <span class="ot">&lt;-</span> x<span class="sc">*</span><span class="dv">56</span></span>
<span id="cb48-7"><a href="using-rstudio-r-scripts.html#cb48-7" tabindex="-1"></a></span>
<span id="cb48-8"><a href="using-rstudio-r-scripts.html#cb48-8" tabindex="-1"></a>z <span class="ot">&lt;-</span> y <span class="sc">/</span> <span class="dv">23</span> <span class="co"># Make a third variable, z, based on y</span></span>
<span id="cb48-9"><a href="using-rstudio-r-scripts.html#cb48-9" tabindex="-1"></a> </span>
<span id="cb48-10"><a href="using-rstudio-r-scripts.html#cb48-10" tabindex="-1"></a>x <span class="sc">+</span> y <span class="sc">+</span> z <span class="co"># Now get the sum of all three variables</span></span></code></pre></div>
<p>Adding comments can be more work, but in the end it saves you time and makes your code more effective. Comments might not seem necessary in the moment, but it is amazing how helpful they are when you come back to your code the next day. Frequent and helpful comments make the difference between good and great code. Comment early, comment often!</p>
<p>You can also use lines of hashtags to visually organize your code. For example:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="using-rstudio-r-scripts.html#cb49-1" tabindex="-1"></a><span class="do">##############################################</span></span>
<span id="cb49-2"><a href="using-rstudio-r-scripts.html#cb49-2" tabindex="-1"></a><span class="co"># Setup</span></span>
<span id="cb49-3"><a href="using-rstudio-r-scripts.html#cb49-3" tabindex="-1"></a><span class="do">##############################################</span></span>
<span id="cb49-4"><a href="using-rstudio-r-scripts.html#cb49-4" tabindex="-1"></a></span>
<span id="cb49-5"><a href="using-rstudio-r-scripts.html#cb49-5" tabindex="-1"></a><span class="co"># Define variable x</span></span>
<span id="cb49-6"><a href="using-rstudio-r-scripts.html#cb49-6" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">2</span> </span>
<span id="cb49-7"><a href="using-rstudio-r-scripts.html#cb49-7" tabindex="-1"></a>x</span>
<span id="cb49-8"><a href="using-rstudio-r-scripts.html#cb49-8" tabindex="-1"></a></span>
<span id="cb49-9"><a href="using-rstudio-r-scripts.html#cb49-9" tabindex="-1"></a><span class="co"># Make a new variable, y, based on x</span></span>
<span id="cb49-10"><a href="using-rstudio-r-scripts.html#cb49-10" tabindex="-1"></a>y <span class="ot">&lt;-</span> x<span class="sc">*</span><span class="dv">56</span></span>
<span id="cb49-11"><a href="using-rstudio-r-scripts.html#cb49-11" tabindex="-1"></a></span>
<span id="cb49-12"><a href="using-rstudio-r-scripts.html#cb49-12" tabindex="-1"></a>z <span class="ot">&lt;-</span> y <span class="sc">/</span> <span class="dv">23</span> <span class="co"># Make a third variable, z, based on y</span></span>
<span id="cb49-13"><a href="using-rstudio-r-scripts.html#cb49-13" tabindex="-1"></a> </span>
<span id="cb49-14"><a href="using-rstudio-r-scripts.html#cb49-14" tabindex="-1"></a></span>
<span id="cb49-15"><a href="using-rstudio-r-scripts.html#cb49-15" tabindex="-1"></a><span class="do">##############################################</span></span>
<span id="cb49-16"><a href="using-rstudio-r-scripts.html#cb49-16" tabindex="-1"></a><span class="co"># Get result</span></span>
<span id="cb49-17"><a href="using-rstudio-r-scripts.html#cb49-17" tabindex="-1"></a><span class="do">##############################################</span></span>
<span id="cb49-18"><a href="using-rstudio-r-scripts.html#cb49-18" tabindex="-1"></a></span>
<span id="cb49-19"><a href="using-rstudio-r-scripts.html#cb49-19" tabindex="-1"></a>x <span class="sc">+</span> y <span class="sc">+</span> z <span class="co"># Now get the sum of all three variables</span></span></code></pre></div>
<p>This might not seem necessary with a 5-line script, but adding visual breaks to your code becomes immensely helpful when your code grows to be hundreds of lines long.</p>
</div>
<div id="saving-your-work" class="section level3 unnumbered hasAnchor">
<h3>Saving your work<a href="using-rstudio-r-scripts.html#saving-your-work" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong><code>R</code> scripts are only useful if you save them!</strong> Unlike working with <em>GoogleDocs</em> or <em>GoogleSheets</em>, <code>R</code> will not automatically save your changes; you have to do that yourself. (This is inconvenient, but it is also safer; most of coding is trial and error, and sometimes you want to be careful about what is saved.)</p>
<div id="tip-text" class="tip">
<p><strong>Instructor tip:</strong></p>
<p>Having grown up in the age of GoogleDocs, many students may not be familiar with what computer files are, and may not even know that their computer operates using directories of folders. It would be useful to open up File Explorer on your demo screen and show them how these directories work.</p>
</div>
<p><strong>Step 1: Decide where to save your work.</strong> The folder in which you save your <code>R</code> script will be referred to as your <em>working directory</em> (see the next section). For the sake of these tutorials, it will be most convenient to save all of your scripts in a single folder that is in an easily accessed location.</p>
<p><strong>Step 2: In that location, make a new folder named <code>datalab</code></strong>: We suggest making a new folder on your Desktop and naming it <code>datalab</code>, but you can name it whatever you want and place it wherever you want.</p>
<p><strong>Step 3: Save your script in that folder</strong> To save the script you have opened and typed a few lines of code into, press <code>Command + S</code> (or <code>Control + S</code>). Alternatively, go to File &gt; Save. Navigate to the folder you just created and type in a file name that is simple but descriptive. We suggest making a new <code>R</code> script for each module, and naming those scripts according to each module’s name. In this case, we recommend naming your script <code>intro_to_scripts</code>.</p>
<p>(It is good practice to avoid spaces in your file names; it will be essential later on, so good to begin the correct habit now. Start using an underscore, <code>_</code>, instead of a space.)</p>
</div>
</div>
<div id="wd" class="section level2 unnumbered hasAnchor">
<h2>Your working directory<a href="using-rstudio-r-scripts.html#wd" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When you work with data in <code>R</code>, <code>R</code> will need to know where in your computer to look for that data. The folder it looks in is known as your <strong>working directory</strong>.</p>
<p>To find out which folder <code>R</code> is currently using as your working directory, use the function <code>getwd()</code>:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="using-rstudio-r-scripts.html#cb50-1" tabindex="-1"></a><span class="fu">getwd</span>()</span>
<span id="cb50-2"><a href="using-rstudio-r-scripts.html#cb50-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;/home/joebrew/Documents/intro-to-data-science&quot;</span></span></code></pre></div>
<p>Almost always, you want to set your working directory to the folder your <code>R</code> script is in.</p>
<div id="how-to-set-your-working-directory" class="section level3 unnumbered hasAnchor">
<h3>How to set your working directory<a href="using-rstudio-r-scripts.html#how-to-set-your-working-directory" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Whenever you begin a new <code>R</code> script, setting your working directory will be one of the first things you do.</p>
<p>There are three ways to set your working directory:</p>
<ol style="list-style-type: decimal">
<li><strong>Manually without code.</strong> On the top banner in <code>RStudio</code>, go to <em>Session &gt; Set Working Directory &gt; To Source File Location</em>:</li>
</ol>
<p><img src="img/rstudio_setwd.png" />
This action sets your working directory to the same folder that your <code>R</code> script is in. When you do this, you will see that a command has been entered into your <em>Console</em>:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="using-rstudio-r-scripts.html#cb51-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;~/Desktop/datalab&quot;</span>)</span></code></pre></div>
<p>(Note that the filepath may be different on your machine.) This code is using the function <code>setwd()</code>, which is also used in the next option. Go ahead and copy this <code>setwd(...)</code> code and paste it into your script, so it will be easy to use next time.</p>
<ol start="2" style="list-style-type: decimal">
<li><p><strong>Manually with code, using <code>setwd()</code></strong>: You can manually provide the filepath you want to set as your working directory. This option allows you to set your <code>wd</code> to whatever folder you want. The character string within the <code>setwd()</code> command is the path to a folder. The formatting of this string must be exact, otherwise <code>R</code> will throw an error. Use option 1 at first to get a sense of how your computer formats its folder paths. Copy, paste, and modify the output from option 1 in order to type your path correctly.</p></li>
<li><p><strong>Automatically with code</strong>: There is a command you can run that automatically sets your working directory to the folder that your <code>R</code> script is in. This is the most efficient and useful method, in our experience.</p></li>
</ol>
<p>To use this command, you must first install a new package. Run this code:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="using-rstudio-r-scripts.html#cb52-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;rstudioapi&quot;</span>)</span>
<span id="cb52-2"><a href="using-rstudio-r-scripts.html#cb52-2" tabindex="-1"></a><span class="fu">library</span>(rstudioapi)</span></code></pre></div>
<p>For now, you do not need to understand what this code is doing. We will explain packages and the <code>library()</code> function in a later module.</p>
<p>You can now copy, paste, and run this code to set your working directory automatically:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="using-rstudio-r-scripts.html#cb53-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="fu">dirname</span>(rstudioapi<span class="sc">::</span><span class="fu">getActiveDocumentContext</span>()<span class="sc">$</span>path))</span></code></pre></div>
<p>This is a complicated line of code that you need not understand. As long as it works, it works! Confirm that <code>R</code> is using the correct working directory with the command <code>getwd()</code>.</p>
</div>
</div>
<div id="typical-workflows" class="section level2 unnumbered hasAnchor">
<h2>Typical workflows<a href="using-rstudio-r-scripts.html#typical-workflows" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now that you know how to create a script and set your working directory, you are prepared to work on data projects in <code>RStudio</code>.</p>
<p>The workflow for beginning a new data project typically goes like this:</p>
<p><em>In your file explorer…</em></p>
<ol style="list-style-type: decimal">
<li><p><strong>Create a folder for your project</strong> somewhere on your computer. This will become your working directory.</p></li>
<li><p><strong>Create subfolders</strong> within your working directory, if you want. We recommend creating a <code>data</code> subfolder, for keeping data, and a <code>z</code> subfolder, for keeping miscellaneous documents. The goal is to keep your working directory visually simple and organized; ideally, the only files not within subfolders are your <code>R</code> scripts.</p></li>
<li><p><strong>Add data</strong> to your working directory, if you have any.</p></li>
</ol>
<p><em>In <code>RStudio</code> …</em></p>
<ol start="4" style="list-style-type: decimal">
<li><p><strong>Create a new <code>R</code> script.</strong></p></li>
<li><p><strong>Save it</strong> inside your intended working directory.</p></li>
<li><p>At the top of your script, use comments to <strong>add a title, author info, and brief description.</strong></p></li>
<li><p>Add the code to <strong>set your working directory.</strong></p></li>
<li><p><strong>Begin coding!</strong></p></li>
</ol>
<div id="template-r-script" class="section level3 unnumbered hasAnchor">
<h3>Template <code>R</code> script<a href="using-rstudio-r-scripts.html#template-r-script" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here is a template you can use to copy and paste into each new script you create:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="using-rstudio-r-scripts.html#cb54-1" tabindex="-1"></a><span class="do">################################################################################</span></span>
<span id="cb54-2"><a href="using-rstudio-r-scripts.html#cb54-2" tabindex="-1"></a><span class="co"># &lt; Add title here &gt;</span></span>
<span id="cb54-3"><a href="using-rstudio-r-scripts.html#cb54-3" tabindex="-1"></a><span class="do">################################################################################</span></span>
<span id="cb54-4"><a href="using-rstudio-r-scripts.html#cb54-4" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb54-5"><a href="using-rstudio-r-scripts.html#cb54-5" tabindex="-1"></a><span class="co"># &lt; Add brief description here &gt;</span></span>
<span id="cb54-6"><a href="using-rstudio-r-scripts.html#cb54-6" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb54-7"><a href="using-rstudio-r-scripts.html#cb54-7" tabindex="-1"></a><span class="co"># &lt; Author &gt;</span></span>
<span id="cb54-8"><a href="using-rstudio-r-scripts.html#cb54-8" tabindex="-1"></a><span class="co"># Created on &lt;add date here &gt;</span></span>
<span id="cb54-9"><a href="using-rstudio-r-scripts.html#cb54-9" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb54-10"><a href="using-rstudio-r-scripts.html#cb54-10" tabindex="-1"></a><span class="do">################################################################################</span></span>
<span id="cb54-11"><a href="using-rstudio-r-scripts.html#cb54-11" tabindex="-1"></a><span class="co"># Set working directory</span></span>
<span id="cb54-12"><a href="using-rstudio-r-scripts.html#cb54-12" tabindex="-1"></a><span class="fu">setwd</span>(<span class="fu">dirname</span>(rstudioapi<span class="sc">::</span><span class="fu">getActiveDocumentContext</span>()<span class="sc">$</span>path))</span>
<span id="cb54-13"><a href="using-rstudio-r-scripts.html#cb54-13" tabindex="-1"></a></span>
<span id="cb54-14"><a href="using-rstudio-r-scripts.html#cb54-14" tabindex="-1"></a><span class="do">################################################################################</span></span>
<span id="cb54-15"><a href="using-rstudio-r-scripts.html#cb54-15" tabindex="-1"></a><span class="do">################################################################################</span></span>
<span id="cb54-16"><a href="using-rstudio-r-scripts.html#cb54-16" tabindex="-1"></a><span class="co"># Code goes here</span></span>
<span id="cb54-17"><a href="using-rstudio-r-scripts.html#cb54-17" tabindex="-1"></a></span>
<span id="cb54-18"><a href="using-rstudio-r-scripts.html#cb54-18" tabindex="-1"></a></span>
<span id="cb54-19"><a href="using-rstudio-r-scripts.html#cb54-19" tabindex="-1"></a></span>
<span id="cb54-20"><a href="using-rstudio-r-scripts.html#cb54-20" tabindex="-1"></a></span>
<span id="cb54-21"><a href="using-rstudio-r-scripts.html#cb54-21" tabindex="-1"></a></span>
<span id="cb54-22"><a href="using-rstudio-r-scripts.html#cb54-22" tabindex="-1"></a><span class="do">################################################################################</span></span>
<span id="cb54-23"><a href="using-rstudio-r-scripts.html#cb54-23" tabindex="-1"></a><span class="co"># (end of file)</span></span></code></pre></div>
<div id="exercises-1" class="section level4 unnumbered hasAnchor">
<h4>Exercises<a href="using-rstudio-r-scripts.html#exercises-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong>1</strong> <em>(if not already complete)</em>. Create a working directory for this course. Call it whatever you like, but <code>datalab</code> could work great. Place it somewhere convenient on your computer, such as your Desktop.</p>
<p><strong>2.</strong> Within this working directory, create three new folders: (1) a <code>data</code> folder, which is where you will store the data files we will be using in subsequent modules; (2) a <code>modules</code> folder, which is where you will keep the code you use to work on the material in these modules, and (3) a <code>project</code> folder, which is where you will keep all your work associated with your summer project.</p>
<p><strong>3.</strong> Now follow the <em>Typical Workflow</em> instructions above to create a script. Save it within your <code>modules</code> folder. Name it <code>template.R</code>. Copy and paste the template <code>R</code> code provided above into this file, and save it. This is now a template that you can use to easily create new scripts for this course.</p>
<p><strong>4.</strong> Now make a copy of <code>template.R</code> to stage a script that you can use in the next module. To do so, in <code>RStudio</code> go to the top banner and click <code>File &gt; Save As</code>. Save this new script as <code>variables.R</code> (because the next module is called <em>Variables in <code>R</code></em>).</p>
<p><strong>5.</strong> Modify the code in <code>variables.R</code> so that you are prepared to begin the next module. Change the title, and look ahead to the next module to fill in a brief description. Don’t forget to add your name as the author and specify today’s date.</p>
<p>Boom!</p>
</div>
<div id="other-resources-1" class="section level4 unnumbered hasAnchor">
<h4>Other Resources<a href="using-rstudio-r-scripts.html#other-resources-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><a href="https://www.rstudio.com/resources/webinars/a-gentle-introduction-to-tidy-statistics-in-r/" target="blank">A Gentle Introduction to <code>R</code> from the <code>RStudio</code> team</a></p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="running-r-code.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="variables.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/databrew/intro-to-data-science/edit/master/03c-rstudio_tour.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["intro-to-data-science.pdf", "intro-to-data-science.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
