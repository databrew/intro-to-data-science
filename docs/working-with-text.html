<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 26 Working with text | DataBOOM: the canon for data science</title>
  <meta name="description" content="Data science is just data and science. But it’s better with pizza." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 26 Working with text | DataBOOM: the canon for data science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Data science is just data and science. But it’s better with pizza." />
  <meta name="github-repo" content="databrew/intro-to-data-science" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 26 Working with text | DataBOOM: the canon for data science" />
  
  <meta name="twitter:description" content="Data science is just data and science. But it’s better with pizza." />
  

<meta name="author" content="Databrew" />


<meta name="date" content="2021-05-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
<link rel="prev" href="conditional-statements.html"/>
<link rel="next" href="working-with-dates-times.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DataBOOM: the canon for data science </a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a></li>
<li class="part"><span><b>I Core theory</b></span></li>
<li class="chapter" data-level="2" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html"><i class="fa fa-check"></i><b>2</b> Principles of data science</a></li>
<li class="chapter" data-level="3" data-path="visualizing-data.html"><a href="visualizing-data.html"><i class="fa fa-check"></i><b>3</b> Visualizing data</a></li>
<li class="chapter" data-level="4" data-path="writing-about-data.html"><a href="writing-about-data.html"><i class="fa fa-check"></i><b>4</b> Writing about data</a></li>
<li class="chapter" data-level="5" data-path="data-ethics.html"><a href="data-ethics.html"><i class="fa fa-check"></i><b>5</b> Data ethics</a></li>
<li class="part"><span><b>II Getting started</b></span></li>
<li class="chapter" data-level="6" data-path="setting-up-rstudio.html"><a href="setting-up-rstudio.html"><i class="fa fa-check"></i><b>6</b> Setting up <code>RStudio</code></a></li>
<li class="chapter" data-level="7" data-path="running-r-code.html"><a href="running-r-code.html"><i class="fa fa-check"></i><b>7</b> Running R code</a></li>
<li class="chapter" data-level="8" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html"><i class="fa fa-check"></i><b>8</b> Using <code>RStudio</code> and <code>R</code> scripts</a></li>
<li class="chapter" data-level="9" data-path="variables-in-r.html"><a href="variables-in-r.html"><i class="fa fa-check"></i><b>9</b> Variables in <code>R</code></a></li>
<li class="chapter" data-level="10" data-path="structures-for-data-in-r.html"><a href="structures-for-data-in-r.html"><i class="fa fa-check"></i><b>10</b> Structures for data in <code>R</code></a></li>
<li class="chapter" data-level="11" data-path="calling-functions.html"><a href="calling-functions.html"><i class="fa fa-check"></i><b>11</b> Calling functions</a></li>
<li class="chapter" data-level="12" data-path="base-plots.html"><a href="base-plots.html"><i class="fa fa-check"></i><b>12</b> Base plots</a></li>
<li class="chapter" data-level="13" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>13</b> Packages</a></li>
<li class="chapter" data-level="14" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html"><i class="fa fa-check"></i><b>14</b> Basics of ggplot</a></li>
<li class="part"><span><b>III Working with data in R</b></span></li>
<li class="chapter" data-level="15" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>15</b> Importing data</a></li>
<li class="chapter" data-level="16" data-path="dataframes.html"><a href="dataframes.html"><i class="fa fa-check"></i><b>16</b> Dataframes</a></li>
<li class="chapter" data-level="17" data-path="data-wrangling.html"><a href="data-wrangling.html"><i class="fa fa-check"></i><b>17</b> Data wrangling</a></li>
<li class="chapter" data-level="18" data-path="exporting-data-plots.html"><a href="exporting-data-plots.html"><i class="fa fa-check"></i><b>18</b> Exporting data &amp; plots</a></li>
<li class="part"><span><b>IV Exploring &amp; analyzing data</b></span></li>
<li class="chapter" data-level="19" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>19</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="20" data-path="significance-statistics.html"><a href="significance-statistics.html"><i class="fa fa-check"></i><b>20</b> Significance statistics</a></li>
<li class="chapter" data-level="21" data-path="summarizing-datasets.html"><a href="summarizing-datasets.html"><i class="fa fa-check"></i><b>21</b> Summarizing datasets</a></li>
<li class="part"><span><b>V Your R tool bag</b></span></li>
<li class="chapter" data-level="22" data-path="joining-datasets.html"><a href="joining-datasets.html"><i class="fa fa-check"></i><b>22</b> Joining datasets</a></li>
<li class="chapter" data-level="23" data-path="writing-functions.html"><a href="writing-functions.html"><i class="fa fa-check"></i><b>23</b> Writing functions</a></li>
<li class="chapter" data-level="24" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>24</b> <code>for</code> loops</a></li>
<li class="chapter" data-level="25" data-path="conditional-statements.html"><a href="conditional-statements.html"><i class="fa fa-check"></i><b>25</b> Conditional statements</a></li>
<li class="chapter" data-level="26" data-path="working-with-text.html"><a href="working-with-text.html"><i class="fa fa-check"></i><b>26</b> Working with text</a></li>
<li class="chapter" data-level="27" data-path="working-with-dates-times.html"><a href="working-with-dates-times.html"><i class="fa fa-check"></i><b>27</b> Working with dates &amp; times</a></li>
<li class="chapter" data-level="28" data-path="working-with-factors.html"><a href="working-with-factors.html"><i class="fa fa-check"></i><b>28</b> Working with factors</a></li>
<li class="chapter" data-level="29" data-path="cleaning-messy-data.html"><a href="cleaning-messy-data.html"><i class="fa fa-check"></i><b>29</b> Cleaning messy data</a></li>
<li class="chapter" data-level="30" data-path="matrices-lists.html"><a href="matrices-lists.html"><i class="fa fa-check"></i><b>30</b> Matrices &amp; lists</a></li>
<li class="chapter" data-level="31" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i><b>31</b> Pipes</a></li>
<li class="chapter" data-level="32" data-path="excel-files-googlesheets.html"><a href="excel-files-googlesheets.html"><i class="fa fa-check"></i><b>32</b> Excel files &amp; GoogleSheets</a></li>
<li class="part"><span><b>VI Interactive dashboards</b></span></li>
<li class="chapter" data-level="33" data-path="intro-to-shiny-apps.html"><a href="intro-to-shiny-apps.html"><i class="fa fa-check"></i><b>33</b> Intro to Shiny apps</a></li>
<li class="chapter" data-level="34" data-path="shiny-dashboards.html"><a href="shiny-dashboards.html"><i class="fa fa-check"></i><b>34</b> Shiny dashboards</a></li>
<li class="chapter" data-level="35" data-path="data-entry-apps.html"><a href="data-entry-apps.html"><i class="fa fa-check"></i><b>35</b> Data entry apps</a></li>
<li class="part"><span><b>VII Databases</b></span></li>
<li class="chapter" data-level="36" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>36</b> Introduction</a></li>
<li class="chapter" data-level="37" data-path="platforms.html"><a href="platforms.html"><i class="fa fa-check"></i><b>37</b> Platforms</a></li>
<li class="chapter" data-level="38" data-path="alternatives.html"><a href="alternatives.html"><i class="fa fa-check"></i><b>38</b> Alternatives</a></li>
<li class="chapter" data-level="39" data-path="practices.html"><a href="practices.html"><i class="fa fa-check"></i><b>39</b> Practices</a></li>
<li class="part"><span><b>VIII Documenting your work</b></span></li>
<li class="chapter" data-level="40" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>40</b> R Markdown</a></li>
<li class="chapter" data-level="41" data-path="reproducible-research.html"><a href="reproducible-research.html"><i class="fa fa-check"></i><b>41</b> Reproducible research</a></li>
<li class="chapter" data-level="42" data-path="automated-reporting.html"><a href="automated-reporting.html"><i class="fa fa-check"></i><b>42</b> Automated reporting</a></li>
<li class="chapter" data-level="43" data-path="formatting-standards.html"><a href="formatting-standards.html"><i class="fa fa-check"></i><b>43</b> Formatting standards</a></li>
<li class="chapter" data-level="44" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>44</b> Git</a></li>
<li class="part"><span><b>IX Version control and teamwork</b></span></li>
<li class="chapter" data-level="" data-path="how-most-people-do-version-control.html"><a href="how-most-people-do-version-control.html"><i class="fa fa-check"></i>How most people do version control</a></li>
<li class="chapter" data-level="" data-path="there-is-a-better-way.html"><a href="there-is-a-better-way.html"><i class="fa fa-check"></i>There is a better way</a></li>
<li class="part"><span><b>X Writing about data</b></span></li>
<li class="chapter" data-level="" data-path="types-of-writing.html"><a href="types-of-writing.html"><i class="fa fa-check"></i>Types of writing</a></li>
<li class="chapter" data-level="45" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html"><i class="fa fa-check"></i><b>45</b> Sections of a report</a></li>
<li class="chapter" data-level="46" data-path="elements-of-structure-style.html"><a href="elements-of-structure-style.html"><i class="fa fa-check"></i><b>46</b> Elements of structure &amp; style</a></li>
<li class="part"><span><b>XI Creating websites</b></span></li>
<li class="part"><span><b>XII Advanced skills</b></span></li>
<li class="chapter" data-level="47" data-path="mapping.html"><a href="mapping.html"><i class="fa fa-check"></i><b>47</b> Mapping</a></li>
<li class="chapter" data-level="48" data-path="geographic-computing-gis.html"><a href="geographic-computing-gis.html"><i class="fa fa-check"></i><b>48</b> Geographic computing &amp; GIS</a></li>
<li class="chapter" data-level="49" data-path="statistical-modeling.html"><a href="statistical-modeling.html"><i class="fa fa-check"></i><b>49</b> Statistical modeling</a></li>
<li class="chapter" data-level="50" data-path="apply-family.html"><a href="apply-family.html"><i class="fa fa-check"></i><b>50</b> Apply family</a></li>
<li class="chapter" data-level="51" data-path="randomization-statistics.html"><a href="randomization-statistics.html"><i class="fa fa-check"></i><b>51</b> Randomization statistics</a></li>
<li class="chapter" data-level="52" data-path="iterative-simulations.html"><a href="iterative-simulations.html"><i class="fa fa-check"></i><b>52</b> Iterative simulations</a></li>
<li class="chapter" data-level="53" data-path="image-analysis.html"><a href="image-analysis.html"><i class="fa fa-check"></i><b>53</b> Image analysis</a></li>
<li class="chapter" data-level="54" data-path="machine-learning.html"><a href="machine-learning.html"><i class="fa fa-check"></i><b>54</b> Machine learning</a></li>
<li class="chapter" data-level="55" data-path="template.html"><a href="template.html"><i class="fa fa-check"></i><b>55</b> Template</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/databrew/intro-to-data-science" target="blank">Databrew LLC</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><code>DataBOOM</code>: the canon for data science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="working-with-text" class="section level1">
<h1><span class="header-section-number">Module 26</span> Working with text</h1>
<div id="learning-goals-14" class="section level2 unnumbered">
<h2>Learning goals</h2>
<ul>
<li>Learn to apply the most common <code>R</code> tools for working with text.</li>
</ul>
</div>
<div id="basics-1" class="section level2 unnumbered">
<h2>Basics</h2>
<p>If you do not learn how to edit and transform text-based fields within datasets, you will quickly get stuck in <code>R</code>. Think of dates, GPS coordinates, user IDs, group names, plot labels, <em>etc.</em> All of these forms of data can contain non-numeric text. Becoming comfortable working with text in <code>R</code> is an essential part of your <code>R</code> toolbag.</p>
<p>Here we will present the most common functions for working with text. Remember that <code>R</code> has a special object class for text, known to as <strong>character</strong> class, and that character objects are often referred to as <strong>strings</strong>.</p>
<p>Most of these functions come pre-installed in <code>R</code>. However, several of the tools we will show here (as well as many other useful tools that we will not detail here) come from the <strong><code>stringr</code> package</strong>. Go ahead an install <code>stringr</code> and load it using <code>library()</code>.</p>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb435-1"><a href="working-with-text.html#cb435-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;stringr&quot;</span>)</span>
<span id="cb435-2"><a href="working-with-text.html#cb435-2"></a><span class="kw">library</span>(stringr)</span></code></pre></div>
</div>
<div id="common-tools" class="section level2 unnumbered">
<h2>Common tools</h2>
<p><strong><code>as.character()</code></strong>: converts a non-character object into a character string.</p>
<div class="sourceCode" id="cb436"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb436-1"><a href="working-with-text.html#cb436-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb436-2"><a href="working-with-text.html#cb436-2"></a><span class="kw">as.character</span>(x)</span></code></pre></div>
<pre><code>[1] &quot;1&quot; &quot;2&quot; &quot;3&quot;</code></pre>
<div class="sourceCode" id="cb438"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb438-1"><a href="working-with-text.html#cb438-1"></a>x &lt;-<span class="st"> </span><span class="kw">as.factor</span>(<span class="kw">c</span>(<span class="st">&quot;group1&quot;</span>,<span class="st">&quot;group2&quot;</span>,<span class="st">&quot;group3&quot;</span>))</span>
<span id="cb438-2"><a href="working-with-text.html#cb438-2"></a><span class="kw">as.character</span>(x)</span></code></pre></div>
<pre><code>[1] &quot;group1&quot; &quot;group2&quot; &quot;group3&quot;</code></pre>
<p>This can be particularly useful when trying to resolve problems caused by factors. One common issue occurs when <code>R</code> mistakes a set of numbers as a set of factors. Using <code>as.character()</code> can set things right:</p>
<div class="sourceCode" id="cb440"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb440-1"><a href="working-with-text.html#cb440-1"></a>x &lt;-<span class="st"> </span><span class="kw">as.factor</span>(<span class="kw">c</span>(<span class="dv">18</span>,<span class="dv">19</span>,<span class="dv">20</span>))</span>
<span id="cb440-2"><a href="working-with-text.html#cb440-2"></a>x</span></code></pre></div>
<pre><code>[1] 18 19 20
Levels: 18 19 20</code></pre>
<div class="sourceCode" id="cb442"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb442-1"><a href="working-with-text.html#cb442-1"></a><span class="co"># If you try to convert straight to numeric, it does not work:</span></span>
<span id="cb442-2"><a href="working-with-text.html#cb442-2"></a><span class="kw">as.numeric</span>(x)</span></code></pre></div>
<pre><code>[1] 1 2 3</code></pre>
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb444-1"><a href="working-with-text.html#cb444-1"></a><span class="co"># So convert to character first</span></span>
<span id="cb444-2"><a href="working-with-text.html#cb444-2"></a><span class="kw">as.numeric</span>(<span class="kw">as.character</span>(x))</span></code></pre></div>
<pre><code>[1] 18 19 20</code></pre>
<p><strong><code>paste()</code></strong> and <strong><code>paste0()</code></strong> combines two ore more strings together into a single object:</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb446-1"><a href="working-with-text.html#cb446-1"></a>i &lt;-<span class="st"> </span><span class="dv">10</span></span>
<span id="cb446-2"><a href="working-with-text.html#cb446-2"></a>n &lt;-<span class="st"> </span><span class="dv">96</span></span>
<span id="cb446-3"><a href="working-with-text.html#cb446-3"></a>file_name &lt;-<span class="st"> &quot;this_file.csv&quot;</span></span>
<span id="cb446-4"><a href="working-with-text.html#cb446-4"></a></span>
<span id="cb446-5"><a href="working-with-text.html#cb446-5"></a><span class="kw">paste</span>(i,<span class="st">&quot;of&quot;</span>,n,<span class="st">&quot;: Processing&quot;</span>,file_name,<span class="st">&quot;. . . &quot;</span>) <span class="co"># paste assumes each object is separated by &quot; &quot;.</span></span></code></pre></div>
<pre><code>[1] &quot;10 of 96 : Processing this_file.csv . . . &quot;</code></pre>
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb448-1"><a href="working-with-text.html#cb448-1"></a><span class="kw">paste0</span>(i,<span class="st">&quot;of&quot;</span>,n,<span class="st">&quot;: Processing&quot;</span>,file_name,<span class="st">&quot;. . . &quot;</span>) <span class="co"># paste0 assumes no space between objects.</span></span></code></pre></div>
<pre><code>[1] &quot;10of96: Processingthis_file.csv. . . &quot;</code></pre>
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb450-1"><a href="working-with-text.html#cb450-1"></a><span class="kw">paste0</span>(i,<span class="st">&quot; of &quot;</span>,n,<span class="st">&quot;: Processing &quot;</span>,file_name,<span class="st">&quot; . . . &quot;</span>) <span class="co"># this paste0 version matches the initial format</span></span></code></pre></div>
<pre><code>[1] &quot;10 of 96: Processing this_file.csv . . . &quot;</code></pre>
<p>You can also use <code>paste()</code> to <code>collapse</code> multiple objects into a single string.</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb452-1"><a href="working-with-text.html#cb452-1"></a>x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb452-2"><a href="working-with-text.html#cb452-2"></a><span class="kw">paste</span>(x,<span class="dt">collapse=</span><span class="st">&quot;-&quot;</span>)</span></code></pre></div>
<pre><code>[1] &quot;1-2-3-4-5-6-7-8-9-10&quot;</code></pre>
<p><strong><code>tolower()</code></strong> and <strong><code>toupper()</code></strong> forces all text in a string to lower case or upper case, respectively:</p>
<div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb454-1"><a href="working-with-text.html#cb454-1"></a>x &lt;-<span class="st"> &quot;That Tree Is Far Away.&quot;</span></span>
<span id="cb454-2"><a href="working-with-text.html#cb454-2"></a><span class="kw">tolower</span>(x)</span></code></pre></div>
<pre><code>[1] &quot;that tree is far away.&quot;</code></pre>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb456-1"><a href="working-with-text.html#cb456-1"></a><span class="kw">toupper</span>(x)</span></code></pre></div>
<pre><code>[1] &quot;THAT TREE IS FAR AWAY.&quot;</code></pre>
<p><strong><code>nchar()</code></strong> returns the number of characters within a string:</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb458-1"><a href="working-with-text.html#cb458-1"></a>x &lt;-<span class="st"> &quot;That Tree Is Far Away.&quot;</span></span>
<span id="cb458-2"><a href="working-with-text.html#cb458-2"></a><span class="kw">nchar</span>(x)</span></code></pre></div>
<pre><code>[1] 22</code></pre>
<p><strong><code>substr()</code></strong> trims a string according to a start and end character position:</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb460-1"><a href="working-with-text.html#cb460-1"></a>dates &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;2021-03-01&quot;</span>,<span class="st">&quot;2021-03-02&quot;</span>,<span class="st">&quot;2021-03-03&quot;</span>)</span>
<span id="cb460-2"><a href="working-with-text.html#cb460-2"></a><span class="kw">substr</span>(dates,<span class="dv">1</span>,<span class="dv">4</span>) <span class="co"># years</span></span></code></pre></div>
<pre><code>[1] &quot;2021&quot; &quot;2021&quot; &quot;2021&quot;</code></pre>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb462-1"><a href="working-with-text.html#cb462-1"></a><span class="kw">substr</span>(dates,<span class="dv">6</span>,<span class="dv">7</span>) <span class="co"># months</span></span></code></pre></div>
<pre><code>[1] &quot;03&quot; &quot;03&quot; &quot;03&quot;</code></pre>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb464-1"><a href="working-with-text.html#cb464-1"></a><span class="kw">substr</span>(dates,<span class="dv">9</span>,<span class="dv">10</span>) <span class="co"># days</span></span></code></pre></div>
<pre><code>[1] &quot;01&quot; &quot;02&quot; &quot;03&quot;</code></pre>
<p><strong><code>grep()</code></strong> returns the elements in a character vector that contain a given pattern:</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb466-1"><a href="working-with-text.html#cb466-1"></a>years &lt;-<span class="st"> </span><span class="dv">1900</span><span class="op">:</span><span class="dv">1999</span></span>
<span id="cb466-2"><a href="working-with-text.html#cb466-2"></a></span>
<span id="cb466-3"><a href="working-with-text.html#cb466-3"></a><span class="co"># Which elements correspodn to the 1980s?</span></span>
<span id="cb466-4"><a href="working-with-text.html#cb466-4"></a>eighties &lt;-<span class="st"> </span><span class="kw">grep</span>(<span class="st">&quot;198&quot;</span>,years)</span>
<span id="cb466-5"><a href="working-with-text.html#cb466-5"></a></span>
<span id="cb466-6"><a href="working-with-text.html#cb466-6"></a>years[eighties]</span></code></pre></div>
<pre><code> [1] 1980 1981 1982 1983 1984 1985 1986 1987 1988 1989</code></pre>
<p><strong><code>gsub()</code></strong> replaces a given pattern with another in a character vector.</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb468-1"><a href="working-with-text.html#cb468-1"></a>dates &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;2021-03-01&quot;</span>,<span class="st">&quot;2021-03-02&quot;</span>,<span class="st">&quot;2021-03-03&quot;</span>)</span>
<span id="cb468-2"><a href="working-with-text.html#cb468-2"></a><span class="kw">gsub</span>(<span class="st">&quot;-&quot;</span>,<span class="st">&quot;/&quot;</span>,dates)</span></code></pre></div>
<pre><code>[1] &quot;2021/03/01&quot; &quot;2021/03/02&quot; &quot;2021/03/03&quot;</code></pre>
<p><strong><code>stringr::str_pad()</code></strong>: standardize the lengths of strings by “padding” it (e.g., with zeroes) :</p>
<div class="sourceCode" id="cb470"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb470-1"><a href="working-with-text.html#cb470-1"></a>days &lt;-<span class="st"> </span><span class="kw">as.character</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">15</span>)</span>
<span id="cb470-2"><a href="working-with-text.html#cb470-2"></a>days</span></code></pre></div>
<pre><code> [1] &quot;1&quot;  &quot;2&quot;  &quot;3&quot;  &quot;4&quot;  &quot;5&quot;  &quot;6&quot;  &quot;7&quot;  &quot;8&quot;  &quot;9&quot;  &quot;10&quot; &quot;11&quot; &quot;12&quot; &quot;13&quot; &quot;14&quot; &quot;15&quot;</code></pre>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb472-1"><a href="working-with-text.html#cb472-1"></a>stringr<span class="op">::</span><span class="kw">str_pad</span>(days,<span class="dt">width=</span><span class="dv">2</span>,<span class="dt">side=</span><span class="st">&quot;left&quot;</span>,<span class="dt">pad=</span><span class="st">&quot;0&quot;</span>)</span></code></pre></div>
<pre><code> [1] &quot;01&quot; &quot;02&quot; &quot;03&quot; &quot;04&quot; &quot;05&quot; &quot;06&quot; &quot;07&quot; &quot;08&quot; &quot;09&quot; &quot;10&quot; &quot;11&quot; &quot;12&quot; &quot;13&quot; &quot;14&quot; &quot;15&quot;</code></pre>
<p><strong><code>stringr::str_split()</code></strong>: split a string into several strings at the occurrence of a specified character.</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb474-1"><a href="working-with-text.html#cb474-1"></a>dates &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;2021-03-01&quot;</span>,<span class="st">&quot;2021-03-02&quot;</span>,<span class="st">&quot;2021-03-03&quot;</span>)</span>
<span id="cb474-2"><a href="working-with-text.html#cb474-2"></a>splits &lt;-<span class="st"> </span>stringr<span class="op">::</span><span class="kw">str_split</span>(dates,<span class="st">&quot;-&quot;</span>)</span>
<span id="cb474-3"><a href="working-with-text.html#cb474-3"></a>splits</span></code></pre></div>
<pre><code>[[1]]
[1] &quot;2021&quot; &quot;03&quot;   &quot;01&quot;  

[[2]]
[1] &quot;2021&quot; &quot;03&quot;   &quot;02&quot;  

[[3]]
[1] &quot;2021&quot; &quot;03&quot;   &quot;03&quot;  </code></pre>
<p>This function returns a <em>list</em> for every element in the original vector. A common need is to retrieve one item from each of the element in this list. For example, let’s say you are trying to retrieve the months of each element in the <code>dates</code> vector. The list structure makes this tricky to retrieve. Here’s the way to do it by drawing upon the <code>apply()</code> family of functions:</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="working-with-text.html#cb476-1"></a><span class="kw">sapply</span>(splits, <span class="st">&quot;[[&quot;</span>, <span class="dv">2</span>) <span class="co"># Months</span></span></code></pre></div>
<pre><code>[1] &quot;03&quot; &quot;03&quot; &quot;03&quot;</code></pre>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb478-1"><a href="working-with-text.html#cb478-1"></a><span class="co"># now get years and days</span></span>
<span id="cb478-2"><a href="working-with-text.html#cb478-2"></a><span class="kw">sapply</span>(splits, <span class="st">&quot;[[&quot;</span>, <span class="dv">1</span>) <span class="co"># years</span></span></code></pre></div>
<pre><code>[1] &quot;2021&quot; &quot;2021&quot; &quot;2021&quot;</code></pre>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb480-1"><a href="working-with-text.html#cb480-1"></a><span class="kw">sapply</span>(splits, <span class="st">&quot;[[&quot;</span>, <span class="dv">3</span>) <span class="co"># days</span></span></code></pre></div>
<pre><code>[1] &quot;01&quot; &quot;02&quot; &quot;03&quot;</code></pre>
</div>
<div id="review-assignment-10" class="section level2 unnumbered">
<h2>Review assignment</h2>
<p>A. For a given dataset, print informative status update for each iteration in a <code>for</code> loop.</p>
<p>B. Modify the above to only print an update at every integer percentage point (i.e., at 1% and 2% but not at 1.233%, etc.)</p>
<p>C. Your collaborator sends you a dataset containing columns for <code>Date</code>, <code>Latitude</code>, and <code>Longitude</code>. Formatting varies in these fields. Fix it. (can use hw-raw.csv file. - Eric)</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="conditional-statements.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="working-with-dates-times.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/databrew/intro-to-data-science/edit/master/07de-working_with_text.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["intro-to-data-science.pdf", "intro-to-data-science.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
