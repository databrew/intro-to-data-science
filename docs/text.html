<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 23 Working with text | DataBOOM: the canon for data science</title>
  <meta name="description" content="Data science is just data and science. But it’s better with pizza." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 23 Working with text | DataBOOM: the canon for data science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Data science is just data and science. But it’s better with pizza." />
  <meta name="github-repo" content="databrew/intro-to-data-science" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 23 Working with text | DataBOOM: the canon for data science" />
  
  <meta name="twitter:description" content="Data science is just data and science. But it’s better with pizza." />
  

<meta name="author" content="Databrew" />


<meta name="date" content="2021-06-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
<link rel="prev" href="conditional-statements.html"/>
<link rel="next" href="working-with-dates-times.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DataBOOM: the canon for data science </a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-this-is-and-what-it-isnt"><i class="fa fa-check"></i>What this is, and what it isn’t</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-this-is-for"><i class="fa fa-check"></i>Who this is for</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-you-will-learn"><i class="fa fa-check"></i>What you will learn</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-we-are"><i class="fa fa-check"></i>Who we are</a></li>
</ul></li>
<li class="part"><span><b>I Core theory</b></span></li>
<li class="chapter" data-level="2" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html"><i class="fa fa-check"></i><b>2</b> Principles of data science</a>
<ul>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#what-is-data-science"><i class="fa fa-check"></i>What is data science?</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#data-scientist-vs-data-analysist-vs-data-engineer"><i class="fa fa-check"></i>Data scientist vs data analysist vs data engineer</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#what-is-the-data-life-cycle"><i class="fa fa-check"></i>What is the data life cycle?</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#data-science-in-the-wild"><i class="fa fa-check"></i>Data science ‘in the wild’</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#why-r"><i class="fa fa-check"></i>Why R?</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#the-reproducibility-crisis"><i class="fa fa-check"></i>The reproducibility crisis</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>3</b> Visualizing data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="dataviz.html"><a href="dataviz.html#the-importance-of-visualization"><i class="fa fa-check"></i><b>3.1</b> The importance of visualization</a></li>
<li class="chapter" data-level="3.2" data-path="dataviz.html"><a href="dataviz.html#bad-examples"><i class="fa fa-check"></i><b>3.2</b> Bad examples</a></li>
<li class="chapter" data-level="3.3" data-path="dataviz.html"><a href="dataviz.html#good-exaples"><i class="fa fa-check"></i><b>3.3</b> Good exaples</a></li>
<li class="chapter" data-level="3.4" data-path="dataviz.html"><a href="dataviz.html#quick-video"><i class="fa fa-check"></i><b>3.4</b> Quick video</a></li>
</ul></li>
<li class="part"><span><b>II Getting sta<code>r</code>ted</b></span></li>
<li class="chapter" data-level="4" data-path="setting-up-rstudio.html"><a href="setting-up-rstudio.html"><i class="fa fa-check"></i><b>4</b> Setting up <code>RStudio</code></a></li>
<li class="chapter" data-level="5" data-path="running-r-code.html"><a href="running-r-code.html"><i class="fa fa-check"></i><b>5</b> Running R code</a>
<ul>
<li><a href="running-r-code.html#rstudios-console">RStudio’s <em>Console</em></a></li>
<li><a href="running-r-code.html#running-code-in-the-console">Running code in the <em>Console</em></a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#use-r-like-a-calculator"><i class="fa fa-check"></i>Use R like a calculator</a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#using-operators-in-r"><i class="fa fa-check"></i>Using operators in R</a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#use-built-in-functions-within-r"><i class="fa fa-check"></i>Use built-in functions within R</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html"><i class="fa fa-check"></i><b>6</b> Using <code>RStudio</code> and <code>R</code> scripts</a>
<ul>
<li><a href="using-rstudio-and-r-scripts.html#r-and-rstudio-whats-the-difference"><code>R</code> and <code>RStudio</code>: what’s the difference?</a></li>
<li><a href="using-rstudio-and-r-scripts.html#two-minute-tour-of-rstudio">Two-minute tour of <code>RStudio</code></a></li>
<li class="chapter" data-level="" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html#scripts"><i class="fa fa-check"></i>Scripts</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html#your-working-directory"><i class="fa fa-check"></i>Your working directory</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html#typical-workflows"><i class="fa fa-check"></i>Typical workflows</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="variables-in-r.html"><a href="variables-in-r.html"><i class="fa fa-check"></i><b>7</b> Variables in <code>R</code></a>
<ul>
<li class="chapter" data-level="" data-path="variables-in-r.html"><a href="variables-in-r.html#introducing-variables"><i class="fa fa-check"></i>Introducing variables</a></li>
<li><a href="variables-in-r.html#types-of-data-in-r">Types of data in <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="structures-for-data-in-r.html"><a href="structures-for-data-in-r.html"><i class="fa fa-check"></i><b>8</b> Structures for data in <code>R</code></a>
<ul>
<li class="chapter" data-level="" data-path="structures-for-data-in-r.html"><a href="structures-for-data-in-r.html#introducing-data-structures"><i class="fa fa-check"></i>Introducing data structures</a></li>
<li class="chapter" data-level="" data-path="structures-for-data-in-r.html"><a href="structures-for-data-in-r.html#vectors"><i class="fa fa-check"></i>Vectors</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="calling-functions.html"><a href="calling-functions.html"><i class="fa fa-check"></i><b>9</b> Calling functions</a>
<ul>
<li><a href="calling-functions.html#introducing-r-functions">Introducing <code>R</code> functions</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="subsetting.html"><a href="subsetting.html"><i class="fa fa-check"></i><b>10</b> Subsetting and filtering</a>
<ul>
<li class="chapter" data-level="" data-path="subsetting.html"><a href="subsetting.html#a-quick-review-of-booleans"><i class="fa fa-check"></i>A quick review of booleans</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="base-plots.html"><a href="base-plots.html"><i class="fa fa-check"></i><b>11</b> Base plots</a>
<ul>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#create-a-basic-plot"><i class="fa fa-check"></i>Create a basic plot</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#most-common-types-of-plots"><i class="fa fa-check"></i>Most common types of plots</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#basic-plot-formatting"><i class="fa fa-check"></i>Basic plot formatting</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#plotting-with-data-frames"><i class="fa fa-check"></i>Plotting with data frames</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#next-level-plotting"><i class="fa fa-check"></i>Next-level plotting</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>12</b> Packages</a>
<ul>
<li><a href="packages.html#introducing-r-packages">Introducing <code>R</code> packages</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#finding-the-packages-already-on-your-computer"><i class="fa fa-check"></i>Finding the packages already on your computer</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#installing-a-new-package"><i class="fa fa-check"></i>Installing a new package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#loading-an-installed-package"><i class="fa fa-check"></i>Loading an installed package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#calling-functions-from-a-package"><i class="fa fa-check"></i>Calling functions from a package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#review-the-workflow-for-using-a-package"><i class="fa fa-check"></i>Review: the workflow for using a package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#a-note-on-package-dependencies"><i class="fa fa-check"></i>A note on package dependencies</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#a-note-on-package-versions"><i class="fa fa-check"></i>A note on package versions</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#review-assigment-lets-install-some-packages"><i class="fa fa-check"></i>Review assigment: let’s install some packages</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html"><i class="fa fa-check"></i><b>13</b> Basics of <code>ggplot</code></a>
<ul>
<li class="chapter" data-level="13.1" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#thinking-about-data-visualization"><i class="fa fa-check"></i><b>13.1</b> Thinking about data visualization</a></li>
<li><a href="basics-of-ggplot.html#what-is-ggplot">What is <code>ggplot</code>?</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#the-name-and-concept"><i class="fa fa-check"></i>The name and concept</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#practice"><i class="fa fa-check"></i>Practice</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#scatter-plot"><i class="fa fa-check"></i>Scatter plot</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#barplot"><i class="fa fa-check"></i>Barplot</a></li>
<li class="chapter" data-level="13.2" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#another-example"><i class="fa fa-check"></i><b>13.2</b> Another example</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#exercise"><i class="fa fa-check"></i>Exercise</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#a-practical-example"><i class="fa fa-check"></i>A practical example</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#learning-examples"><i class="fa fa-check"></i>Learning examples</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#other-resources-3"><i class="fa fa-check"></i>Other resources</a></li>
</ul></li>
<li class="part"><span><b>III Basic <code>R</code> workflow</b></span></li>
<li class="chapter" data-level="14" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>14</b> Importing data</a>
<ul>
<li><a href="importing-data.html#csv-files"><code>.csv</code> files</a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#data-format-requirements"><i class="fa fa-check"></i>Data format requirements</a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#reading-in-data"><i class="fa fa-check"></i>Reading in data</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="dataframes.html"><a href="dataframes.html"><i class="fa fa-check"></i><b>15</b> Dataframes</a>
<ul>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#subsetting-exploring-dataframes"><i class="fa fa-check"></i>Subsetting &amp; exploring dataframes</a></li>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#dplyr"><i class="fa fa-check"></i>dplyr</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="exporting-data-plots.html"><a href="exporting-data-plots.html"><i class="fa fa-check"></i><b>16</b> Exporting data &amp; plots</a>
<ul>
<li><a href="exporting-data-plots.html#write.csv"><code>write.csv()</code></a></li>
<li><a href="exporting-data-plots.html#saverds"><code>saveRDS()</code></a></li>
<li><a href="exporting-data-plots.html#pdf-and-png"><code>pdf()</code> and <code>png()</code></a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="exploring-data.html"><a href="exploring-data.html"><i class="fa fa-check"></i><b>17</b> Exploring data</a>
<ul>
<li class="chapter" data-level="" data-path="exploring-data.html"><a href="exploring-data.html#exploring-distributions"><i class="fa fa-check"></i>Exploring distributions</a></li>
<li class="chapter" data-level="" data-path="exploring-data.html"><a href="exploring-data.html#descriptive-statistics"><i class="fa fa-check"></i>Descriptive statistics</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="significance-statistics.html"><a href="significance-statistics.html"><i class="fa fa-check"></i><b>18</b> Significance statistics</a>
<ul>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#p-values"><i class="fa fa-check"></i>p-values</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#tests-for-different-data-types"><i class="fa fa-check"></i>Tests for different data types</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#comparison-tests"><i class="fa fa-check"></i>Comparison tests</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#tests-of-association"><i class="fa fa-check"></i>Tests of association</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#reporting-results"><i class="fa fa-check"></i>Reporting results</a></li>
</ul></li>
<li class="part"><span><b>IV Essential <code>R</code> skills</b></span></li>
<li class="chapter" data-level="19" data-path="joining-datasets.html"><a href="joining-datasets.html"><i class="fa fa-check"></i><b>19</b> Joining datasets</a>
<ul>
<li class="chapter" data-level="" data-path="joining-datasets.html"><a href="joining-datasets.html#joining-the-basics"><i class="fa fa-check"></i>Joining: the basics</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="writing-functions.html"><a href="writing-functions.html"><i class="fa fa-check"></i><b>20</b> Writing functions</a>
<ul>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#first-steps"><i class="fa fa-check"></i>First steps</a></li>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#next-steps"><i class="fa fa-check"></i>Next steps</a></li>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#sourcing-functions"><i class="fa fa-check"></i>Sourcing functions</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>21</b> <code>for</code> loops</a>
<ul>
<li class="chapter" data-level="" data-path="for-loops.html"><a href="for-loops.html#basics"><i class="fa fa-check"></i>Basics</a></li>
<li><a href="for-loops.html#for-loops-in-plots"><code>for</code> loops in plots</a></li>
<li><a href="for-loops.html#using-for-loops-to-process-summarize-data">Using <code>for</code> loops to process &amp; summarize data</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="conditional-statements.html"><a href="conditional-statements.html"><i class="fa fa-check"></i><b>22</b> Conditional statements</a>
<ul>
<li class="chapter" data-level="" data-path="conditional-statements.html"><a href="conditional-statements.html#first-steps-1"><i class="fa fa-check"></i>First steps</a></li>
<li class="chapter" data-level="" data-path="conditional-statements.html"><a href="conditional-statements.html#next-steps-1"><i class="fa fa-check"></i>Next steps</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="text.html"><a href="text.html"><i class="fa fa-check"></i><b>23</b> Working with text</a>
<ul>
<li class="chapter" data-level="" data-path="text.html"><a href="text.html#basics-1"><i class="fa fa-check"></i>Basics</a></li>
<li class="chapter" data-level="" data-path="text.html"><a href="text.html#common-tools"><i class="fa fa-check"></i>Common tools</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="working-with-dates-times.html"><a href="working-with-dates-times.html"><i class="fa fa-check"></i><b>24</b> Working with dates &amp; times</a></li>
<li class="chapter" data-level="25" data-path="working-with-factors.html"><a href="working-with-factors.html"><i class="fa fa-check"></i><b>25</b> Working with factors</a></li>
<li class="chapter" data-level="26" data-path="matrices-lists.html"><a href="matrices-lists.html"><i class="fa fa-check"></i><b>26</b> Matrices &amp; lists</a>
<ul>
<li class="chapter" data-level="" data-path="matrices-lists.html"><a href="matrices-lists.html#lists"><i class="fa fa-check"></i>Lists</a></li>
<li class="chapter" data-level="" data-path="matrices-lists.html"><a href="matrices-lists.html#matrices"><i class="fa fa-check"></i>Matrices</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="cleaning-messy-data.html"><a href="cleaning-messy-data.html"><i class="fa fa-check"></i><b>27</b> Cleaning messy data</a></li>
<li class="chapter" data-level="28" data-path="excel-files-googlesheets.html"><a href="excel-files-googlesheets.html"><i class="fa fa-check"></i><b>28</b> Excel files &amp; GoogleSheets</a></li>
<li class="part"><span><b>V Interactive dashboards</b></span></li>
<li class="chapter" data-level="29" data-path="intro-to-shiny-apps.html"><a href="intro-to-shiny-apps.html"><i class="fa fa-check"></i><b>29</b> Intro to Shiny apps</a></li>
<li class="chapter" data-level="30" data-path="shiny-dashboards.html"><a href="shiny-dashboards.html"><i class="fa fa-check"></i><b>30</b> Shiny dashboards</a></li>
<li class="chapter" data-level="31" data-path="data-entry-apps.html"><a href="data-entry-apps.html"><i class="fa fa-check"></i><b>31</b> Data entry apps</a></li>
<li class="part"><span><b>VI Databases</b></span></li>
<li class="chapter" data-level="32" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>32</b> Introduction</a>
<ul>
<li class="chapter" data-level="32.1" data-path="introduction-1.html"><a href="introduction-1.html#what"><i class="fa fa-check"></i><b>32.1</b> What</a></li>
<li class="chapter" data-level="32.2" data-path="introduction-1.html"><a href="introduction-1.html#why"><i class="fa fa-check"></i><b>32.2</b> Why</a></li>
<li class="chapter" data-level="32.3" data-path="introduction-1.html"><a href="introduction-1.html#when"><i class="fa fa-check"></i><b>32.3</b> When</a></li>
<li class="chapter" data-level="32.4" data-path="introduction-1.html"><a href="introduction-1.html#when-not"><i class="fa fa-check"></i><b>32.4</b> When not</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="platforms.html"><a href="platforms.html"><i class="fa fa-check"></i><b>33</b> Platforms</a>
<ul>
<li class="chapter" data-level="33.1" data-path="platforms.html"><a href="platforms.html#postgresql"><i class="fa fa-check"></i><b>33.1</b> PostgreSQL</a></li>
<li class="chapter" data-level="33.2" data-path="platforms.html"><a href="platforms.html#mysql"><i class="fa fa-check"></i><b>33.2</b> mySQL</a></li>
<li class="chapter" data-level="33.3" data-path="platforms.html"><a href="platforms.html#sqlite"><i class="fa fa-check"></i><b>33.3</b> SQLite</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="alternatives.html"><a href="alternatives.html"><i class="fa fa-check"></i><b>34</b> Alternatives</a>
<ul>
<li class="chapter" data-level="34.1" data-path="alternatives.html"><a href="alternatives.html#nosql"><i class="fa fa-check"></i><b>34.1</b> NoSQL</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="practices.html"><a href="practices.html"><i class="fa fa-check"></i><b>35</b> Practices</a></li>
<li class="part"><span><b>VII Documenting your work</b></span></li>
<li class="chapter" data-level="36" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>36</b> R Markdown</a></li>
<li class="chapter" data-level="37" data-path="reproducible-research.html"><a href="reproducible-research.html"><i class="fa fa-check"></i><b>37</b> Reproducible research</a></li>
<li class="chapter" data-level="38" data-path="automated-reporting.html"><a href="automated-reporting.html"><i class="fa fa-check"></i><b>38</b> Automated reporting</a></li>
<li class="chapter" data-level="39" data-path="formatting-standards.html"><a href="formatting-standards.html"><i class="fa fa-check"></i><b>39</b> Formatting standards</a>
<ul>
<li class="chapter" data-level="39.1" data-path="formatting-standards.html"><a href="formatting-standards.html#tables"><i class="fa fa-check"></i><b>39.1</b> Tables</a></li>
<li class="chapter" data-level="39.2" data-path="formatting-standards.html"><a href="formatting-standards.html#figures"><i class="fa fa-check"></i><b>39.2</b> Figures</a></li>
<li class="chapter" data-level="39.3" data-path="formatting-standards.html"><a href="formatting-standards.html#captions"><i class="fa fa-check"></i><b>39.3</b> Captions</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>40</b> Git</a>
<ul>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#there-is-a-better-way"><i class="fa fa-check"></i>There is a better way</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#what-is-git"><i class="fa fa-check"></i>What is git?</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#why-1"><i class="fa fa-check"></i>Why?</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#get-ready-for-git"><i class="fa fa-check"></i>Get ready for git</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#installation"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#getting-to-know-git-bash"><i class="fa fa-check"></i>Getting to know git bash</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#configuration"><i class="fa fa-check"></i>Configuration</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#github"><i class="fa fa-check"></i>Github</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#a-bit-more-practice"><i class="fa fa-check"></i>A bit more practice</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#advanced-git"><i class="fa fa-check"></i>Advanced git</a></li>
</ul></li>
<li class="part"><span><b>VIII Sharing research</b></span></li>
<li class="chapter" data-level="41" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html"><i class="fa fa-check"></i><b>41</b> Sections of a report</a>
<ul>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#overall-structure"><i class="fa fa-check"></i>Overall structure</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#abstract"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#introduction-2"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#methods"><i class="fa fa-check"></i>Methods</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#results"><i class="fa fa-check"></i>Results</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#discussion"><i class="fa fa-check"></i>Discussion</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#other-elements-of-a-report"><i class="fa fa-check"></i>Other elements of a report</a></li>
</ul></li>
<li class="chapter" data-level="42" data-path="style.html"><a href="style.html"><i class="fa fa-check"></i><b>42</b> Formatting, structure &amp; style</a>
<ul>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#core-principles"><i class="fa fa-check"></i>Core principles</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#further-considerations"><i class="fa fa-check"></i>Further considerations</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#logistics-of-scientific-writing"><i class="fa fa-check"></i>Logistics of scientific writing</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#formatting-tables"><i class="fa fa-check"></i>Formatting tables</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#formatting-figures"><i class="fa fa-check"></i>Formatting figures</a></li>
</ul></li>
<li class="chapter" data-level="43" data-path="presentations.html"><a href="presentations.html"><i class="fa fa-check"></i><b>43</b> Presentations</a></li>
<li class="chapter" data-level="" data-path="creating-websites.html"><a href="creating-websites.html"><i class="fa fa-check"></i>Creating websites</a></li>
<li class="part"><span><b>IX Advanced skills</b></span></li>
<li class="chapter" data-level="44" data-path="mapping.html"><a href="mapping.html"><i class="fa fa-check"></i><b>44</b> Mapping</a></li>
<li class="chapter" data-level="45" data-path="geographic-computing-gis.html"><a href="geographic-computing-gis.html"><i class="fa fa-check"></i><b>45</b> Geographic computing &amp; GIS</a></li>
<li class="chapter" data-level="46" data-path="statistical-modeling.html"><a href="statistical-modeling.html"><i class="fa fa-check"></i><b>46</b> Statistical modeling</a></li>
<li class="chapter" data-level="47" data-path="apply-family.html"><a href="apply-family.html"><i class="fa fa-check"></i><b>47</b> Apply family</a></li>
<li class="chapter" data-level="48" data-path="randomization-statistics.html"><a href="randomization-statistics.html"><i class="fa fa-check"></i><b>48</b> Randomization statistics</a>
<ul>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#basic-idea"><i class="fa fa-check"></i>Basic idea</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#common-use-cases"><i class="fa fa-check"></i>Common use cases</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#review-assignment-12"><i class="fa fa-check"></i>Review assignment</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#c-do-social-bonds-relate-to-kinship"><i class="fa fa-check"></i>(c) Do social bonds relate to kinship?</a></li>
</ul></li>
<li class="chapter" data-level="49" data-path="iterative-simulations.html"><a href="iterative-simulations.html"><i class="fa fa-check"></i><b>49</b> Iterative simulations</a></li>
<li class="chapter" data-level="50" data-path="image-analysis.html"><a href="image-analysis.html"><i class="fa fa-check"></i><b>50</b> Image analysis</a></li>
<li class="chapter" data-level="51" data-path="machine-learning.html"><a href="machine-learning.html"><i class="fa fa-check"></i><b>51</b> Machine learning</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/databrew/intro-to-data-science" target="blank">Databrew LLC</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><code>DataBOOM</code>: the canon for data science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="text" class="section level1" number="23">
<h1><span class="header-section-number">Module 23</span> Working with text</h1>
<div id="learning-goals-18" class="section level4 unnumbered">
<h4>Learning goals</h4>
<ul>
<li>Learn to apply the most common <code>R</code> tools for working with text.</li>
</ul>
</div>
<div id="basics-1" class="section level2 unnumbered">
<h2>Basics</h2>
<p>If you do not learn how to edit and transform text-based fields within datasets, you will quickly get stuck in <code>R</code>. Think of dates, GPS coordinates, user IDs, group names, plot labels, <em>etc.</em> All of these forms of data can contain non-numeric text. Becoming comfortable working with text in <code>R</code> is an essential part of your <code>R</code> toolbag.</p>
<p>Here we will present the most common functions for working with text. Remember that <code>R</code> has a special object class for text, known to as <strong>character</strong> class, and that character objects are often referred to as <strong>strings</strong>.</p>
<p>Most of these functions come pre-installed in <code>R</code>. However, several of the tools we will show here (as well as many other useful tools that we will not detail here) come from the <strong><code>stringr</code> package</strong>. Go ahead an install <code>stringr</code> and load it using <code>library()</code>.</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="text.html#cb318-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;stringr&quot;</span>)</span>
<span id="cb318-2"><a href="text.html#cb318-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span></code></pre></div>
</div>
<div id="common-tools" class="section level2 unnumbered">
<h2>Common tools</h2>
<p><strong><code>as.character()</code></strong>: converts a non-character object into a character string.</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="text.html#cb319-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb319-2"><a href="text.html#cb319-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.character</span>(x)</span>
<span id="cb319-3"><a href="text.html#cb319-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;1&quot;</span> <span class="st">&quot;2&quot;</span> <span class="st">&quot;3&quot;</span></span>
<span id="cb319-4"><a href="text.html#cb319-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb319-5"><a href="text.html#cb319-5" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">c</span>(<span class="st">&quot;group1&quot;</span>,<span class="st">&quot;group2&quot;</span>,<span class="st">&quot;group3&quot;</span>))</span>
<span id="cb319-6"><a href="text.html#cb319-6" aria-hidden="true" tabindex="-1"></a><span class="fu">as.character</span>(x)</span>
<span id="cb319-7"><a href="text.html#cb319-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;group1&quot;</span> <span class="st">&quot;group2&quot;</span> <span class="st">&quot;group3&quot;</span></span></code></pre></div>
<p>This can be particularly useful when trying to resolve problems caused by factors. One common issue occurs when <code>R</code> mistakes a set of numbers as a set of factors. Using <code>as.character()</code> can set things right:</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="text.html#cb320-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">c</span>(<span class="dv">18</span>,<span class="dv">19</span>,<span class="dv">20</span>))</span>
<span id="cb320-2"><a href="text.html#cb320-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb320-3"><a href="text.html#cb320-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">18</span> <span class="dv">19</span> <span class="dv">20</span></span>
<span id="cb320-4"><a href="text.html#cb320-4" aria-hidden="true" tabindex="-1"></a>Levels<span class="sc">:</span> <span class="dv">18</span> <span class="dv">19</span> <span class="dv">20</span></span>
<span id="cb320-5"><a href="text.html#cb320-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb320-6"><a href="text.html#cb320-6" aria-hidden="true" tabindex="-1"></a><span class="co"># If you try to convert straight to numeric, it does not work:</span></span>
<span id="cb320-7"><a href="text.html#cb320-7" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(x)</span>
<span id="cb320-8"><a href="text.html#cb320-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span></span>
<span id="cb320-9"><a href="text.html#cb320-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb320-10"><a href="text.html#cb320-10" aria-hidden="true" tabindex="-1"></a><span class="co"># So convert to character first</span></span>
<span id="cb320-11"><a href="text.html#cb320-11" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="fu">as.character</span>(x))</span>
<span id="cb320-12"><a href="text.html#cb320-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">18</span> <span class="dv">19</span> <span class="dv">20</span></span></code></pre></div>
<p><strong><code>paste()</code></strong> and <strong><code>paste0()</code></strong> combines two ore more strings together into a single object:</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="text.html#cb321-1" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb321-2"><a href="text.html#cb321-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">96</span></span>
<span id="cb321-3"><a href="text.html#cb321-3" aria-hidden="true" tabindex="-1"></a>file_name <span class="ot">&lt;-</span> <span class="st">&quot;this_file.csv&quot;</span></span>
<span id="cb321-4"><a href="text.html#cb321-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-5"><a href="text.html#cb321-5" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(i,<span class="st">&quot;of&quot;</span>,n,<span class="st">&quot;: Processing&quot;</span>,file_name,<span class="st">&quot;. . . &quot;</span>) <span class="co"># paste assumes each object is separated by &quot; &quot;.</span></span>
<span id="cb321-6"><a href="text.html#cb321-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;10 of 96 : Processing this_file.csv . . . &quot;</span></span>
<span id="cb321-7"><a href="text.html#cb321-7" aria-hidden="true" tabindex="-1"></a><span class="fu">paste0</span>(i,<span class="st">&quot;of&quot;</span>,n,<span class="st">&quot;: Processing&quot;</span>,file_name,<span class="st">&quot;. . . &quot;</span>) <span class="co"># paste0 assumes no space between objects.</span></span>
<span id="cb321-8"><a href="text.html#cb321-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;10of96: Processingthis_file.csv. . . &quot;</span></span>
<span id="cb321-9"><a href="text.html#cb321-9" aria-hidden="true" tabindex="-1"></a><span class="fu">paste0</span>(i,<span class="st">&quot; of &quot;</span>,n,<span class="st">&quot;: Processing &quot;</span>,file_name,<span class="st">&quot; . . . &quot;</span>) <span class="co"># this paste0 version matches the initial format</span></span>
<span id="cb321-10"><a href="text.html#cb321-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;10 of 96: Processing this_file.csv . . . &quot;</span></span></code></pre></div>
<p>You can also use <code>paste()</code> to <code>collapse</code> multiple objects into a single string.</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="text.html#cb322-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb322-2"><a href="text.html#cb322-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(x,<span class="at">collapse=</span><span class="st">&quot;-&quot;</span>)</span>
<span id="cb322-3"><a href="text.html#cb322-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;1-2-3-4-5-6-7-8-9-10&quot;</span></span></code></pre></div>
<p><strong><code>tolower()</code></strong> and <strong><code>toupper()</code></strong> forces all text in a string to lower case or upper case, respectively:</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="text.html#cb323-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;That Tree Is Far Away.&quot;</span></span>
<span id="cb323-2"><a href="text.html#cb323-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tolower</span>(x)</span>
<span id="cb323-3"><a href="text.html#cb323-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;that tree is far away.&quot;</span></span>
<span id="cb323-4"><a href="text.html#cb323-4" aria-hidden="true" tabindex="-1"></a><span class="fu">toupper</span>(x)</span>
<span id="cb323-5"><a href="text.html#cb323-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;THAT TREE IS FAR AWAY.&quot;</span></span></code></pre></div>
<p><strong><code>nchar()</code></strong> returns the number of characters within a string:</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="text.html#cb324-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;That Tree Is Far Away.&quot;</span></span>
<span id="cb324-2"><a href="text.html#cb324-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(x)</span>
<span id="cb324-3"><a href="text.html#cb324-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">22</span></span></code></pre></div>
<p><strong><code>substr()</code></strong> trims a string according to a start and end character position:</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="text.html#cb325-1" aria-hidden="true" tabindex="-1"></a>dates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;2021-03-01&quot;</span>,<span class="st">&quot;2021-03-02&quot;</span>,<span class="st">&quot;2021-03-03&quot;</span>)</span>
<span id="cb325-2"><a href="text.html#cb325-2" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(dates,<span class="dv">1</span>,<span class="dv">4</span>) <span class="co"># years</span></span>
<span id="cb325-3"><a href="text.html#cb325-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;2021&quot;</span> <span class="st">&quot;2021&quot;</span> <span class="st">&quot;2021&quot;</span></span>
<span id="cb325-4"><a href="text.html#cb325-4" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(dates,<span class="dv">6</span>,<span class="dv">7</span>) <span class="co"># months</span></span>
<span id="cb325-5"><a href="text.html#cb325-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;03&quot;</span> <span class="st">&quot;03&quot;</span> <span class="st">&quot;03&quot;</span></span>
<span id="cb325-6"><a href="text.html#cb325-6" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(dates,<span class="dv">9</span>,<span class="dv">10</span>) <span class="co"># days</span></span>
<span id="cb325-7"><a href="text.html#cb325-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;01&quot;</span> <span class="st">&quot;02&quot;</span> <span class="st">&quot;03&quot;</span></span></code></pre></div>
<p><strong><code>grep()</code></strong> returns the elements in a character vector that contain a given pattern:</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb326-1"><a href="text.html#cb326-1" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="dv">1900</span><span class="sc">:</span><span class="dv">1999</span></span>
<span id="cb326-2"><a href="text.html#cb326-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb326-3"><a href="text.html#cb326-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Which elements correspodn to the 1980s?</span></span>
<span id="cb326-4"><a href="text.html#cb326-4" aria-hidden="true" tabindex="-1"></a>eighties <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">&quot;198&quot;</span>,years)</span>
<span id="cb326-5"><a href="text.html#cb326-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb326-6"><a href="text.html#cb326-6" aria-hidden="true" tabindex="-1"></a>years[eighties]</span>
<span id="cb326-7"><a href="text.html#cb326-7" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="dv">1980</span> <span class="dv">1981</span> <span class="dv">1982</span> <span class="dv">1983</span> <span class="dv">1984</span> <span class="dv">1985</span> <span class="dv">1986</span> <span class="dv">1987</span> <span class="dv">1988</span> <span class="dv">1989</span></span></code></pre></div>
<p><strong><code>gsub()</code></strong> replaces a given pattern with another in a character vector.</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="text.html#cb327-1" aria-hidden="true" tabindex="-1"></a>dates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;2021-03-01&quot;</span>,<span class="st">&quot;2021-03-02&quot;</span>,<span class="st">&quot;2021-03-03&quot;</span>)</span>
<span id="cb327-2"><a href="text.html#cb327-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;-&quot;</span>,<span class="st">&quot;/&quot;</span>,dates)</span>
<span id="cb327-3"><a href="text.html#cb327-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;2021/03/01&quot;</span> <span class="st">&quot;2021/03/02&quot;</span> <span class="st">&quot;2021/03/03&quot;</span></span></code></pre></div>
<p><strong><code>stringr::str_pad()</code></strong>: standardize the lengths of strings by “padding” it (e.g., with zeroes) :</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="text.html#cb328-1" aria-hidden="true" tabindex="-1"></a>days <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>)</span>
<span id="cb328-2"><a href="text.html#cb328-2" aria-hidden="true" tabindex="-1"></a>days</span>
<span id="cb328-3"><a href="text.html#cb328-3" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;1&quot;</span>  <span class="st">&quot;2&quot;</span>  <span class="st">&quot;3&quot;</span>  <span class="st">&quot;4&quot;</span>  <span class="st">&quot;5&quot;</span>  <span class="st">&quot;6&quot;</span>  <span class="st">&quot;7&quot;</span>  <span class="st">&quot;8&quot;</span>  <span class="st">&quot;9&quot;</span>  <span class="st">&quot;10&quot;</span> <span class="st">&quot;11&quot;</span> <span class="st">&quot;12&quot;</span> <span class="st">&quot;13&quot;</span> <span class="st">&quot;14&quot;</span> <span class="st">&quot;15&quot;</span></span>
<span id="cb328-4"><a href="text.html#cb328-4" aria-hidden="true" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_pad</span>(days,<span class="at">width=</span><span class="dv">2</span>,<span class="at">side=</span><span class="st">&quot;left&quot;</span>,<span class="at">pad=</span><span class="st">&quot;0&quot;</span>)</span>
<span id="cb328-5"><a href="text.html#cb328-5" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;01&quot;</span> <span class="st">&quot;02&quot;</span> <span class="st">&quot;03&quot;</span> <span class="st">&quot;04&quot;</span> <span class="st">&quot;05&quot;</span> <span class="st">&quot;06&quot;</span> <span class="st">&quot;07&quot;</span> <span class="st">&quot;08&quot;</span> <span class="st">&quot;09&quot;</span> <span class="st">&quot;10&quot;</span> <span class="st">&quot;11&quot;</span> <span class="st">&quot;12&quot;</span> <span class="st">&quot;13&quot;</span> <span class="st">&quot;14&quot;</span> <span class="st">&quot;15&quot;</span></span></code></pre></div>
<p><strong><code>stringr::str_split()</code></strong>: split a string into several strings at the occurrence of a specified character.</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="text.html#cb329-1" aria-hidden="true" tabindex="-1"></a>dates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;2021-03-01&quot;</span>,<span class="st">&quot;2021-03-02&quot;</span>,<span class="st">&quot;2021-03-03&quot;</span>)</span>
<span id="cb329-2"><a href="text.html#cb329-2" aria-hidden="true" tabindex="-1"></a>splits <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_split</span>(dates,<span class="st">&quot;-&quot;</span>)</span>
<span id="cb329-3"><a href="text.html#cb329-3" aria-hidden="true" tabindex="-1"></a>splits</span>
<span id="cb329-4"><a href="text.html#cb329-4" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">1</span>]]</span>
<span id="cb329-5"><a href="text.html#cb329-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;2021&quot;</span> <span class="st">&quot;03&quot;</span>   <span class="st">&quot;01&quot;</span>  </span>
<span id="cb329-6"><a href="text.html#cb329-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb329-7"><a href="text.html#cb329-7" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">2</span>]]</span>
<span id="cb329-8"><a href="text.html#cb329-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;2021&quot;</span> <span class="st">&quot;03&quot;</span>   <span class="st">&quot;02&quot;</span>  </span>
<span id="cb329-9"><a href="text.html#cb329-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb329-10"><a href="text.html#cb329-10" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">3</span>]]</span>
<span id="cb329-11"><a href="text.html#cb329-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;2021&quot;</span> <span class="st">&quot;03&quot;</span>   <span class="st">&quot;03&quot;</span>  </span></code></pre></div>
<p>This function returns a <em>list</em> for every element in the original vector. A common need is to retrieve one item from each of the element in this list. For example, let’s say you are trying to retrieve the months of each element in the <code>dates</code> vector. The list structure makes this tricky to retrieve. Here’s the way to do it by drawing upon the <code>apply()</code> family of functions:</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb330-1"><a href="text.html#cb330-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(splits, <span class="st">&quot;[[&quot;</span>, <span class="dv">2</span>) <span class="co"># Months</span></span>
<span id="cb330-2"><a href="text.html#cb330-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;03&quot;</span> <span class="st">&quot;03&quot;</span> <span class="st">&quot;03&quot;</span></span>
<span id="cb330-3"><a href="text.html#cb330-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-4"><a href="text.html#cb330-4" aria-hidden="true" tabindex="-1"></a><span class="co"># now get years and days</span></span>
<span id="cb330-5"><a href="text.html#cb330-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(splits, <span class="st">&quot;[[&quot;</span>, <span class="dv">1</span>) <span class="co"># years</span></span>
<span id="cb330-6"><a href="text.html#cb330-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;2021&quot;</span> <span class="st">&quot;2021&quot;</span> <span class="st">&quot;2021&quot;</span></span>
<span id="cb330-7"><a href="text.html#cb330-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(splits, <span class="st">&quot;[[&quot;</span>, <span class="dv">3</span>) <span class="co"># days</span></span>
<span id="cb330-8"><a href="text.html#cb330-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;01&quot;</span> <span class="st">&quot;02&quot;</span> <span class="st">&quot;03&quot;</span></span></code></pre></div>
<div id="review-assignment-11" class="section level4 unnumbered">
<h4>Review assignment</h4>
<p>A. For a given dataset, print informative status update for each iteration in a <code>for</code> loop.</p>
<p>B. Modify the above to only print an update at every integer percentage point (i.e., at 1% and 2% but not at 1.233%, etc.)</p>
<p>C. Your collaborator sends you a dataset containing columns for <code>Date</code>, <code>Latitude</code>, and <code>Longitude</code>. Formatting varies in these fields. Fix it. (can use hw-raw.csv file. - Eric)</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="conditional-statements.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="working-with-dates-times.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/databrew/intro-to-data-science/edit/master/07de-working_with_text.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["intro-to-data-science.pdf", "intro-to-data-science.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
