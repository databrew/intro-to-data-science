<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 24 Interactive shiny dashboards | www.datascience.pizza</title>
  <meta name="description" content="A resource &amp; workbook for the Sewanee DataLab" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 24 Interactive shiny dashboards | www.datascience.pizza" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A resource &amp; workbook for the Sewanee DataLab" />
  <meta name="github-repo" content="databrew/intro-to-data-science" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 24 Interactive shiny dashboards | www.datascience.pizza" />
  
  <meta name="twitter:description" content="A resource &amp; workbook for the Sewanee DataLab" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
<link rel="prev" href="r-markdown.html"/>
<link rel="next" href="interactive-maps.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">www.datascience.pizza</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-this-is-and-what-it-isnt"><i class="fa fa-check"></i>What this is, and what it isn’t</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-this-is-for"><i class="fa fa-check"></i>Who this is for</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-you-will-learn"><i class="fa fa-check"></i>What you will learn</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i>Contributors</a></li>
</ul></li>
<li class="part"><span><b>I Core theory</b></span></li>
<li class="chapter" data-level="2" data-path="what-is-data-science.html"><a href="what-is-data-science.html"><i class="fa fa-check"></i><b>2</b> What is data science?</a><ul>
<li class="chapter" data-level="" data-path="what-is-data-science.html"><a href="what-is-data-science.html#what-is-the-data-life-cycle"><i class="fa fa-check"></i>What is the data life cycle?</a></li>
<li class="chapter" data-level="" data-path="what-is-data-science.html"><a href="what-is-data-science.html#data-science-in-the-wild"><i class="fa fa-check"></i>Data science ‘in the wild’</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="the-reproducibility-crisis.html"><a href="the-reproducibility-crisis.html"><i class="fa fa-check"></i><b>3</b> The reproducibility crisis</a><ul>
<li class="chapter" data-level="" data-path="the-reproducibility-crisis.html"><a href="the-reproducibility-crisis.html#the-crisis"><i class="fa fa-check"></i>The crisis</a></li>
<li class="chapter" data-level="" data-path="the-reproducibility-crisis.html"><a href="the-reproducibility-crisis.html#the-reproducibility-movement"><i class="fa fa-check"></i>The ‘reproducibility’ movement</a></li>
<li class="chapter" data-level="" data-path="the-reproducibility-crisis.html"><a href="the-reproducibility-crisis.html#why-r"><i class="fa fa-check"></i>Why <code>R</code>?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-ethics.html"><a href="data-ethics.html"><i class="fa fa-check"></i><b>4</b> Data ethics</a><ul>
<li class="chapter" data-level="" data-path="data-ethics.html"><a href="data-ethics.html#a-few-principles"><i class="fa fa-check"></i>A few principles</a></li>
<li class="chapter" data-level="" data-path="data-ethics.html"><a href="data-ethics.html#warm-up-scenarios"><i class="fa fa-check"></i>Warm up scenarios</a></li>
<li class="chapter" data-level="" data-path="data-ethics.html"><a href="data-ethics.html#case-studies"><i class="fa fa-check"></i>Case studies</a></li>
<li class="chapter" data-level="" data-path="data-ethics.html"><a href="data-ethics.html#more-scenarios"><i class="fa fa-check"></i>More scenarios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>5</b> Visualizing data</a><ul>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#the-value-of-data-viz"><i class="fa fa-check"></i>The value of <em>data viz</em></a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#plot-gallery"><i class="fa fa-check"></i>Plot gallery</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#chart-junk"><i class="fa fa-check"></i>Chart junk</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#final-thoughts"><i class="fa fa-check"></i>Final thoughts</a></li>
</ul></li>
<li class="part"><span><b>II Getting sta<code>r</code>ted</b></span></li>
<li class="chapter" data-level="6" data-path="setting-up-rstudio.html"><a href="setting-up-rstudio.html"><i class="fa fa-check"></i><b>6</b> Setting up <code>RStudio</code></a></li>
<li class="chapter" data-level="7" data-path="running-r-code.html"><a href="running-r-code.html"><i class="fa fa-check"></i><b>7</b> Running R code</a><ul>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#running-code-in-the-console"><i class="fa fa-check"></i>Running code in the <em>Console</em></a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#use-r-like-a-calculator"><i class="fa fa-check"></i>Use R like a calculator</a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#getting-along-with-r"><i class="fa fa-check"></i>Getting along with <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html"><i class="fa fa-check"></i><b>8</b> Using <code>RStudio</code> &amp; <code>R</code> scripts</a><ul>
<li class="chapter" data-level="" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html#r-and-rstudio-whats-the-difference"><i class="fa fa-check"></i><code>R</code> and <code>RStudio</code>: what’s the difference?</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html#two-minute-tour-of-rstudio"><i class="fa fa-check"></i>Two-minute tour of <code>RStudio</code></a></li>
<li class="chapter" data-level="" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html#scripts"><i class="fa fa-check"></i>Scripts</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html#wd"><i class="fa fa-check"></i>Your working directory</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-r-scripts.html"><a href="using-rstudio-r-scripts.html#typical-workflows"><i class="fa fa-check"></i>Typical workflows</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="variables.html"><a href="variables.html"><i class="fa fa-check"></i><b>9</b> Variables</a><ul>
<li class="chapter" data-level="" data-path="variables.html"><a href="variables.html#introducing-variables"><i class="fa fa-check"></i>Introducing variables</a></li>
<li class="chapter" data-level="" data-path="variables.html"><a href="variables.html#types-of-data-in-r"><i class="fa fa-check"></i>Types of data in <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>10</b> Vectors</a><ul>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#declaring-and-using-vectors"><i class="fa fa-check"></i>Declaring and using vectors</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#math-with-two-vectors"><i class="fa fa-check"></i>Math with two vectors</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#functions-for-handling-vectors"><i class="fa fa-check"></i>Functions for handling vectors</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#subsetting-vectors"><i class="fa fa-check"></i>Subsetting vectors</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="calling_functions.html"><a href="calling_functions.html"><i class="fa fa-check"></i><b>11</b> Calling functions</a></li>
<li class="chapter" data-level="12" data-path="subsetting-filtering.html"><a href="subsetting-filtering.html"><i class="fa fa-check"></i><b>12</b> Subsetting &amp; filtering</a><ul>
<li class="chapter" data-level="" data-path="subsetting-filtering.html"><a href="subsetting-filtering.html#subsetting-with-indices"><i class="fa fa-check"></i>Subsetting with indices</a></li>
<li class="chapter" data-level="" data-path="subsetting-filtering.html"><a href="subsetting-filtering.html#subsetting-with-booleans"><i class="fa fa-check"></i>Subsetting with booleans</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="dataframes.html"><a href="dataframes.html"><i class="fa fa-check"></i><b>13</b> Dataframes</a><ul>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#subsetting-exploring-dataframes"><i class="fa fa-check"></i>Subsetting &amp; exploring dataframes</a></li>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#creating-dataframes"><i class="fa fa-check"></i>Creating dataframes</a></li>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#modifying-dataframes"><i class="fa fa-check"></i>Modifying dataframes</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>14</b> Packages</a><ul>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#packages-you-already-have"><i class="fa fa-check"></i>Packages you already have</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#installing-a-new-package"><i class="fa fa-check"></i>Installing a new package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#loading-an-installed-package"><i class="fa fa-check"></i>Loading an installed package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#calling-functions-from-a-package"><i class="fa fa-check"></i>Calling functions from a package</a></li>
</ul></li>
<li class="part"><span><b>III Basic <code>R</code> workflow</b></span></li>
<li class="chapter" data-level="15" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>15</b> Importing data</a><ul>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#reading-in-data"><i class="fa fa-check"></i>Reading in data</a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#csv-files"><i class="fa fa-check"></i><code>.csv</code> files</a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#prepping-your-data-for-r"><i class="fa fa-check"></i>Prepping your data for <code>R</code></a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#managing-files-folders"><i class="fa fa-check"></i>Managing files &amp; folders</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="base-plots.html"><a href="base-plots.html"><i class="fa fa-check"></i><b>16</b> Base plots</a><ul>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#create-a-basic-plot"><i class="fa fa-check"></i>Create a basic plot</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#most-common-types-of-plots"><i class="fa fa-check"></i>Most common types of plots</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#basic-plot-formatting"><i class="fa fa-check"></i>Basic plot formatting</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#plotting-with-data-frames"><i class="fa fa-check"></i>Plotting with data frames</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="ggplot.html"><a href="ggplot.html"><i class="fa fa-check"></i><b>17</b> <code>ggplot</code></a><ul>
<li class="chapter" data-level="" data-path="ggplot.html"><a href="ggplot.html#what-is-ggplot2"><i class="fa fa-check"></i>What is <code>ggplot2</code>?</a></li>
<li class="chapter" data-level="" data-path="ggplot.html"><a href="ggplot.html#scatter-plot"><i class="fa fa-check"></i>Scatter plot</a></li>
<li class="chapter" data-level="" data-path="ggplot.html"><a href="ggplot.html#bar-plot"><i class="fa fa-check"></i>Bar plot</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>18</b> Dataframe wrangling</a><ul>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#the-dplyr-package"><i class="fa fa-check"></i>The <code>dplyr</code> package</a></li>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#the-pipe"><i class="fa fa-check"></i>The <code>%&gt;%</code> pipe</a></li>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#dplyr-verbs"><i class="fa fa-check"></i><code>dplyr</code> verbs</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="distributions-histograms.html"><a href="distributions-histograms.html"><i class="fa fa-check"></i><b>19</b> Distributions &amp; histograms</a><ul>
<li class="chapter" data-level="" data-path="distributions-histograms.html"><a href="distributions-histograms.html#exploring-distributions"><i class="fa fa-check"></i>Exploring distributions</a></li>
<li class="chapter" data-level="" data-path="distributions-histograms.html"><a href="distributions-histograms.html#descriptive-statistics"><i class="fa fa-check"></i>Descriptive statistics</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="significance-statistics.html"><a href="significance-statistics.html"><i class="fa fa-check"></i><b>20</b> Significance statistics</a><ul>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#p-values"><i class="fa fa-check"></i>p-values</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#tests-for-different-data-types"><i class="fa fa-check"></i>Tests for different data types</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#comparison-tests"><i class="fa fa-check"></i>Comparison tests</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#tests-of-association"><i class="fa fa-check"></i>Tests of association</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#reporting-results"><i class="fa fa-check"></i>Reporting results</a></li>
</ul></li>
<li class="part"><span><b>IV Reproducible research</b></span></li>
<li class="chapter" data-level="21" data-path="git-github.html"><a href="git-github.html"><i class="fa fa-check"></i><b>21</b> <code>Git</code> + <code>GitHub</code></a><ul>
<li class="chapter" data-level="" data-path="git-github.html"><a href="git-github.html#why"><i class="fa fa-check"></i>Why?</a></li>
<li class="chapter" data-level="" data-path="git-github.html"><a href="git-github.html#git-set-up"><i class="fa fa-check"></i><code>Git</code> set up</a></li>
<li class="chapter" data-level="" data-path="git-github.html"><a href="git-github.html#create-a-new-repository"><i class="fa fa-check"></i>Create a new repository</a></li>
<li class="chapter" data-level="" data-path="git-github.html"><a href="git-github.html#clone-a-repository"><i class="fa fa-check"></i>Clone a repository</a></li>
<li class="chapter" data-level="" data-path="git-github.html"><a href="git-github.html#working-in-a-repository"><i class="fa fa-check"></i>Working in a repository</a></li>
<li class="chapter" data-level="" data-path="git-github.html"><a href="git-github.html#git-workflow-overview"><i class="fa fa-check"></i><code>Git</code> workflow: overview</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="markdown-documentation.html"><a href="markdown-documentation.html"><i class="fa fa-check"></i><b>22</b> <code>Markdown</code> documentation</a><ul>
<li class="chapter" data-level="" data-path="markdown-documentation.html"><a href="markdown-documentation.html#what-is-markdown"><i class="fa fa-check"></i>What is <code>Markdown</code>?</a></li>
<li class="chapter" data-level="" data-path="markdown-documentation.html"><a href="markdown-documentation.html#raw-markdown-example"><i class="fa fa-check"></i>Raw <code>Markdown</code> example</a></li>
<li class="chapter" data-level="" data-path="markdown-documentation.html"><a href="markdown-documentation.html#exercises-12"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>23</b> <code>R Markdown</code></a><ul>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#do-first-explain-later"><i class="fa fa-check"></i>Do first, explain later</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#add-an-r-chunk"><i class="fa fa-check"></i>Add an <code>R</code> chunk</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#in-line-r-code"><i class="fa fa-check"></i>In-line <code>R</code> code</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#tables"><i class="fa fa-check"></i>Tables</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#bibliographies"><i class="fa fa-check"></i>Bibliographies</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>24</b> Interactive <code>shiny</code> dashboards</a><ul>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#overview"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#build-your-first-shiny-app"><i class="fa fa-check"></i>Build your first <code>shiny</code> app</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="interactive-maps.html"><a href="interactive-maps.html"><i class="fa fa-check"></i><b>25</b> Interactive maps</a><ul>
<li class="chapter" data-level="" data-path="interactive-maps.html"><a href="interactive-maps.html#mapping-with-leaflet"><i class="fa fa-check"></i>Mapping with <code>leaflet</code></a></li>
<li class="chapter" data-level="" data-path="interactive-maps.html"><a href="interactive-maps.html#geocoding"><i class="fa fa-check"></i>Geocoding</a></li>
<li class="chapter" data-level="" data-path="interactive-maps.html"><a href="interactive-maps.html#final-thoughts-2"><i class="fa fa-check"></i>Final thoughts</a></li>
</ul></li>
<li class="part"><span><b>V Review exercises</b></span></li>
<li class="chapter" data-level="26" data-path="rms-titanic.html"><a href="rms-titanic.html"><i class="fa fa-check"></i><b>26</b> <em>RMS Titanic</em></a></li>
<li class="chapter" data-level="27" data-path="a-dplyr-survey.html"><a href="a-dplyr-survey.html"><i class="fa fa-check"></i><b>27</b> A <code>dplyr</code> survey</a></li>
<li class="chapter" data-level="28" data-path="global-health-ggplot.html"><a href="global-health-ggplot.html"><i class="fa fa-check"></i><b>28</b> Global health &amp; <code>ggplot</code></a></li>
<li class="chapter" data-level="29" data-path="sewanees-climate.html"><a href="sewanees-climate.html"><i class="fa fa-check"></i><b>29</b> Sewanee’s climate</a></li>
<li class="chapter" data-level="30" data-path="cleaning-messy-data.html"><a href="cleaning-messy-data.html"><i class="fa fa-check"></i><b>30</b> Cleaning messy data</a></li>
<li class="chapter" data-level="31" data-path="shakespeare-text-mining.html"><a href="shakespeare-text-mining.html"><i class="fa fa-check"></i><b>31</b> Shakespeare text mining</a></li>
<li class="chapter" data-level="32" data-path="trump.html"><a href="trump.html"><i class="fa fa-check"></i><b>32</b> Trump tweets</a></li>
<li class="chapter" data-level="33" data-path="trump-shiny-git.html"><a href="trump-shiny-git.html"><i class="fa fa-check"></i><b>33</b> Trump, <code>Shiny</code>, &amp; <code>Git</code></a></li>
<li class="chapter" data-level="34" data-path="dates-times-and-malaria.html"><a href="dates-times-and-malaria.html"><i class="fa fa-check"></i><b>34</b> Dates, times, and malaria</a></li>
<li class="chapter" data-level="35" data-path="sentiment-analysis-with-survey-data.html"><a href="sentiment-analysis-with-survey-data.html"><i class="fa fa-check"></i><b>35</b> Sentiment analysis with survey data</a></li>
<li class="chapter" data-level="36" data-path="sentiment-analysis-with-harry-potter.html"><a href="sentiment-analysis-with-harry-potter.html"><i class="fa fa-check"></i><b>36</b> Sentiment analysis with Harry Potter</a></li>
<li class="part"><span><b>VI Presenting research</b></span></li>
<li class="chapter" data-level="37" data-path="writing-a-report.html"><a href="writing-a-report.html"><i class="fa fa-check"></i><b>37</b> Writing a report</a><ul>
<li class="chapter" data-level="" data-path="writing-a-report.html"><a href="writing-a-report.html#overall-structure"><i class="fa fa-check"></i>Overall structure</a></li>
<li class="chapter" data-level="" data-path="writing-a-report.html"><a href="writing-a-report.html#abstract"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="" data-path="writing-a-report.html"><a href="writing-a-report.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="writing-a-report.html"><a href="writing-a-report.html#methods"><i class="fa fa-check"></i>Methods</a></li>
<li class="chapter" data-level="" data-path="writing-a-report.html"><a href="writing-a-report.html#results"><i class="fa fa-check"></i>Results</a></li>
<li class="chapter" data-level="" data-path="writing-a-report.html"><a href="writing-a-report.html#discussion"><i class="fa fa-check"></i>Discussion</a></li>
<li class="chapter" data-level="" data-path="writing-a-report.html"><a href="writing-a-report.html#other-elements-of-a-report"><i class="fa fa-check"></i>Other elements of a report</a></li>
</ul></li>
<li class="chapter" data-level="38" data-path="style.html"><a href="style.html"><i class="fa fa-check"></i><b>38</b> Good research writing</a><ul>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#core-principles"><i class="fa fa-check"></i>Core principles</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#further-considerations"><i class="fa fa-check"></i>Further considerations</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#logistics-of-scientific-writing"><i class="fa fa-check"></i>Logistics of scientific writing</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#formatting-tables"><i class="fa fa-check"></i>Formatting tables</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#formatting-figures"><i class="fa fa-check"></i>Formatting figures</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="research-talks.html"><a href="research-talks.html"><i class="fa fa-check"></i><b>39</b> Research talks</a></li>
<li class="part"><span><b>VII Deep <code>R</code></b></span></li>
<li class="chapter" data-level="40" data-path="saving-data-plots.html"><a href="saving-data-plots.html"><i class="fa fa-check"></i><b>40</b> Saving data &amp; plots</a><ul>
<li class="chapter" data-level="" data-path="saving-data-plots.html"><a href="saving-data-plots.html#write.csv"><i class="fa fa-check"></i><code>write.csv()</code></a></li>
<li class="chapter" data-level="" data-path="saving-data-plots.html"><a href="saving-data-plots.html#saverds"><i class="fa fa-check"></i><code>saveRDS()</code></a></li>
<li class="chapter" data-level="" data-path="saving-data-plots.html"><a href="saving-data-plots.html#pdf-and-png"><i class="fa fa-check"></i><code>pdf()</code> and <code>png()</code></a></li>
</ul></li>
<li class="chapter" data-level="41" data-path="joining_datasets.html"><a href="joining_datasets.html"><i class="fa fa-check"></i><b>41</b> Joining datasets</a><ul>
<li class="chapter" data-level="" data-path="joining_datasets.html"><a href="joining_datasets.html#joining-with-dplyr"><i class="fa fa-check"></i>Joining with <code>dplyr</code></a></li>
</ul></li>
<li class="chapter" data-level="42" data-path="text.html"><a href="text.html"><i class="fa fa-check"></i><b>42</b> Working with text</a><ul>
<li class="chapter" data-level="" data-path="text.html"><a href="text.html#most-common-tools"><i class="fa fa-check"></i>Most common tools</a></li>
</ul></li>
<li class="chapter" data-level="43" data-path="dates.html"><a href="dates.html"><i class="fa fa-check"></i><b>43</b> Working with dates &amp; times</a><ul>
<li class="chapter" data-level="" data-path="dates.html"><a href="dates.html#the-lubridate-package"><i class="fa fa-check"></i>The <code>lubridate()</code> package</a></li>
<li class="chapter" data-level="" data-path="dates.html"><a href="dates.html#common-tasks"><i class="fa fa-check"></i>Common tasks</a></li>
</ul></li>
<li class="chapter" data-level="44" data-path="writing-functions.html"><a href="writing-functions.html"><i class="fa fa-check"></i><b>44</b> Writing functions</a><ul>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#first-steps"><i class="fa fa-check"></i>First steps</a></li>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#next-steps"><i class="fa fa-check"></i>Next steps</a></li>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#sourcing-functions"><i class="fa fa-check"></i>Sourcing functions</a></li>
</ul></li>
<li class="chapter" data-level="45" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>45</b> <code>for</code> loops</a><ul>
<li class="chapter" data-level="" data-path="for-loops.html"><a href="for-loops.html#basics"><i class="fa fa-check"></i>Basics</a></li>
<li class="chapter" data-level="" data-path="for-loops.html"><a href="for-loops.html#for-loop-exercises"><i class="fa fa-check"></i><code>for</code> loop exercises</a></li>
</ul></li>
<li class="chapter" data-level="46" data-path="conditional-statements.html"><a href="conditional-statements.html"><i class="fa fa-check"></i><b>46</b> Conditional statements</a><ul>
<li class="chapter" data-level="" data-path="conditional-statements.html"><a href="conditional-statements.html#first-steps-1"><i class="fa fa-check"></i>First steps</a></li>
<li class="chapter" data-level="" data-path="conditional-statements.html"><a href="conditional-statements.html#next-steps-1"><i class="fa fa-check"></i>Next steps</a></li>
</ul></li>
<li class="chapter" data-level="47" data-path="matrices-lists.html"><a href="matrices-lists.html"><i class="fa fa-check"></i><b>47</b> Matrices &amp; lists</a><ul>
<li class="chapter" data-level="" data-path="matrices-lists.html"><a href="matrices-lists.html#lists"><i class="fa fa-check"></i>Lists</a></li>
<li class="chapter" data-level="" data-path="matrices-lists.html"><a href="matrices-lists.html#matrices"><i class="fa fa-check"></i>Matrices</a></li>
</ul></li>
<li class="chapter" data-level="48" data-path="advanced-base-plots-in-r.html"><a href="advanced-base-plots-in-r.html"><i class="fa fa-check"></i><b>48</b> Advanced base plots in <code>R</code></a></li>
<li class="chapter" data-level="49" data-path="geographic-information-systems.html"><a href="geographic-information-systems.html"><i class="fa fa-check"></i><b>49</b> Geographic Information Systems</a><ul>
<li class="chapter" data-level="" data-path="geographic-information-systems.html"><a href="geographic-information-systems.html#geographic-data-structures"><i class="fa fa-check"></i>Geographic data structures</a></li>
<li class="chapter" data-level="" data-path="geographic-information-systems.html"><a href="geographic-information-systems.html#getting-to-work"><i class="fa fa-check"></i>Getting to work</a></li>
<li class="chapter" data-level="" data-path="geographic-information-systems.html"><a href="geographic-information-systems.html#combining-rasters-vectors"><i class="fa fa-check"></i>Combining rasters &amp; vectors</a></li>
<li class="chapter" data-level="" data-path="geographic-information-systems.html"><a href="geographic-information-systems.html#combining-rasters-vectors-leaflet"><i class="fa fa-check"></i>Combining rasters, vectors, &amp; <code>leaflet</code></a></li>
</ul></li>
<li class="chapter" data-level="50" data-path="randomization-statistics.html"><a href="randomization-statistics.html"><i class="fa fa-check"></i><b>50</b> Randomization statistics</a><ul>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#basic-idea"><i class="fa fa-check"></i>Basic idea</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#common-use-cases"><i class="fa fa-check"></i>Common use cases</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#review-assignment-5"><i class="fa fa-check"></i>Review assignment</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#c-do-social-bonds-relate-to-kinship"><i class="fa fa-check"></i>(c) Do social bonds relate to kinship?</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/databrew/intro-to-data-science" target="blank">DataLab & DataBrew LLC</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">www.datascience.pizza</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="shiny" class="section level1 hasAnchor">
<h1><span class="header-section-number">Module 24</span> Interactive <code>shiny</code> dashboards<a href="shiny.html#shiny" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="learning-goals-16" class="section level4 unnumbered hasAnchor">
<h4>Learning goals<a href="shiny.html#learning-goals-16" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><p>Learn how to create interactive web-based apps and dashboards with <code>shiny</code>.</p></li>
<li><p>Why <code>shiny</code> is so awesome and valuable in <em>reproducible</em> data science.</p></li>
</ul>
</div>
<div id="overview" class="section level2 unnumbered hasAnchor">
<h2>Overview<a href="shiny.html#overview" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>Shiny</code> is a package that makes it easy to build interactive web applications and dashboards in <code>R</code>.</p>
<p>First we need to install and load the package:</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb365-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&#39;shiny&#39;</span>)</a>
<a class="sourceLine" id="cb365-2" data-line-number="2"><span class="kw">library</span>(shiny)</a></code></pre></div>
<p><code>Shiny</code> apps consists of two main parts:</p>
<ol style="list-style-type: decimal">
<li><p>The <strong>UI</strong>, which stands for User Interface. The UI controls what is being displayed on the application page and how the components are laid out. This may include text and other <code>markdown</code> elements, graphics, widgets that take in user input, or plots. You will also use the UI to define a navigation bar with multiple tabs in this tutorial.</p></li>
<li><p>The <strong>Server</strong>. The server controls the data that will be displayed through the UI. The server will be where you load in and wrangle data, then define your outputs (i.e. plots) using input from the UI.</p></li>
</ol>
<p>Lets get started! Navigate to the left hand corner of the Rstudio screen and select: File &gt; New File &gt; Shiny Web App.. Create a name for your application and save to your directory.</p>
<center>
<img src="img/new_shiny_app.png" style="width:75.0%" />
</center>
<p> </p>
<p>This will open a script with pre-populated code that is deployment-ready. To run the app, simply click the “Run App” button in the top right. You should see a window appear like this:</p>
<center>
<img src="img/shiny01.png" style="width:70.0%" />
</center>
<p> </p>
<p>Click on the slider and drag it to the left and the right. See how the plot “reacts”? That is why <code>shiny</code> is referred to as an <code>interactive app</code>.</p>
<p>&amp;nbps;</p>
<p>Let’s break down each function to get a better understanding of the app’s guts.</p>
<div id="the-ui" class="section level3 unnumbered hasAnchor">
<h3>The <code>ui</code><a href="shiny.html#the-ui" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb366-1" data-line-number="1">ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</a>
<a class="sourceLine" id="cb366-2" data-line-number="2">    <span class="kw">titlePanel</span>(<span class="st">&quot;Old Faithful Geyser Data&quot;</span>),</a>
<a class="sourceLine" id="cb366-3" data-line-number="3">    <span class="kw">sidebarLayout</span>(</a>
<a class="sourceLine" id="cb366-4" data-line-number="4">        <span class="kw">sidebarPanel</span>(</a>
<a class="sourceLine" id="cb366-5" data-line-number="5">            <span class="kw">sliderInput</span>(<span class="st">&quot;bins&quot;</span>,</a>
<a class="sourceLine" id="cb366-6" data-line-number="6">                        <span class="st">&quot;Number of bins:&quot;</span>,</a>
<a class="sourceLine" id="cb366-7" data-line-number="7">                        <span class="dt">min =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb366-8" data-line-number="8">                        <span class="dt">max =</span> <span class="dv">50</span>,</a>
<a class="sourceLine" id="cb366-9" data-line-number="9">                        <span class="dt">value =</span> <span class="dv">30</span>)</a>
<a class="sourceLine" id="cb366-10" data-line-number="10">        ),</a>
<a class="sourceLine" id="cb366-11" data-line-number="11">        <span class="kw">mainPanel</span>(</a>
<a class="sourceLine" id="cb366-12" data-line-number="12">           <span class="kw">plotOutput</span>(<span class="st">&quot;distPlot&quot;</span>)</a>
<a class="sourceLine" id="cb366-13" data-line-number="13">        )</a>
<a class="sourceLine" id="cb366-14" data-line-number="14">    )</a>
<a class="sourceLine" id="cb366-15" data-line-number="15">)</a></code></pre></div>
<ul>
<li><p><code>fluidPage</code>: Gives us a flexible page to work with by making it easy to position elements of the app (inputs, text, plots, etc) beside each other (rows) and on top of each other (columns). Note that each nested function within the <code>fluidPage</code> function is separated by a comma.</p></li>
<li><p><code>titlePanel</code>: An optional title.</p></li>
<li><p><code>sidebarLayout</code>: Creates a layout in <code>ui</code> that splits the screen into a sidebar (<code>sidebarPanel</code>) &amp; and main section (<code>mainPanel</code>).</p></li>
<li><p><code>sidebarPanel</code>: Typically reserved for app inputs.</p></li>
<li><p><code>sliderInput</code>: One of many <code>shiny</code> widget inputs to manipulate data.</p></li>
<li><p><code>mainPanel</code>: Typically reserved for app outputs (plots, tables, etc)</p></li>
<li><p><code>plotOutput</code>: A <code>shiny</code> function that displays a plot that is created in the server.</p></li>
</ul>
</div>
<div id="the-server" class="section level3 unnumbered hasAnchor">
<h3>The <code>server</code><a href="shiny.html#the-server" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb367-1" data-line-number="1">server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output) {</a>
<a class="sourceLine" id="cb367-2" data-line-number="2"></a>
<a class="sourceLine" id="cb367-3" data-line-number="3">    output<span class="op">$</span>distPlot &lt;-<span class="st"> </span><span class="kw">renderPlot</span>({</a>
<a class="sourceLine" id="cb367-4" data-line-number="4">        x    &lt;-<span class="st"> </span>faithful[, <span class="dv">2</span>]</a>
<a class="sourceLine" id="cb367-5" data-line-number="5">        bins &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="kw">min</span>(x), <span class="kw">max</span>(x), <span class="dt">length.out =</span> input<span class="op">$</span>bins <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb367-6" data-line-number="6">        <span class="kw">hist</span>(x, <span class="dt">breaks =</span> bins, <span class="dt">col =</span> <span class="st">&#39;darkgray&#39;</span>, <span class="dt">border =</span> <span class="st">&#39;white&#39;</span>)</a>
<a class="sourceLine" id="cb367-7" data-line-number="7">    })</a>
<a class="sourceLine" id="cb367-8" data-line-number="8">}</a></code></pre></div>
<ul>
<li><p><code>output$distPlot</code>: An output of the app. In this case, that output is a plot. The output has a named, <code>distPlot</code>, so that it can be referred to in the <code>UI</code>.</p></li>
<li><p><code>renderPlot</code>: A <code>shiny</code> function to builds the plot.</p></li>
</ul>
</div>
<div id="the-shinyapp-...-command" class="section level3 unnumbered hasAnchor">
<h3>The <code>shinyApp( ... )</code> command<a href="shiny.html#the-shinyapp-...-command" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>ui</code> and <code>server</code> commands should build the pieces for an app. The app actually gets <em>built</em> when they are combined in the function <code>shinyApp(ui, server)</code>.</p>
</div>
<div id="overview-of-the-overview" class="section level3 unnumbered hasAnchor">
<h3>Overview of the overview<a href="shiny.html#overview-of-the-overview" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The key differences between the <code>ui</code> and <code>server</code> are that …</p>
<ol style="list-style-type: decimal">
<li><p>The <code>ui</code> takes inputs (e.g., <code>sliderInput</code>) and displays outputs (e.g., <code>renderPlot</code>), whereas the server creates outputs (e.g., a plot). In our default example the input is simply a number from 1 to 50 to determine the number of bins in the output (a histogram).</p></li>
<li><p>The <code>ui</code> actually <em>outputs</em> the outputs that are rendered by <code>server</code>. In the server, you’ll find functions like <code>renderPlot</code>, but in the <code>ui</code> you will find functions like <code>plotOutput</code>. (Confusing, we know.)</p></li>
</ol>
<p>Every <code>shiny</code> app you build will follow the same basic format:</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb368-1" data-line-number="1"><span class="co">####################################################################</span></a>
<a class="sourceLine" id="cb368-2" data-line-number="2"><span class="co"># Shiny app template ###############################################</span></a>
<a class="sourceLine" id="cb368-3" data-line-number="3"></a>
<a class="sourceLine" id="cb368-4" data-line-number="4"><span class="co"># Add libraries here</span></a>
<a class="sourceLine" id="cb368-5" data-line-number="5"></a>
<a class="sourceLine" id="cb368-6" data-line-number="6"><span class="co"># Load data here</span></a>
<a class="sourceLine" id="cb368-7" data-line-number="7"></a>
<a class="sourceLine" id="cb368-8" data-line-number="8"><span class="co">####################################################################</span></a>
<a class="sourceLine" id="cb368-9" data-line-number="9">ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</a>
<a class="sourceLine" id="cb368-10" data-line-number="10"></a>
<a class="sourceLine" id="cb368-11" data-line-number="11">)</a>
<a class="sourceLine" id="cb368-12" data-line-number="12"></a>
<a class="sourceLine" id="cb368-13" data-line-number="13"><span class="co">####################################################################</span></a>
<a class="sourceLine" id="cb368-14" data-line-number="14">server &lt;-<span class="st"> </span><span class="cf">function</span>(input,output){</a>
<a class="sourceLine" id="cb368-15" data-line-number="15"></a>
<a class="sourceLine" id="cb368-16" data-line-number="16">}</a>
<a class="sourceLine" id="cb368-17" data-line-number="17"></a>
<a class="sourceLine" id="cb368-18" data-line-number="18"><span class="co">####################################################################</span></a>
<a class="sourceLine" id="cb368-19" data-line-number="19"><span class="kw">shinyApp</span>(<span class="dt">ui =</span> ui, <span class="dt">server =</span> server)</a></code></pre></div>
</div>
</div>
<div id="build-your-first-shiny-app" class="section level2 unnumbered hasAnchor">
<h2>Build your first <code>shiny</code> app<a href="shiny.html#build-your-first-shiny-app" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First, delete the code currently in your <code>shiny</code> script and paste the template code above into the script. If you click ‘Run App’, a blank window should appear.</p>
<p>Second, add some libraries to the top of your script:</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb369-1" data-line-number="1"><span class="kw">library</span>(shiny)</a>
<a class="sourceLine" id="cb369-2" data-line-number="2"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb369-3" data-line-number="3"><span class="kw">library</span>(gapminder)</a>
<a class="sourceLine" id="cb369-4" data-line-number="4"><span class="kw">library</span>(ggplot2)</a></code></pre></div>
<p>Next, load some data from the package <code>gapminder</code>, which provides country-level data on life expectancy, GDP per capita, and population for the last half century.</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb370-1" data-line-number="1">gm &lt;-<span class="st"> </span>gapminder</a></code></pre></div>
<p>Now, setup a layout for your <code>ui</code>. Add the following code inside the <code>fluidRow</code> parentheses:</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb371-1" data-line-number="1">    <span class="kw">titlePanel</span>(<span class="st">&quot;The economics of global health&quot;</span>),</a>
<a class="sourceLine" id="cb371-2" data-line-number="2">    <span class="kw">sidebarLayout</span>(</a>
<a class="sourceLine" id="cb371-3" data-line-number="3">        <span class="kw">sidebarPanel</span>(</a>
<a class="sourceLine" id="cb371-4" data-line-number="4">            </a>
<a class="sourceLine" id="cb371-5" data-line-number="5">        ),</a>
<a class="sourceLine" id="cb371-6" data-line-number="6">        <span class="kw">mainPanel</span>(</a>
<a class="sourceLine" id="cb371-7" data-line-number="7">            </a>
<a class="sourceLine" id="cb371-8" data-line-number="8">        )</a>
<a class="sourceLine" id="cb371-9" data-line-number="9">    )</a></code></pre></div>
<p><code>Run App</code> and make sure everything still works. Repeat that action after each following step.</p>
<p>(You will want to get in the habit of re-building the app everytime you make a change. It makes fixing errors much less of a headache.)</p>
<p>Now add an input that allows the user to choose a country to plot. Add this code to the <code>sidebarPanel</code>:</p>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb372-1" data-line-number="1"><span class="kw">selectInput</span>(<span class="dt">inputId =</span> <span class="st">&quot;country_name&quot;</span>,</a>
<a class="sourceLine" id="cb372-2" data-line-number="2">                        <span class="dt">label =</span> <span class="st">&quot;Choose a country&quot;</span>,</a>
<a class="sourceLine" id="cb372-3" data-line-number="3">                        <span class="dt">choices =</span> <span class="kw">unique</span>(gm<span class="op">$</span>country),</a>
<a class="sourceLine" id="cb372-4" data-line-number="4">                        <span class="dt">selected =</span> <span class="st">&#39;Mexico&#39;</span>)</a></code></pre></div>
<p>Now add a plot to your app. Add this code to the <code>mainPanel</code> of your <code>ui</code>:</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb373-1" data-line-number="1"><span class="kw">plotOutput</span>(<span class="st">&quot;country_plot&quot;</span>)</a></code></pre></div>
<p>And add this code to your <code>server</code>:</p>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb374-1" data-line-number="1">output<span class="op">$</span>country_plot &lt;-<span class="st"> </span><span class="kw">renderPlot</span>({</a>
<a class="sourceLine" id="cb374-2" data-line-number="2">        cn &lt;-<span class="st"> </span>input<span class="op">$</span>country_name</a>
<a class="sourceLine" id="cb374-3" data-line-number="3">        </a>
<a class="sourceLine" id="cb374-4" data-line-number="4">        pd &lt;-<span class="st"> </span>gm <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> </span>cn)</a>
<a class="sourceLine" id="cb374-5" data-line-number="5">        <span class="kw">ggplot</span>(pd, <span class="kw">aes</span>(year, pop)) <span class="op">+</span></a>
<a class="sourceLine" id="cb374-6" data-line-number="6"><span class="st">            </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb374-7" data-line-number="7"><span class="st">            </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb374-8" data-line-number="8"><span class="st">            </span><span class="kw">labs</span>()</a>
<a class="sourceLine" id="cb374-9" data-line-number="9">})</a></code></pre></div>
<p>Now run your app and try changing the country selected in the drop-down menu; does the plot react?</p>
<p>Let’s add some more inputs to the <code>sidebarPanel</code>, to adjust the way the chart looks. First, make sure there is a comma after the <code>selectInput</code> that creates the country drop-down. Then add this code:</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb375-1" data-line-number="1"><span class="kw">selectInput</span>(<span class="dt">inputId =</span> <span class="st">&quot;line_color&quot;</span>,</a>
<a class="sourceLine" id="cb375-2" data-line-number="2">            <span class="dt">label =</span> <span class="st">&quot;Choose a color for the line&quot;</span>,</a>
<a class="sourceLine" id="cb375-3" data-line-number="3">            <span class="dt">choices =</span> <span class="kw">c</span>(<span class="st">&#39;green&#39;</span>, <span class="st">&#39;blue&#39;</span>,<span class="st">&#39;red&#39;</span>, <span class="st">&#39;orange&#39;</span>),</a>
<a class="sourceLine" id="cb375-4" data-line-number="4">            <span class="dt">selected =</span> <span class="st">&#39;green&#39;</span>),</a>
<a class="sourceLine" id="cb375-5" data-line-number="5"></a>
<a class="sourceLine" id="cb375-6" data-line-number="6"><span class="kw">selectInput</span>(<span class="dt">inputId =</span> <span class="st">&quot;point_color&quot;</span>,</a>
<a class="sourceLine" id="cb375-7" data-line-number="7">            <span class="dt">label =</span> <span class="st">&quot;Choose a color for the points&quot;</span>,</a>
<a class="sourceLine" id="cb375-8" data-line-number="8">            <span class="dt">choices =</span> <span class="kw">c</span>(<span class="st">&#39;green&#39;</span>, <span class="st">&#39;blue&#39;</span>,<span class="st">&#39;red&#39;</span>, <span class="st">&#39;orange&#39;</span>),</a>
<a class="sourceLine" id="cb375-9" data-line-number="9">            <span class="dt">selected =</span> <span class="st">&#39;green&#39;</span>),</a>
<a class="sourceLine" id="cb375-10" data-line-number="10"></a>
<a class="sourceLine" id="cb375-11" data-line-number="11"><span class="kw">sliderInput</span>(<span class="dt">inputId =</span> <span class="st">&quot;line_size&quot;</span>,</a>
<a class="sourceLine" id="cb375-12" data-line-number="12">            <span class="dt">label =</span> <span class="st">&quot;Change the thickness of the line&quot;</span>,</a>
<a class="sourceLine" id="cb375-13" data-line-number="13">            <span class="dt">min =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb375-14" data-line-number="14">            <span class="dt">max =</span> <span class="dv">10</span>,</a>
<a class="sourceLine" id="cb375-15" data-line-number="15">            <span class="dt">value =</span><span class="dv">2</span>),</a>
<a class="sourceLine" id="cb375-16" data-line-number="16"></a>
<a class="sourceLine" id="cb375-17" data-line-number="17"><span class="kw">sliderInput</span>(<span class="dt">inputId =</span> <span class="st">&quot;point_size&quot;</span>,</a>
<a class="sourceLine" id="cb375-18" data-line-number="18">            <span class="dt">label =</span> <span class="st">&quot;Change the point size&quot;</span>,</a>
<a class="sourceLine" id="cb375-19" data-line-number="19">            <span class="dt">min =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb375-20" data-line-number="20">            <span class="dt">max =</span> <span class="dv">10</span>,</a>
<a class="sourceLine" id="cb375-21" data-line-number="21">            <span class="dt">value =</span><span class="dv">5</span>),</a>
<a class="sourceLine" id="cb375-22" data-line-number="22"></a>
<a class="sourceLine" id="cb375-23" data-line-number="23"><span class="kw">sliderInput</span>(<span class="dt">inputId =</span> <span class="st">&#39;alpha_value&#39;</span>,</a>
<a class="sourceLine" id="cb375-24" data-line-number="24">            <span class="dt">label =</span> <span class="st">&#39;Change transparency of line and points&#39;</span>,</a>
<a class="sourceLine" id="cb375-25" data-line-number="25">            <span class="dt">min=</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb375-26" data-line-number="26">            <span class="dt">max=</span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb375-27" data-line-number="27">            <span class="dt">value =</span><span class="fl">0.5</span>)</a></code></pre></div>
<p>Then update the <code>server</code> code to react to these new inputs:</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb376-1" data-line-number="1">output<span class="op">$</span>country_plot &lt;-<span class="st"> </span><span class="kw">renderPlot</span>({</a>
<a class="sourceLine" id="cb376-2" data-line-number="2">    cn &lt;-<span class="st"> </span>input<span class="op">$</span>country_name</a>
<a class="sourceLine" id="cb376-3" data-line-number="3">    lc &lt;-<span class="st"> </span>input<span class="op">$</span>line_color</a>
<a class="sourceLine" id="cb376-4" data-line-number="4">    ps &lt;-<span class="st"> </span>input<span class="op">$</span>point_size</a>
<a class="sourceLine" id="cb376-5" data-line-number="5">    ls &lt;-<span class="st"> </span>input<span class="op">$</span>line_size</a>
<a class="sourceLine" id="cb376-6" data-line-number="6">    pc &lt;-<span class="st"> </span>input<span class="op">$</span>point_color</a>
<a class="sourceLine" id="cb376-7" data-line-number="7">    av &lt;-<span class="st"> </span>input<span class="op">$</span>alpha_value</a>
<a class="sourceLine" id="cb376-8" data-line-number="8">    pd &lt;-<span class="st"> </span>gm <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> </span>cn)</a>
<a class="sourceLine" id="cb376-9" data-line-number="9"></a>
<a class="sourceLine" id="cb376-10" data-line-number="10">    <span class="kw">ggplot</span>(pd, <span class="kw">aes</span>(year, pop)) <span class="op">+</span></a>
<a class="sourceLine" id="cb376-11" data-line-number="11"><span class="st">           </span><span class="kw">geom_point</span>(<span class="dt">color =</span> pc, <span class="dt">size =</span> ps, <span class="dt">alpha=</span>av) <span class="op">+</span></a>
<a class="sourceLine" id="cb376-12" data-line-number="12"><span class="st">           </span><span class="kw">geom_line</span>(<span class="dt">color =</span> lc, <span class="dt">size =</span> ls, <span class="dt">alpha=</span>av) <span class="op">+</span></a>
<a class="sourceLine" id="cb376-13" data-line-number="13"><span class="st">           </span><span class="kw">labs</span>(<span class="dt">title =</span> cn)</a>
<a class="sourceLine" id="cb376-14" data-line-number="14">    })</a></code></pre></div>
<p>Now add an additional input to the sidebar that allows the user to choose which variable to plot:</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb377-1" data-line-number="1"><span class="kw">selectInput</span>(<span class="dt">inputId =</span> <span class="st">&#39;plot_var&#39;</span>,</a>
<a class="sourceLine" id="cb377-2" data-line-number="2">            <span class="dt">label =</span> <span class="st">&#39;Choose a variable to plot&#39;</span>,</a>
<a class="sourceLine" id="cb377-3" data-line-number="3">            <span class="dt">choices =</span> <span class="kw">c</span>(<span class="st">&#39;lifeExp&#39;</span>, <span class="st">&#39;pop&#39;</span>, <span class="st">&#39;gdpPercap&#39;</span>),</a>
<a class="sourceLine" id="cb377-4" data-line-number="4">            <span class="dt">selected =</span> <span class="st">&#39;pop&#39;</span>)</a></code></pre></div>
<p>And update the <code>server</code> output:</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb378-1" data-line-number="1">output<span class="op">$</span>country_plot &lt;-<span class="st"> </span><span class="kw">renderPlot</span>({</a>
<a class="sourceLine" id="cb378-2" data-line-number="2">    cn &lt;-<span class="st"> </span>input<span class="op">$</span>country_name</a>
<a class="sourceLine" id="cb378-3" data-line-number="3">    lc &lt;-<span class="st"> </span>input<span class="op">$</span>line_color</a>
<a class="sourceLine" id="cb378-4" data-line-number="4">    ps &lt;-<span class="st"> </span>input<span class="op">$</span>point_size</a>
<a class="sourceLine" id="cb378-5" data-line-number="5">    ls &lt;-<span class="st"> </span>input<span class="op">$</span>line_size</a>
<a class="sourceLine" id="cb378-6" data-line-number="6">    pc &lt;-<span class="st"> </span>input<span class="op">$</span>point_color</a>
<a class="sourceLine" id="cb378-7" data-line-number="7">    av &lt;-<span class="st"> </span>input<span class="op">$</span>alpha_value</a>
<a class="sourceLine" id="cb378-8" data-line-number="8">    pv &lt;-<span class="st"> </span>input<span class="op">$</span>plot_var</a>
<a class="sourceLine" id="cb378-9" data-line-number="9">    pd &lt;-<span class="st"> </span>gm <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> </span>cn)</a>
<a class="sourceLine" id="cb378-10" data-line-number="10">    <span class="kw">ggplot</span>(pd, <span class="kw">aes_string</span>(<span class="st">&#39;year&#39;</span>, pv)) <span class="op">+</span></a>
<a class="sourceLine" id="cb378-11" data-line-number="11"><span class="st">        </span><span class="kw">geom_point</span>(<span class="dt">color =</span> pc, <span class="dt">size =</span> ps, <span class="dt">alpha=</span>av) <span class="op">+</span></a>
<a class="sourceLine" id="cb378-12" data-line-number="12"><span class="st">        </span><span class="kw">geom_line</span>(<span class="dt">color =</span> lc, <span class="dt">size =</span> ls, <span class="dt">alpha=</span>av) <span class="op">+</span></a>
<a class="sourceLine" id="cb378-13" data-line-number="13"><span class="st">        </span><span class="kw">labs</span>(<span class="dt">title =</span> cn)</a>
<a class="sourceLine" id="cb378-14" data-line-number="14">})</a></code></pre></div>
<p>Now let’s modify our app so that you can display multiple countries at once. First, modify the <code>selectInput</code> for the input <code>country_name</code>:</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb379-1" data-line-number="1"><span class="kw">selectInput</span>(<span class="dt">inputId =</span> <span class="st">&quot;country_name&quot;</span>,</a>
<a class="sourceLine" id="cb379-2" data-line-number="2">                        <span class="dt">label =</span> <span class="st">&quot;Choose a country&quot;</span>,</a>
<a class="sourceLine" id="cb379-3" data-line-number="3">                        <span class="dt">choices =</span> <span class="kw">unique</span>(gm<span class="op">$</span>country),</a>
<a class="sourceLine" id="cb379-4" data-line-number="4">                        <span class="dt">multiple=</span><span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb379-5" data-line-number="5">                        <span class="dt">selected =</span> <span class="st">&#39;Mexico&#39;</span>)</a></code></pre></div>
<p>Now let’s modify these lines of code inside the <code>server</code>’s <code>renderPlot</code> call:</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb380-1" data-line-number="1">pd &lt;-<span class="st"> </span>gm <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(country <span class="op">%in%</span><span class="st"> </span>cn)</a>
<a class="sourceLine" id="cb380-2" data-line-number="2"> <span class="kw">ggplot</span>(pd, <span class="kw">aes_string</span>(<span class="st">&#39;year&#39;</span>, pv, <span class="dt">group=</span><span class="st">&#39;country&#39;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb380-3" data-line-number="3"><span class="st">        </span><span class="kw">geom_point</span>(<span class="dt">color =</span> pc, <span class="dt">size =</span> ps, <span class="dt">alpha=</span>av) <span class="op">+</span></a>
<a class="sourceLine" id="cb380-4" data-line-number="4"><span class="st">        </span><span class="kw">geom_line</span>(<span class="dt">color =</span> lc, <span class="dt">size =</span> ls, <span class="dt">alpha=</span>av) <span class="op">+</span></a>
<a class="sourceLine" id="cb380-5" data-line-number="5"><span class="st">        </span><span class="kw">labs</span>(<span class="dt">title =</span> cn)</a></code></pre></div>
<p>The final version of your app’s code should look like this:</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb381-1" data-line-number="1"><span class="co">####################################################################</span></a>
<a class="sourceLine" id="cb381-2" data-line-number="2"><span class="co"># Shiny app template ###############################################</span></a>
<a class="sourceLine" id="cb381-3" data-line-number="3"></a>
<a class="sourceLine" id="cb381-4" data-line-number="4"><span class="co"># Add libraries here</span></a>
<a class="sourceLine" id="cb381-5" data-line-number="5"><span class="kw">library</span>(shiny)</a>
<a class="sourceLine" id="cb381-6" data-line-number="6"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb381-7" data-line-number="7"><span class="kw">library</span>(gapminder)</a>
<a class="sourceLine" id="cb381-8" data-line-number="8"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb381-9" data-line-number="9"></a>
<a class="sourceLine" id="cb381-10" data-line-number="10"><span class="co"># Load data here</span></a>
<a class="sourceLine" id="cb381-11" data-line-number="11">gm &lt;-<span class="st"> </span>gapminder</a>
<a class="sourceLine" id="cb381-12" data-line-number="12"></a>
<a class="sourceLine" id="cb381-13" data-line-number="13"><span class="co">####################################################################</span></a>
<a class="sourceLine" id="cb381-14" data-line-number="14">ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</a>
<a class="sourceLine" id="cb381-15" data-line-number="15">    <span class="kw">titlePanel</span>(<span class="st">&quot;The economics of global health&quot;</span>),</a>
<a class="sourceLine" id="cb381-16" data-line-number="16">    <span class="kw">sidebarLayout</span>(</a>
<a class="sourceLine" id="cb381-17" data-line-number="17">        <span class="kw">sidebarPanel</span>(</a>
<a class="sourceLine" id="cb381-18" data-line-number="18">            <span class="kw">selectInput</span>(<span class="dt">inputId =</span> <span class="st">&#39;plot_var&#39;</span>,</a>
<a class="sourceLine" id="cb381-19" data-line-number="19">                        <span class="dt">label =</span> <span class="st">&#39;Choose a variable to plot&#39;</span>,</a>
<a class="sourceLine" id="cb381-20" data-line-number="20">                        <span class="dt">choices =</span> <span class="kw">c</span>(<span class="st">&#39;lifeExp&#39;</span>, <span class="st">&#39;pop&#39;</span>, <span class="st">&#39;gdpPercap&#39;</span>),</a>
<a class="sourceLine" id="cb381-21" data-line-number="21">                        <span class="dt">selected =</span> <span class="st">&#39;pop&#39;</span>),</a>
<a class="sourceLine" id="cb381-22" data-line-number="22"></a>
<a class="sourceLine" id="cb381-23" data-line-number="23">            <span class="kw">selectInput</span>(<span class="dt">inputId =</span> <span class="st">&quot;country_name&quot;</span>,</a>
<a class="sourceLine" id="cb381-24" data-line-number="24">                        <span class="dt">label =</span> <span class="st">&quot;Choose a country&quot;</span>,</a>
<a class="sourceLine" id="cb381-25" data-line-number="25">                        <span class="dt">choices =</span> <span class="kw">unique</span>(gm<span class="op">$</span>country),</a>
<a class="sourceLine" id="cb381-26" data-line-number="26">                        <span class="dt">multiple=</span><span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb381-27" data-line-number="27">                        <span class="dt">selected =</span> <span class="st">&#39;Mexico&#39;</span>),</a>
<a class="sourceLine" id="cb381-28" data-line-number="28"></a>
<a class="sourceLine" id="cb381-29" data-line-number="29">            <span class="kw">sliderInput</span>(<span class="dt">inputId =</span> <span class="st">&quot;line_size&quot;</span>,</a>
<a class="sourceLine" id="cb381-30" data-line-number="30">                        <span class="dt">label =</span> <span class="st">&quot;Change the thickness of the line&quot;</span>,</a>
<a class="sourceLine" id="cb381-31" data-line-number="31">                        <span class="dt">min =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb381-32" data-line-number="32">                        <span class="dt">max =</span> <span class="dv">10</span>,</a>
<a class="sourceLine" id="cb381-33" data-line-number="33">                        <span class="dt">value =</span><span class="dv">2</span>),</a>
<a class="sourceLine" id="cb381-34" data-line-number="34"></a>
<a class="sourceLine" id="cb381-35" data-line-number="35">            <span class="kw">sliderInput</span>(<span class="dt">inputId =</span> <span class="st">&quot;point_size&quot;</span>,</a>
<a class="sourceLine" id="cb381-36" data-line-number="36">                        <span class="dt">label =</span> <span class="st">&quot;Change the point size&quot;</span>,</a>
<a class="sourceLine" id="cb381-37" data-line-number="37">                        <span class="dt">min =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb381-38" data-line-number="38">                        <span class="dt">max =</span> <span class="dv">10</span>,</a>
<a class="sourceLine" id="cb381-39" data-line-number="39">                        <span class="dt">value =</span><span class="dv">5</span>),</a>
<a class="sourceLine" id="cb381-40" data-line-number="40"></a>
<a class="sourceLine" id="cb381-41" data-line-number="41">            <span class="kw">sliderInput</span>(<span class="dt">inputId =</span> <span class="st">&#39;alpha_value&#39;</span>,</a>
<a class="sourceLine" id="cb381-42" data-line-number="42">                        <span class="dt">label =</span> <span class="st">&#39;Change transparency of line and points&#39;</span>,</a>
<a class="sourceLine" id="cb381-43" data-line-number="43">                        <span class="dt">min=</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb381-44" data-line-number="44">                        <span class="dt">max=</span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb381-45" data-line-number="45">                        <span class="dt">value =</span><span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb381-46" data-line-number="46"></a>
<a class="sourceLine" id="cb381-47" data-line-number="47">        ),</a>
<a class="sourceLine" id="cb381-48" data-line-number="48">        <span class="kw">mainPanel</span>(</a>
<a class="sourceLine" id="cb381-49" data-line-number="49">            <span class="kw">plotOutput</span>(<span class="st">&quot;country_plot&quot;</span>)</a>
<a class="sourceLine" id="cb381-50" data-line-number="50">        )</a>
<a class="sourceLine" id="cb381-51" data-line-number="51">    )</a>
<a class="sourceLine" id="cb381-52" data-line-number="52">)</a>
<a class="sourceLine" id="cb381-53" data-line-number="53"></a>
<a class="sourceLine" id="cb381-54" data-line-number="54"><span class="co">####################################################################</span></a>
<a class="sourceLine" id="cb381-55" data-line-number="55">server &lt;-<span class="st"> </span><span class="cf">function</span>(input,output){</a>
<a class="sourceLine" id="cb381-56" data-line-number="56"></a>
<a class="sourceLine" id="cb381-57" data-line-number="57">    output<span class="op">$</span>country_plot &lt;-<span class="st"> </span><span class="kw">renderPlot</span>({</a>
<a class="sourceLine" id="cb381-58" data-line-number="58">        cn &lt;-<span class="st"> </span>input<span class="op">$</span>country_name</a>
<a class="sourceLine" id="cb381-59" data-line-number="59">        ps &lt;-<span class="st"> </span>input<span class="op">$</span>point_size</a>
<a class="sourceLine" id="cb381-60" data-line-number="60">        ls &lt;-<span class="st"> </span>input<span class="op">$</span>line_size</a>
<a class="sourceLine" id="cb381-61" data-line-number="61">        av &lt;-<span class="st"> </span>input<span class="op">$</span>alpha_value</a>
<a class="sourceLine" id="cb381-62" data-line-number="62">        pv &lt;-<span class="st"> </span>input<span class="op">$</span>plot_var</a>
<a class="sourceLine" id="cb381-63" data-line-number="63">        pd &lt;-<span class="st"> </span>gm <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> </span>cn)</a>
<a class="sourceLine" id="cb381-64" data-line-number="64">        <span class="kw">ggplot</span>(pd, <span class="kw">aes_string</span>(<span class="st">&#39;year&#39;</span>, pv, <span class="dt">color=</span><span class="st">&#39;country&#39;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb381-65" data-line-number="65"><span class="st">            </span><span class="kw">geom_point</span>(<span class="dt">size =</span> ps, <span class="dt">alpha=</span>av) <span class="op">+</span></a>
<a class="sourceLine" id="cb381-66" data-line-number="66"><span class="st">            </span><span class="kw">geom_line</span>(<span class="dt">size =</span> ls, <span class="dt">alpha=</span>av) <span class="op">+</span></a>
<a class="sourceLine" id="cb381-67" data-line-number="67"><span class="st">            </span><span class="kw">labs</span>(<span class="dt">title =</span> cn)</a>
<a class="sourceLine" id="cb381-68" data-line-number="68">    })</a>
<a class="sourceLine" id="cb381-69" data-line-number="69">}</a>
<a class="sourceLine" id="cb381-70" data-line-number="70"></a>
<a class="sourceLine" id="cb381-71" data-line-number="71"><span class="co">####################################################################</span></a>
<a class="sourceLine" id="cb381-72" data-line-number="72"><span class="kw">shinyApp</span>(<span class="dt">ui =</span> ui, <span class="dt">server =</span> server)</a></code></pre></div>
<div id="final-thoughts-1" class="section level3 unnumbered hasAnchor">
<h3>Final thoughts<a href="shiny.html#final-thoughts-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>Shiny</code> apps are nifty and cool, but they are also an important tool for reproducible research.</p>
<p>Imagine that you are a data science consultant, and your client asks you to help them answer a mission-critical question with their company’s datasets.</p>
<p>Think about the difference between these two scenarios:</p>
<p><strong>(1)</strong> You analyze the data, produce a plot, paste it into a Word document, and send the client a PDF.</p>
<p><strong>(2)</strong> You build a <code>shiny</code> app based on their datasets, and pass the URL for the app to the client. They explore the data for and find the answer <em>for themselves</em>. While they are exploring the data, they are discovering new insights, generating new questions, and finding answers to questions they did not know they had.</p>
<p>One of these scenarios is reproducible and empowering. The other is not.</p>
</div>
<div id="exercises-14" class="section level3 unnumbered hasAnchor">
<h3>Exercises<a href="shiny.html#exercises-14" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>A COVID-19 <code>shiny</code> app</strong></p>
<p><strong>1.</strong> Go to <code>github.com</code>, sign-in, and create a new repository called <code>shiny_examples</code>.</p>
<p><strong>2.</strong> Clone that repository to your Documents folder using <code>git</code>.</p>
<p><strong>3.</strong> Create a new folder named <code>covid_data</code> inside your <code>shiny_examples</code> repo.</p>
<p><strong>4.</strong> Inside that folder, create a <code>shiny</code> file (<code>app.R</code>) and paste the app template from above.</p>
<p><strong>5.</strong> Add these libraries to your script:</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb382-1" data-line-number="1"><span class="kw">library</span>(shiny)</a>
<a class="sourceLine" id="cb382-2" data-line-number="2"><span class="kw">library</span>(readr)</a>
<a class="sourceLine" id="cb382-3" data-line-number="3"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb382-4" data-line-number="4"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb382-5" data-line-number="5"><span class="kw">library</span>(lubridate)</a></code></pre></div>
<p><strong>6.</strong> Add this code to read in the data on COVID-19.</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb383-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/covid_data.csv&#39;</span>)</a>
<a class="sourceLine" id="cb383-2" data-line-number="2">pop &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/state_pop.csv&#39;</span>)</a></code></pre></div>
<p><strong>7.</strong> Create a title for the app called “Covid-19 cases and deaths by state”.</p>
<p><strong>8.</strong> In the side panel of your <code>ui</code>, create an input that allows the user to choose a state.</p>
<p><strong>9.</strong> Create a bar chart called <code>cases_month</code> that plots a state’s Covid-19 cases by month.</p>
<p><strong>10.</strong> Add an input called <code>bar_color</code> that controls the color that fills the bar plot.</p>
<p><strong>11.</strong> Add an input called <code>alpha_value</code> that controls the transparency of the bars in the chart.</p>
<p><strong>12.</strong> Create another bar chart called <code>deaths_month</code> that plots a states Covid-19 deaths by month.</p>
<p><strong>13.</strong> Use the already created inputs <code>bar_color</code> and <code>alpha_value</code> to control the color and transparency of the new bar chart.</p>
<p><strong>14.</strong> Create a line plot called <code>cumulative_cases</code> that plots the cumulative cases over time (<em>hint:</em> use the function <code>cumsum</code>).</p>
<p><strong>15.</strong> Create a line plot called <code>cumulative_deaths</code> that plots the cumulative deaths over time (<em>hint:</em> use the function <code>cumsum</code>).</p>
<p><strong>16.</strong> At the top of your script, join the population data (pop) to the Covid-19 data. Create two new variables: <code>covid_deaths_per_100k</code> and <code>covid_cases_per_100k</code>.</p>
<p><strong>17.</strong> Create a line plot that plots the cases and deaths per 100k in one chart.</p>
<p><strong>18.</strong> Create an input that controls the line colors for the above chart.</p>
<p><strong>19.</strong> Add a title to all plots that combines the name of the state selected and a description of the chart.</p>
<p><strong>20.</strong> Add a theme to each plot using the <code>ggthemes</code> library.</p>
<p><strong>21.</strong> There should now be five charts. Use the <code>fluidRow()</code> and <code>column()</code> argument to put the bar charts side by side. Under the bar charts, put the line plots side by side. Under those, put the final line plot centered in the middle of the screen.</p>
<p><strong>22.</strong> Use the <code>shinythemes</code> package to customize your app (<a href="https://rstudio.github.io/shinythemes/" class="uri">https://rstudio.github.io/shinythemes/</a>).</p>
<p><strong>23.</strong> Deploy the app to <code>shinyapps.io</code>.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-markdown.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="interactive-maps.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/databrew/intro-to-data-science/edit/master/10d-shiny_apps.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["intro-to-data-science.pdf", "intro-to-data-science.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
