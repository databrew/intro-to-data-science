<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 47 Geographic computing &amp; GIS | DataBOOM: the canon for data science</title>
  <meta name="description" content="Data science is just data and science. But it’s better with pizza." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 47 Geographic computing &amp; GIS | DataBOOM: the canon for data science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Data science is just data and science. But it’s better with pizza." />
  <meta name="github-repo" content="databrew/intro-to-data-science" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 47 Geographic computing &amp; GIS | DataBOOM: the canon for data science" />
  
  <meta name="twitter:description" content="Data science is just data and science. But it’s better with pizza." />
  

<meta name="author" content="Databrew" />


<meta name="date" content="2021-07-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
<link rel="prev" href="mapping.html"/>
<link rel="next" href="statistical-modeling.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DataBOOM: the canon for data science </a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-this-is-and-what-it-isnt"><i class="fa fa-check"></i>What this is, and what it isn’t</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-this-is-for"><i class="fa fa-check"></i>Who this is for</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-you-will-learn"><i class="fa fa-check"></i>What you will learn</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-we-are"><i class="fa fa-check"></i>Who we are</a></li>
</ul></li>
<li class="part"><span><b>I Core theory</b></span></li>
<li class="chapter" data-level="2" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html"><i class="fa fa-check"></i><b>2</b> Principles of data science</a>
<ul>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#what-is-data-science"><i class="fa fa-check"></i>What is data science?</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#data-scientist-vs-data-analysist-vs-data-engineer"><i class="fa fa-check"></i>Data scientist vs data analysist vs data engineer</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#what-is-the-data-life-cycle"><i class="fa fa-check"></i>What is the data life cycle?</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#data-science-in-the-wild"><i class="fa fa-check"></i>Data science ‘in the wild’</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#why-r"><i class="fa fa-check"></i>Why R?</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#the-reproducibility-crisis"><i class="fa fa-check"></i>The reproducibility crisis</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>3</b> Visualizing data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="dataviz.html"><a href="dataviz.html#the-importance-of-visualization"><i class="fa fa-check"></i><b>3.1</b> The importance of visualization</a></li>
<li class="chapter" data-level="3.2" data-path="dataviz.html"><a href="dataviz.html#bad-examples"><i class="fa fa-check"></i><b>3.2</b> Bad examples</a></li>
<li class="chapter" data-level="3.3" data-path="dataviz.html"><a href="dataviz.html#good-exaples"><i class="fa fa-check"></i><b>3.3</b> Good exaples</a></li>
<li class="chapter" data-level="3.4" data-path="dataviz.html"><a href="dataviz.html#quick-video"><i class="fa fa-check"></i><b>3.4</b> Quick video</a></li>
</ul></li>
<li class="part"><span><b>II Getting sta<code>r</code>ted</b></span></li>
<li class="chapter" data-level="4" data-path="setting-up-rstudio.html"><a href="setting-up-rstudio.html"><i class="fa fa-check"></i><b>4</b> Setting up <code>RStudio</code></a></li>
<li class="chapter" data-level="5" data-path="running-r-code.html"><a href="running-r-code.html"><i class="fa fa-check"></i><b>5</b> Running R code</a>
<ul>
<li><a href="running-r-code.html#rstudios-console">RStudio’s <em>Console</em></a></li>
<li><a href="running-r-code.html#running-code-in-the-console">Running code in the <em>Console</em></a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#use-r-like-a-calculator"><i class="fa fa-check"></i>Use R like a calculator</a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#using-operators-in-r"><i class="fa fa-check"></i>Using operators in R</a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#use-built-in-functions-within-r"><i class="fa fa-check"></i>Use built-in functions within R</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html"><i class="fa fa-check"></i><b>6</b> Using <code>RStudio</code> and <code>R</code> scripts</a>
<ul>
<li><a href="using-rstudio-and-r-scripts.html#r-and-rstudio-whats-the-difference"><code>R</code> and <code>RStudio</code>: what’s the difference?</a></li>
<li><a href="using-rstudio-and-r-scripts.html#two-minute-tour-of-rstudio">Two-minute tour of <code>RStudio</code></a></li>
<li class="chapter" data-level="" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html#scripts"><i class="fa fa-check"></i>Scripts</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html#your-working-directory"><i class="fa fa-check"></i>Your working directory</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html#typical-workflows"><i class="fa fa-check"></i>Typical workflows</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="variables-in-r.html"><a href="variables-in-r.html"><i class="fa fa-check"></i><b>7</b> Variables in <code>R</code></a>
<ul>
<li class="chapter" data-level="" data-path="variables-in-r.html"><a href="variables-in-r.html#introducing-variables"><i class="fa fa-check"></i>Introducing variables</a></li>
<li><a href="variables-in-r.html#types-of-data-in-r">Types of data in <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="structures-for-data-in-r.html"><a href="structures-for-data-in-r.html"><i class="fa fa-check"></i><b>8</b> Structures for data in <code>R</code></a>
<ul>
<li class="chapter" data-level="" data-path="structures-for-data-in-r.html"><a href="structures-for-data-in-r.html#introducing-data-structures"><i class="fa fa-check"></i>Introducing data structures</a></li>
<li class="chapter" data-level="" data-path="structures-for-data-in-r.html"><a href="structures-for-data-in-r.html#vectors"><i class="fa fa-check"></i>Vectors</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="calling-functions.html"><a href="calling-functions.html"><i class="fa fa-check"></i><b>9</b> Calling functions</a>
<ul>
<li><a href="calling-functions.html#introducing-r-functions">Introducing <code>R</code> functions</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="subsetting.html"><a href="subsetting.html"><i class="fa fa-check"></i><b>10</b> Subsetting and filtering</a>
<ul>
<li class="chapter" data-level="" data-path="subsetting.html"><a href="subsetting.html#a-quick-review-of-booleans"><i class="fa fa-check"></i>A quick review of booleans</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="base-plots.html"><a href="base-plots.html"><i class="fa fa-check"></i><b>11</b> Base plots</a>
<ul>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#create-a-basic-plot"><i class="fa fa-check"></i>Create a basic plot</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#most-common-types-of-plots"><i class="fa fa-check"></i>Most common types of plots</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#basic-plot-formatting"><i class="fa fa-check"></i>Basic plot formatting</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#plotting-with-data-frames"><i class="fa fa-check"></i>Plotting with data frames</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#next-level-plotting"><i class="fa fa-check"></i>Next-level plotting</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>12</b> Packages</a>
<ul>
<li><a href="packages.html#introducing-r-packages">Introducing <code>R</code> packages</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#finding-the-packages-already-on-your-computer"><i class="fa fa-check"></i>Finding the packages already on your computer</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#installing-a-new-package"><i class="fa fa-check"></i>Installing a new package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#loading-an-installed-package"><i class="fa fa-check"></i>Loading an installed package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#calling-functions-from-a-package"><i class="fa fa-check"></i>Calling functions from a package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#review-the-workflow-for-using-a-package"><i class="fa fa-check"></i>Review: the workflow for using a package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#a-note-on-package-dependencies"><i class="fa fa-check"></i>A note on package dependencies</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#a-note-on-package-versions"><i class="fa fa-check"></i>A note on package versions</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#review-assigment-lets-install-some-packages"><i class="fa fa-check"></i>Review assigment: let’s install some packages</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html"><i class="fa fa-check"></i><b>13</b> Basics of <code>ggplot</code></a>
<ul>
<li class="chapter" data-level="13.1" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#thinking-about-data-visualization"><i class="fa fa-check"></i><b>13.1</b> Thinking about data visualization</a></li>
<li><a href="basics-of-ggplot.html#what-is-ggplot">What is <code>ggplot</code>?</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#the-name-and-concept"><i class="fa fa-check"></i>The name and concept</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#practice"><i class="fa fa-check"></i>Practice</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#scatter-plot"><i class="fa fa-check"></i>Scatter plot</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#barplot"><i class="fa fa-check"></i>Barplot</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#practice-1"><i class="fa fa-check"></i>Practice 1</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#practice-exercises-1"><i class="fa fa-check"></i>Practice exercises 1</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#practice-exercises-2"><i class="fa fa-check"></i>Practice exercises 2</a></li>
</ul></li>
<li class="part"><span><b>III Basic <code>R</code> workflow</b></span></li>
<li class="chapter" data-level="14" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>14</b> Importing data</a>
<ul>
<li><a href="importing-data.html#csv-files"><code>.csv</code> files</a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#data-format-requirements"><i class="fa fa-check"></i>Data format requirements</a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#reading-in-data"><i class="fa fa-check"></i>Reading in data</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="dataframes.html"><a href="dataframes.html"><i class="fa fa-check"></i><b>15</b> Dataframes</a>
<ul>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#subsetting-exploring-dataframes"><i class="fa fa-check"></i>Subsetting &amp; exploring dataframes</a></li>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#dplyr"><i class="fa fa-check"></i>dplyr</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="exporting-data-plots.html"><a href="exporting-data-plots.html"><i class="fa fa-check"></i><b>16</b> Exporting data &amp; plots</a>
<ul>
<li><a href="exporting-data-plots.html#write.csv"><code>write.csv()</code></a></li>
<li><a href="exporting-data-plots.html#saverds"><code>saveRDS()</code></a></li>
<li><a href="exporting-data-plots.html#pdf-and-png"><code>pdf()</code> and <code>png()</code></a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="exploring-data.html"><a href="exploring-data.html"><i class="fa fa-check"></i><b>17</b> Exploring data</a>
<ul>
<li class="chapter" data-level="" data-path="exploring-data.html"><a href="exploring-data.html#exploring-distributions"><i class="fa fa-check"></i>Exploring distributions</a></li>
<li class="chapter" data-level="" data-path="exploring-data.html"><a href="exploring-data.html#descriptive-statistics"><i class="fa fa-check"></i>Descriptive statistics</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="significance-statistics.html"><a href="significance-statistics.html"><i class="fa fa-check"></i><b>18</b> Significance statistics</a>
<ul>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#p-values"><i class="fa fa-check"></i>p-values</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#tests-for-different-data-types"><i class="fa fa-check"></i>Tests for different data types</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#comparison-tests"><i class="fa fa-check"></i>Comparison tests</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#tests-of-association"><i class="fa fa-check"></i>Tests of association</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#reporting-results"><i class="fa fa-check"></i>Reporting results</a></li>
</ul></li>
<li class="part"><span><b>IV Essential <code>R</code> skills</b></span></li>
<li class="chapter" data-level="19" data-path="joining-datasets.html"><a href="joining-datasets.html"><i class="fa fa-check"></i><b>19</b> Joining datasets</a>
<ul>
<li class="chapter" data-level="" data-path="joining-datasets.html"><a href="joining-datasets.html#joining-the-basics"><i class="fa fa-check"></i>Joining: the basics</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="writing-functions.html"><a href="writing-functions.html"><i class="fa fa-check"></i><b>20</b> Writing functions</a>
<ul>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#first-steps"><i class="fa fa-check"></i>First steps</a></li>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#next-steps"><i class="fa fa-check"></i>Next steps</a></li>
<li class="chapter" data-level="20.1" data-path="writing-functions.html"><a href="writing-functions.html#using-dplyr-and-ggplot-in-custom-functions"><i class="fa fa-check"></i><b>20.1</b> Using dplyr and ggplot in custom functions</a></li>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#exercise"><i class="fa fa-check"></i>Exercise</a></li>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#sourcing-functions"><i class="fa fa-check"></i>Sourcing functions</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>21</b> <code>for</code> loops</a>
<ul>
<li class="chapter" data-level="" data-path="for-loops.html"><a href="for-loops.html#basics"><i class="fa fa-check"></i>Basics</a></li>
<li><a href="for-loops.html#for-loops-in-plots"><code>for</code> loops in plots</a></li>
<li><a href="for-loops.html#using-for-loops-to-process-summarize-data">Using <code>for</code> loops to process &amp; summarize data</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="conditional-statements.html"><a href="conditional-statements.html"><i class="fa fa-check"></i><b>22</b> Conditional statements</a>
<ul>
<li class="chapter" data-level="" data-path="conditional-statements.html"><a href="conditional-statements.html#first-steps-1"><i class="fa fa-check"></i>First steps</a></li>
<li class="chapter" data-level="" data-path="conditional-statements.html"><a href="conditional-statements.html#next-steps-1"><i class="fa fa-check"></i>Next steps</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="text.html"><a href="text.html"><i class="fa fa-check"></i><b>23</b> Working with text</a>
<ul>
<li class="chapter" data-level="" data-path="text.html"><a href="text.html#basics-1"><i class="fa fa-check"></i>Basics</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="trump.html"><a href="trump.html"><i class="fa fa-check"></i><b>24</b> Trump tweets</a></li>
<li class="chapter" data-level="25" data-path="dates.html"><a href="dates.html"><i class="fa fa-check"></i><b>25</b> Working with dates &amp; times</a>
<ul>
<li class="chapter" data-level="" data-path="dates.html"><a href="dates.html#first-steps-2"><i class="fa fa-check"></i>First steps</a></li>
<li class="chapter" data-level="" data-path="dates.html"><a href="dates.html#lubridate"><i class="fa fa-check"></i>Lubridate</a></li>
<li><a href="dates.html#getting-familiar-with-the-date-type">Getting familiar with the <code>date</code> type</a></li>
<li class="chapter" data-level="" data-path="dates.html"><a href="dates.html#converting-dates-from-strings"><i class="fa fa-check"></i>Converting dates from strings</a></li>
<li><a href="dates.html#getting-familiar-with-the-datetime-type">Getting familiar with the <code>datetime</code> type</a></li>
<li class="chapter" data-level="" data-path="dates.html"><a href="dates.html#extracting-components-from-date-and-datetime-objects"><i class="fa fa-check"></i>Extracting components from date and datetime objects</a></li>
<li class="chapter" data-level="" data-path="dates.html"><a href="dates.html#cough-data-exercise"><i class="fa fa-check"></i>Cough data exercise</a></li>
<li class="chapter" data-level="" data-path="dates.html"><a href="dates.html#weather-data-exercise"><i class="fa fa-check"></i>Weather data exercise</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="working-with-factors.html"><a href="working-with-factors.html"><i class="fa fa-check"></i><b>26</b> Working with factors</a></li>
<li class="chapter" data-level="27" data-path="matrices-lists.html"><a href="matrices-lists.html"><i class="fa fa-check"></i><b>27</b> Matrices &amp; lists</a>
<ul>
<li class="chapter" data-level="" data-path="matrices-lists.html"><a href="matrices-lists.html#lists"><i class="fa fa-check"></i>Lists</a></li>
<li class="chapter" data-level="" data-path="matrices-lists.html"><a href="matrices-lists.html#matrices"><i class="fa fa-check"></i>Matrices</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="cleaning-messy-data.html"><a href="cleaning-messy-data.html"><i class="fa fa-check"></i><b>28</b> Cleaning messy data</a></li>
<li class="chapter" data-level="29" data-path="google.html"><a href="google.html"><i class="fa fa-check"></i><b>29</b> Excel files &amp; GoogleSheets</a></li>
<li class="chapter" data-level="30" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>30</b> Interactive dashboards {-}</a></li>
<li class="chapter" data-level="31" data-path="intro-to-shiny-apps.html"><a href="intro-to-shiny-apps.html"><i class="fa fa-check"></i><b>31</b> Intro to Shiny apps</a>
<ul>
<li class="chapter" data-level="31.1" data-path="intro-to-shiny-apps.html"><a href="intro-to-shiny-apps.html#overview"><i class="fa fa-check"></i><b>31.1</b> Overview</a></li>
<li class="chapter" data-level="31.2" data-path="intro-to-shiny-apps.html"><a href="intro-to-shiny-apps.html#an-easy-example"><i class="fa fa-check"></i><b>31.2</b> An easy example</a></li>
<li class="chapter" data-level="" data-path="intro-to-shiny-apps.html"><a href="intro-to-shiny-apps.html#exercise-9"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="32" data-path="shiny-git-functions-task.html"><a href="shiny-git-functions-task.html"><i class="fa fa-check"></i><b>32</b> Shiny + git + functions task</a></li>
<li class="chapter" data-level="33" data-path="data-entry-apps.html"><a href="data-entry-apps.html"><i class="fa fa-check"></i><b>33</b> Data entry apps</a></li>
<li class="part"><span><b>V Databases</b></span></li>
<li class="chapter" data-level="34" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>34</b> Introduction</a>
<ul>
<li class="chapter" data-level="34.1" data-path="introduction-1.html"><a href="introduction-1.html#what"><i class="fa fa-check"></i><b>34.1</b> What</a></li>
<li class="chapter" data-level="34.2" data-path="introduction-1.html"><a href="introduction-1.html#why"><i class="fa fa-check"></i><b>34.2</b> Why</a></li>
<li class="chapter" data-level="34.3" data-path="introduction-1.html"><a href="introduction-1.html#when"><i class="fa fa-check"></i><b>34.3</b> When</a></li>
<li class="chapter" data-level="34.4" data-path="introduction-1.html"><a href="introduction-1.html#when-not"><i class="fa fa-check"></i><b>34.4</b> When not</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="platforms.html"><a href="platforms.html"><i class="fa fa-check"></i><b>35</b> Platforms</a>
<ul>
<li class="chapter" data-level="35.1" data-path="platforms.html"><a href="platforms.html#postgresql"><i class="fa fa-check"></i><b>35.1</b> PostgreSQL</a></li>
<li class="chapter" data-level="35.2" data-path="platforms.html"><a href="platforms.html#mysql"><i class="fa fa-check"></i><b>35.2</b> mySQL</a></li>
<li class="chapter" data-level="35.3" data-path="platforms.html"><a href="platforms.html#sqlite"><i class="fa fa-check"></i><b>35.3</b> SQLite</a></li>
</ul></li>
<li class="chapter" data-level="36" data-path="alternatives.html"><a href="alternatives.html"><i class="fa fa-check"></i><b>36</b> Alternatives</a>
<ul>
<li class="chapter" data-level="36.1" data-path="alternatives.html"><a href="alternatives.html#nosql"><i class="fa fa-check"></i><b>36.1</b> NoSQL</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="practices.html"><a href="practices.html"><i class="fa fa-check"></i><b>37</b> Practices</a></li>
<li class="part"><span><b>VI Documenting your work</b></span></li>
<li class="chapter" data-level="38" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>38</b> R Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#what-is-r-markdown"><i class="fa fa-check"></i>What is R Markdown</a></li>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#in-class-activity"><i class="fa fa-check"></i>In-class activity</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="rr.html"><a href="rr.html"><i class="fa fa-check"></i><b>39</b> Reproducible research</a>
<ul>
<li class="chapter" data-level="" data-path="rr.html"><a href="rr.html#why-does-reproducible-research-matter"><i class="fa fa-check"></i>Why does reproducible research matter?</a></li>
<li class="chapter" data-level="" data-path="rr.html"><a href="rr.html#how-to-carry-out-reproducible-research"><i class="fa fa-check"></i>How to carry out reproducible research</a></li>
<li class="chapter" data-level="" data-path="rr.html"><a href="rr.html#final-thoughts"><i class="fa fa-check"></i>Final thoughts</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="automated-reporting.html"><a href="automated-reporting.html"><i class="fa fa-check"></i><b>40</b> Automated reporting</a></li>
<li class="chapter" data-level="41" data-path="formatting-standards.html"><a href="formatting-standards.html"><i class="fa fa-check"></i><b>41</b> Formatting standards</a>
<ul>
<li class="chapter" data-level="41.1" data-path="formatting-standards.html"><a href="formatting-standards.html#tables"><i class="fa fa-check"></i><b>41.1</b> Tables</a></li>
<li class="chapter" data-level="41.2" data-path="formatting-standards.html"><a href="formatting-standards.html#figures"><i class="fa fa-check"></i><b>41.2</b> Figures</a></li>
<li class="chapter" data-level="41.3" data-path="formatting-standards.html"><a href="formatting-standards.html#captions"><i class="fa fa-check"></i><b>41.3</b> Captions</a></li>
</ul></li>
<li class="chapter" data-level="42" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>42</b> Git</a>
<ul>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#there-is-a-better-way"><i class="fa fa-check"></i>There is a better way</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#what-is-git"><i class="fa fa-check"></i>What is git?</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#why-1"><i class="fa fa-check"></i>Why?</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#get-ready-for-git"><i class="fa fa-check"></i>Get ready for git</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#installation"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#getting-to-know-git-bash"><i class="fa fa-check"></i>Getting to know git bash</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#configuration"><i class="fa fa-check"></i>Configuration</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#github"><i class="fa fa-check"></i>Github</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#a-bit-more-practice"><i class="fa fa-check"></i>A bit more practice</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#advanced-git"><i class="fa fa-check"></i>Advanced git</a></li>
</ul></li>
<li class="part"><span><b>VII Sharing research</b></span></li>
<li class="chapter" data-level="43" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html"><i class="fa fa-check"></i><b>43</b> Sections of a report</a>
<ul>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#overall-structure"><i class="fa fa-check"></i>Overall structure</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#abstract"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#introduction-2"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#methods"><i class="fa fa-check"></i>Methods</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#results"><i class="fa fa-check"></i>Results</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#discussion"><i class="fa fa-check"></i>Discussion</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#other-elements-of-a-report"><i class="fa fa-check"></i>Other elements of a report</a></li>
</ul></li>
<li class="chapter" data-level="44" data-path="style.html"><a href="style.html"><i class="fa fa-check"></i><b>44</b> Formatting, structure &amp; style</a>
<ul>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#core-principles"><i class="fa fa-check"></i>Core principles</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#further-considerations"><i class="fa fa-check"></i>Further considerations</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#logistics-of-scientific-writing"><i class="fa fa-check"></i>Logistics of scientific writing</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#formatting-tables"><i class="fa fa-check"></i>Formatting tables</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#formatting-figures"><i class="fa fa-check"></i>Formatting figures</a></li>
</ul></li>
<li class="chapter" data-level="45" data-path="presentations.html"><a href="presentations.html"><i class="fa fa-check"></i><b>45</b> Presentations</a></li>
<li class="chapter" data-level="" data-path="creating-websites.html"><a href="creating-websites.html"><i class="fa fa-check"></i>Creating websites</a></li>
<li class="part"><span><b>VIII Advanced skills</b></span></li>
<li class="chapter" data-level="46" data-path="mapping.html"><a href="mapping.html"><i class="fa fa-check"></i><b>46</b> Mapping</a></li>
<li class="chapter" data-level="47" data-path="geographic-computing-gis.html"><a href="geographic-computing-gis.html"><i class="fa fa-check"></i><b>47</b> Geographic computing &amp; GIS</a>
<ul>
<li class="chapter" data-level="" data-path="geographic-computing-gis.html"><a href="geographic-computing-gis.html#exercise-10"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="48" data-path="statistical-modeling.html"><a href="statistical-modeling.html"><i class="fa fa-check"></i><b>48</b> Statistical modeling</a></li>
<li class="chapter" data-level="49" data-path="apply-family.html"><a href="apply-family.html"><i class="fa fa-check"></i><b>49</b> Apply family</a></li>
<li class="chapter" data-level="50" data-path="randomization-statistics.html"><a href="randomization-statistics.html"><i class="fa fa-check"></i><b>50</b> Randomization statistics</a>
<ul>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#basic-idea"><i class="fa fa-check"></i>Basic idea</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#common-use-cases"><i class="fa fa-check"></i>Common use cases</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#review-assignment-10"><i class="fa fa-check"></i>Review assignment</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#c-do-social-bonds-relate-to-kinship"><i class="fa fa-check"></i>(c) Do social bonds relate to kinship?</a></li>
</ul></li>
<li class="chapter" data-level="51" data-path="iterative-simulations.html"><a href="iterative-simulations.html"><i class="fa fa-check"></i><b>51</b> Iterative simulations</a></li>
<li class="chapter" data-level="52" data-path="image-analysis.html"><a href="image-analysis.html"><i class="fa fa-check"></i><b>52</b> Image analysis</a></li>
<li class="chapter" data-level="53" data-path="machine-learning.html"><a href="machine-learning.html"><i class="fa fa-check"></i><b>53</b> Machine learning</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/databrew/intro-to-data-science" target="blank">Databrew LLC</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><code>DataBOOM</code>: the canon for data science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="geographic-computing-gis" class="section level1" number="47">
<h1><span class="header-section-number">Module 47</span> Geographic computing &amp; GIS</h1>
<p>Let’s start by getting some data. Run the below code:</p>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="geographic-computing-gis.html#cb397-1" aria-hidden="true" tabindex="-1"></a>file_source <span class="ot">&lt;-</span> <span class="st">&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/sewaneegis.RData&#39;</span></span>
<span id="cb397-2"><a href="geographic-computing-gis.html#cb397-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb397-3"><a href="geographic-computing-gis.html#cb397-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rgdal)</span>
<span id="cb397-4"><a href="geographic-computing-gis.html#cb397-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span>
<span id="cb397-5"><a href="geographic-computing-gis.html#cb397-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sp)</span>
<span id="cb397-6"><a href="geographic-computing-gis.html#cb397-6" aria-hidden="true" tabindex="-1"></a>destination_directory <span class="ot">&lt;-</span> <span class="st">&#39;/tmp&#39;</span></span>
<span id="cb397-7"><a href="geographic-computing-gis.html#cb397-7" aria-hidden="true" tabindex="-1"></a>destination_file <span class="ot">&lt;-</span> <span class="fu">file.path</span>(destination_directory, <span class="st">&#39;sewaneegis.RData&#39;</span>)</span>
<span id="cb397-8"><a href="geographic-computing-gis.html#cb397-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="st">&#39;sewaneegis.RData&#39;</span> <span class="sc">%in%</span> destination_directory){</span>
<span id="cb397-9"><a href="geographic-computing-gis.html#cb397-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(file_source,</span>
<span id="cb397-10"><a href="geographic-computing-gis.html#cb397-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">destfile =</span> destination_file)</span>
<span id="cb397-11"><a href="geographic-computing-gis.html#cb397-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb397-12"><a href="geographic-computing-gis.html#cb397-12" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(destination_file)</span></code></pre></div>
<div id="in-class-exercises" class="section level3 unnumbered">
<h3>In-class exercises</h3>
<div id="raster" class="section level4 unnumbered">
<h4>Raster</h4>
<ol style="list-style-type: decimal">
<li><p>What is the difference between raster data and vector data?</p></li>
<li><p>What kinds of vector data are there?</p></li>
<li><p>Let’s talk about projections: <a href="https://en.wikipedia.org/wiki/List_of_map_projections" class="uri">https://en.wikipedia.org/wiki/List_of_map_projections</a></p></li>
<li><p>Let’s fetch some raster data.</p></li>
</ol>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="geographic-computing-gis.html#cb398-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span>
<span id="cb398-2"><a href="geographic-computing-gis.html#cb398-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sp)</span>
<span id="cb398-3"><a href="geographic-computing-gis.html#cb398-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rasterVis)</span>
<span id="cb398-4"><a href="geographic-computing-gis.html#cb398-4" aria-hidden="true" tabindex="-1"></a>usa <span class="ot">&lt;-</span> <span class="fu">getData</span>(<span class="st">&#39;alt&#39;</span>, <span class="at">country=</span><span class="st">&#39;USA&#39;</span>, <span class="at">mask=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li><p>What kind of data is this? What is the structure?</p></li>
<li><p>Let’s break it down into just the continental United States.</p></li>
</ol>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="geographic-computing-gis.html#cb399-1" aria-hidden="true" tabindex="-1"></a>cont <span class="ot">&lt;-</span> usa[[<span class="dv">1</span>]]</span>
<span id="cb399-2"><a href="geographic-computing-gis.html#cb399-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(cont)</span></code></pre></div>
<p><img src="figures/unnamed-chunk-417-1.png" width="925.44" /></p>
<ol start="7" style="list-style-type: decimal">
<li>Plot it!</li>
</ol>
<div class="sourceCode" id="cb400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb400-1"><a href="geographic-computing-gis.html#cb400-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(cont)</span></code></pre></div>
<p><img src="figures/unnamed-chunk-418-1.png" width="925.44" /></p>
<ol start="8" style="list-style-type: decimal">
<li><p>What do the values mean (the legend)?</p></li>
<li><p>Make a plot of Alaska.</p></li>
<li><p>Let’s retrieve some data for boundaries of States.</p></li>
</ol>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="geographic-computing-gis.html#cb401-1" aria-hidden="true" tabindex="-1"></a>states <span class="ot">&lt;-</span> <span class="fu">getData</span>(<span class="at">name =</span> <span class="st">&#39;GADM&#39;</span>, <span class="at">level =</span> <span class="dv">1</span>, <span class="at">country =</span> <span class="st">&#39;USA&#39;</span>)</span></code></pre></div>
<ol start="11" style="list-style-type: decimal">
<li>Plot the states.</li>
</ol>
<div class="sourceCode" id="cb402"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb402-1"><a href="geographic-computing-gis.html#cb402-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(states)</span></code></pre></div>
<p><img src="figures/unnamed-chunk-420-1.png" width="925.44" /></p>
<ol start="12" style="list-style-type: decimal">
<li>Take a peak at the states data.</li>
</ol>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb403-1"><a href="geographic-computing-gis.html#cb403-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(states)</span>
<span id="cb403-2"><a href="geographic-computing-gis.html#cb403-2" aria-hidden="true" tabindex="-1"></a>   GID_0        NAME_0   GID_1     NAME_1 VARNAME_1 NL_NAME_1 TYPE_1 ENGTYPE_1</span>
<span id="cb403-3"><a href="geographic-computing-gis.html#cb403-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    USA United States USA<span class="fl">.1</span>_1    Alabama   AL<span class="sc">|</span>Ala.      <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>  State     State</span>
<span id="cb403-4"><a href="geographic-computing-gis.html#cb403-4" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span>   USA United States USA<span class="fl">.2</span>_1     Alaska AK<span class="sc">|</span>Alaska      <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>  State     State</span>
<span id="cb403-5"><a href="geographic-computing-gis.html#cb403-5" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span>   USA United States USA<span class="fl">.3</span>_1    Arizona  AZ<span class="sc">|</span>Ariz.      <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>  State     State</span>
<span id="cb403-6"><a href="geographic-computing-gis.html#cb403-6" aria-hidden="true" tabindex="-1"></a><span class="dv">34</span>   USA United States USA<span class="fl">.4</span>_1   Arkansas   AR<span class="sc">|</span>Ark.      <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>  State     State</span>
<span id="cb403-7"><a href="geographic-computing-gis.html#cb403-7" aria-hidden="true" tabindex="-1"></a><span class="dv">45</span>   USA United States USA<span class="fl">.5</span>_1 California CA<span class="sc">|</span>Calif.      <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>  State     State</span>
<span id="cb403-8"><a href="geographic-computing-gis.html#cb403-8" aria-hidden="true" tabindex="-1"></a><span class="dv">48</span>   USA United States USA<span class="fl">.6</span>_1   Colorado  CO<span class="sc">|</span>Colo.      <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>  State     State</span>
<span id="cb403-9"><a href="geographic-computing-gis.html#cb403-9" aria-hidden="true" tabindex="-1"></a>   CC_1 HASC_1</span>
<span id="cb403-10"><a href="geographic-computing-gis.html#cb403-10" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>  US.AL</span>
<span id="cb403-11"><a href="geographic-computing-gis.html#cb403-11" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>  US.AK</span>
<span id="cb403-12"><a href="geographic-computing-gis.html#cb403-12" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>  US.AZ</span>
<span id="cb403-13"><a href="geographic-computing-gis.html#cb403-13" aria-hidden="true" tabindex="-1"></a><span class="dv">34</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>  US.AR</span>
<span id="cb403-14"><a href="geographic-computing-gis.html#cb403-14" aria-hidden="true" tabindex="-1"></a><span class="dv">45</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>  US.CA</span>
<span id="cb403-15"><a href="geographic-computing-gis.html#cb403-15" aria-hidden="true" tabindex="-1"></a><span class="dv">48</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>  US.CO</span></code></pre></div>
<ol start="13" style="list-style-type: decimal">
<li>Make an object just for Tennessee.</li>
</ol>
<div class="sourceCode" id="cb404"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb404-1"><a href="geographic-computing-gis.html#cb404-1" aria-hidden="true" tabindex="-1"></a>tn <span class="ot">&lt;-</span> states[states<span class="sc">$</span>NAME_1 <span class="sc">==</span> <span class="st">&#39;Tennessee&#39;</span>,]</span></code></pre></div>
<ol start="14" style="list-style-type: decimal">
<li>Plot Tennessee.</li>
</ol>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="geographic-computing-gis.html#cb405-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tn)</span></code></pre></div>
<p><img src="figures/unnamed-chunk-423-1.png" width="925.44" /></p>
<ol start="15" style="list-style-type: decimal">
<li>Use the <code>crop</code> and <code>mask</code> functions to get just Tennessee elevation.</li>
</ol>
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb406-1"><a href="geographic-computing-gis.html#cb406-1" aria-hidden="true" tabindex="-1"></a>tn_elev <span class="ot">&lt;-</span> <span class="fu">crop</span>(cont, tn)</span>
<span id="cb406-2"><a href="geographic-computing-gis.html#cb406-2" aria-hidden="true" tabindex="-1"></a>tn_elev <span class="ot">&lt;-</span> <span class="fu">mask</span>(tn_elev, tn)</span>
<span id="cb406-3"><a href="geographic-computing-gis.html#cb406-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tn_elev)</span></code></pre></div>
<p><img src="figures/unnamed-chunk-424-1.png" width="925.44" /></p>
<ol start="16" style="list-style-type: decimal">
<li><p>Cool, yeah? Now do the same for your favorite state.</p></li>
<li><p>Make a plot of Tennessee. And then add <code>elevation</code> (Sewanee elevation) to it.</p></li>
</ol>
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb407-1"><a href="geographic-computing-gis.html#cb407-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tn)</span></code></pre></div>
<p><img src="figures/unnamed-chunk-425-1.png" width="925.44" /></p>
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb408-1"><a href="geographic-computing-gis.html#cb408-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(elevation, <span class="at">add =</span> T)</span>
<span id="cb408-2"><a href="geographic-computing-gis.html#cb408-2" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">.local</span>(.Object, ...)<span class="sc">:</span> </span></code></pre></div>
<p>Oh no! That didn’t work. Why not? Have a look at coordinates</p>
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb409-1"><a href="geographic-computing-gis.html#cb409-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coordinates</span>(tn)</span>
<span id="cb409-2"><a href="geographic-computing-gis.html#cb409-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coordinates</span>(elevation)</span></code></pre></div>
<ol start="18" style="list-style-type: decimal">
<li>It seems like things are on different coordinate systems. Let’s convert elevation to the coordinate system of Tennessee.</li>
</ol>
<div class="sourceCode" id="cb410"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb410-1"><a href="geographic-computing-gis.html#cb410-1" aria-hidden="true" tabindex="-1"></a>elevation_ll <span class="ot">&lt;-</span> <span class="fu">projectRaster</span>(elevation, <span class="at">crs =</span> <span class="fu">proj4string</span>(tn))</span></code></pre></div>
<pre><code>Error in .local(.Object, ...): </code></pre>
<ol start="19" style="list-style-type: decimal">
<li>Great! Now we can try plotting Sewanee elevation on Tennessee again</li>
</ol>
<div class="sourceCode" id="cb412"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb412-1"><a href="geographic-computing-gis.html#cb412-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tn)</span></code></pre></div>
<p><img src="figures/unnamed-chunk-428-1.png" width="925.44" /></p>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb413-1"><a href="geographic-computing-gis.html#cb413-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(elevation_ll, <span class="at">add =</span> T)</span>
<span id="cb413-2"><a href="geographic-computing-gis.html#cb413-2" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">plot</span>(elevation_ll, <span class="at">add =</span> T)<span class="sc">:</span> object <span class="st">&#39;elevation_ll&#39;</span> not found</span></code></pre></div>
<ol start="20" style="list-style-type: decimal">
<li>Make a plot of Tennessee and add Sewanee’s domain (bounadry) to it.</li>
</ol>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="geographic-computing-gis.html#cb414-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tn)</span>
<span id="cb414-2"><a href="geographic-computing-gis.html#cb414-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(boundary, <span class="at">add =</span> T)</span></code></pre></div>
<p><img src="figures/unnamed-chunk-429-1.png" width="925.44" /></p>
<p>Uh oh. Same problem as before. We need to “reproject” boundary to latitude longitude.</p>
<ol start="21" style="list-style-type: decimal">
<li>Do it. Use the <code>spTransform</code> function (not <code>projectRaster</code> since <code>boundary</code> is not a raster).</li>
</ol>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb415-1"><a href="geographic-computing-gis.html#cb415-1" aria-hidden="true" tabindex="-1"></a>boundary_ll <span class="ot">&lt;-</span> <span class="fu">spTransform</span>(boundary, <span class="fu">proj4string</span>(tn))</span>
<span id="cb415-2"><a href="geographic-computing-gis.html#cb415-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tn)</span>
<span id="cb415-3"><a href="geographic-computing-gis.html#cb415-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(boundary_ll, <span class="at">add =</span> T)</span></code></pre></div>
<p><img src="figures/unnamed-chunk-430-1.png" width="925.44" /></p>
<ol start="22" style="list-style-type: decimal">
<li>Plot the Sewanee elevation in latitude and longitude and then add Sewanee boundary</li>
</ol>
<div class="sourceCode" id="cb416"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb416-1"><a href="geographic-computing-gis.html#cb416-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(elevation_ll)</span>
<span id="cb416-2"><a href="geographic-computing-gis.html#cb416-2" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">plot</span>(elevation_ll)<span class="sc">:</span> object <span class="st">&#39;elevation_ll&#39;</span> not found</span>
<span id="cb416-3"><a href="geographic-computing-gis.html#cb416-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(boundary_ll, <span class="at">add =</span> T)</span>
<span id="cb416-4"><a href="geographic-computing-gis.html#cb416-4" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">polypath</span>(<span class="at">x =</span> mcrds[, <span class="dv">1</span>], <span class="at">y =</span> mcrds[, <span class="dv">2</span>], <span class="at">border =</span> border, <span class="at">col =</span> col, <span class="sc">:</span> plot.new has not been called yet</span></code></pre></div>
<ol start="23" style="list-style-type: decimal">
<li>Use crop and mask to get just the elevation for the domain. Your plot should look like this.</li>
</ol>
<pre><code>Error in crop(elevation_ll, boundary_ll): object &#39;elevation_ll&#39; not found
Error in mask(domain_elev, boundary_ll): object &#39;domain_elev&#39; not found
Error in plot(domain_elev): object &#39;domain_elev&#39; not found</code></pre>
<ol start="24" style="list-style-type: decimal">
<li>Add roads to the plot</li>
</ol>
<pre><code>Error in plot.xy(xy.coords(x, y), type = type, ...): plot.new has not been called yet</code></pre>
<p>Oh no! Projection problems.</p>
<ol start="25" style="list-style-type: decimal">
<li>Reproject roads and add them.</li>
</ol>
<pre><code>Error in proj4string(domain_elev): object &#39;domain_elev&#39; not found</code></pre>
<ol start="26" style="list-style-type: decimal">
<li>Trim down the roads so that we only include those which are in the domain boundary area using the <code>over</code> function.</li>
</ol>
<div class="sourceCode" id="cb420"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb420-1"><a href="geographic-computing-gis.html#cb420-1" aria-hidden="true" tabindex="-1"></a>o <span class="ot">&lt;-</span> <span class="fu">over</span>(roads_ll, <span class="fu">polygons</span>(boundary_ll))</span>
<span id="cb420-2"><a href="geographic-computing-gis.html#cb420-2" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">over</span>(roads_ll, <span class="fu">polygons</span>(boundary_ll))<span class="sc">:</span> object <span class="st">&#39;roads_ll&#39;</span> not found</span>
<span id="cb420-3"><a href="geographic-computing-gis.html#cb420-3" aria-hidden="true" tabindex="-1"></a>roads_ll_trim <span class="ot">&lt;-</span> roads_ll[<span class="sc">!</span><span class="fu">is.na</span>(o),]</span>
<span id="cb420-4"><a href="geographic-computing-gis.html#cb420-4" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">eval</span>(expr, envir, enclos)<span class="sc">:</span> object <span class="st">&#39;roads_ll&#39;</span> not found</span></code></pre></div>
<ol start="27" style="list-style-type: decimal">
<li>Make the below plot</li>
</ol>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb421-1"><a href="geographic-computing-gis.html#cb421-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(domain_elev)</span>
<span id="cb421-2"><a href="geographic-computing-gis.html#cb421-2" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">plot</span>(domain_elev)<span class="sc">:</span> object <span class="st">&#39;domain_elev&#39;</span> not found</span>
<span id="cb421-3"><a href="geographic-computing-gis.html#cb421-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(roads_ll_trim, <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb421-4"><a href="geographic-computing-gis.html#cb421-4" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">plot</span>(roads_ll_trim, <span class="at">add =</span> <span class="cn">TRUE</span>)<span class="sc">:</span> object <span class="st">&#39;roads_ll_trim&#39;</span> not found</span></code></pre></div>
<ol start="28" style="list-style-type: decimal">
<li>Let’s make a rasterVis contour raster plot</li>
</ol>
<div class="sourceCode" id="cb422"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb422-1"><a href="geographic-computing-gis.html#cb422-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rasterVis)</span>
<span id="cb422-2"><a href="geographic-computing-gis.html#cb422-2" aria-hidden="true" tabindex="-1"></a>rasterVis<span class="sc">::</span><span class="fu">contourplot</span>(domain_elev)</span>
<span id="cb422-3"><a href="geographic-computing-gis.html#cb422-3" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> rasterVis<span class="sc">::</span><span class="fu">contourplot</span>(domain_elev)<span class="sc">:</span> object <span class="st">&#39;domain_elev&#39;</span> not found</span></code></pre></div>
<ol start="29" style="list-style-type: decimal">
<li>Let’s make a level plot</li>
</ol>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="geographic-computing-gis.html#cb423-1" aria-hidden="true" tabindex="-1"></a>rasterVis<span class="sc">::</span><span class="fu">levelplot</span>(domain_elev)</span>
<span id="cb423-2"><a href="geographic-computing-gis.html#cb423-2" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> rasterVis<span class="sc">::</span><span class="fu">levelplot</span>(domain_elev)<span class="sc">:</span> object <span class="st">&#39;domain_elev&#39;</span> not found</span></code></pre></div>
<ol start="30" style="list-style-type: decimal">
<li>Let’s make a level plot</li>
</ol>
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb424-1"><a href="geographic-computing-gis.html#cb424-1" aria-hidden="true" tabindex="-1"></a>rasterVis<span class="sc">::</span><span class="fu">levelplot</span>(domain_elev)</span>
<span id="cb424-2"><a href="geographic-computing-gis.html#cb424-2" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> rasterVis<span class="sc">::</span><span class="fu">levelplot</span>(domain_elev)<span class="sc">:</span> object <span class="st">&#39;domain_elev&#39;</span> not found</span></code></pre></div>
<ol start="31" style="list-style-type: decimal">
<li>How about a ggplot2-style plot</li>
</ol>
<div class="sourceCode" id="cb425"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb425-1"><a href="geographic-computing-gis.html#cb425-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb425-2"><a href="geographic-computing-gis.html#cb425-2" aria-hidden="true" tabindex="-1"></a>domain_elev_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(domain_elev, <span class="at">xy =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb425-3"><a href="geographic-computing-gis.html#cb425-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(DEM_USGS_10m))</span>
<span id="cb425-4"><a href="geographic-computing-gis.html#cb425-4" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">as.data.frame</span>(domain_elev, <span class="at">xy =</span> <span class="cn">TRUE</span>)<span class="sc">:</span> object <span class="st">&#39;domain_elev&#39;</span> not found</span>
<span id="cb425-5"><a href="geographic-computing-gis.html#cb425-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb425-6"><a href="geographic-computing-gis.html#cb425-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb425-7"><a href="geographic-computing-gis.html#cb425-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> domain_elev_df,</span>
<span id="cb425-8"><a href="geographic-computing-gis.html#cb425-8" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> x,</span>
<span id="cb425-9"><a href="geographic-computing-gis.html#cb425-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">y =</span> y,</span>
<span id="cb425-10"><a href="geographic-computing-gis.html#cb425-10" aria-hidden="true" tabindex="-1"></a>                  <span class="at">fill =</span> DEM_USGS_10m)) <span class="sc">+</span></span>
<span id="cb425-11"><a href="geographic-computing-gis.html#cb425-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_raster</span>() <span class="sc">+</span></span>
<span id="cb425-12"><a href="geographic-computing-gis.html#cb425-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient2</span>(<span class="at">low =</span> <span class="st">&#39;white&#39;</span>, <span class="at">high =</span> <span class="st">&#39;red&#39;</span>)</span>
<span id="cb425-13"><a href="geographic-computing-gis.html#cb425-13" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">ggplot</span>(<span class="at">data =</span> domain_elev_df, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">fill =</span> DEM_USGS_10m))<span class="sc">:</span> object <span class="st">&#39;domain_elev_df&#39;</span> not found</span></code></pre></div>
<ol start="32" style="list-style-type: decimal">
<li><p>Make a ggplot-style raster plot of USA elevation</p></li>
<li><p>Let’s “bin” values in <code>elevation</code> to say “high” or “low.”</p></li>
</ol>
<div class="sourceCode" id="cb426"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb426-1"><a href="geographic-computing-gis.html#cb426-1" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;black&#39;</span>, <span class="st">&#39;yellow&#39;</span>)</span>
<span id="cb426-2"><a href="geographic-computing-gis.html#cb426-2" aria-hidden="true" tabindex="-1"></a><span class="co"># add breaks to the colormap (6 breaks = 5 segments)</span></span>
<span id="cb426-3"><a href="geographic-computing-gis.html#cb426-3" aria-hidden="true" tabindex="-1"></a>brk <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">300</span>, <span class="dv">1000</span>)</span>
<span id="cb426-4"><a href="geographic-computing-gis.html#cb426-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb426-5"><a href="geographic-computing-gis.html#cb426-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(elevation, <span class="at">col=</span>cols, <span class="at">breaks=</span>brk, <span class="at">main=</span><span class="st">&quot;High vs low&quot;</span>)</span>
<span id="cb426-6"><a href="geographic-computing-gis.html#cb426-6" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">.local</span>(.Object, ...)<span class="sc">:</span> </span></code></pre></div>
<ol start="34" style="list-style-type: decimal">
<li><p>Do the same as above, but make 3 colors.</p></li>
<li><p>Let’s make a leaflet raster!</p></li>
</ol>
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb427-1"><a href="geographic-computing-gis.html#cb427-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb427-2"><a href="geographic-computing-gis.html#cb427-2" aria-hidden="true" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">colorNumeric</span>(<span class="fu">c</span>(<span class="st">&quot;#0C2C84&quot;</span>, <span class="st">&quot;#41B6C4&quot;</span>, <span class="st">&quot;#FFFFCC&quot;</span>), <span class="fu">values</span>(elevation_ll),</span>
<span id="cb427-3"><a href="geographic-computing-gis.html#cb427-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.color =</span> <span class="st">&quot;transparent&quot;</span>)</span>
<span id="cb427-4"><a href="geographic-computing-gis.html#cb427-4" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">values</span>(elevation_ll)<span class="sc">:</span> object <span class="st">&#39;elevation_ll&#39;</span> not found</span>
<span id="cb427-5"><a href="geographic-computing-gis.html#cb427-5" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb427-6"><a href="geographic-computing-gis.html#cb427-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addTiles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb427-7"><a href="geographic-computing-gis.html#cb427-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addRasterImage</span>(elevation_ll, <span class="at">colors =</span> pal, <span class="at">opacity =</span> <span class="fl">0.8</span>) <span class="sc">%&gt;%</span></span>
<span id="cb427-8"><a href="geographic-computing-gis.html#cb427-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addLegend</span>(<span class="at">pal =</span> pal, <span class="at">values =</span> <span class="fu">values</span>(elevation_ll),</span>
<span id="cb427-9"><a href="geographic-computing-gis.html#cb427-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Elevation&quot;</span>)</span>
<span id="cb427-10"><a href="geographic-computing-gis.html#cb427-10" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">values</span>(elevation_ll)<span class="sc">:</span> object <span class="st">&#39;elevation_ll&#39;</span> not found</span></code></pre></div>
<ol start="36" style="list-style-type: decimal">
<li><p>Add <code>structures</code> to the above. Hint: you’ll need to use <code>addPolygons</code> and you’ll need to reproject structures as <code>structures_ll</code>…</p></li>
<li><p>Add popups to your structures.</p></li>
<li><p>Make your structures a different color and remove the border (hint, you’ll need to use the <code>stroke</code> argument)</p></li>
<li><p>Get the elevation of each structure by running:</p></li>
</ol>
<div class="sourceCode" id="cb428"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb428-1"><a href="geographic-computing-gis.html#cb428-1" aria-hidden="true" tabindex="-1"></a>structure_elevation <span class="ot">&lt;-</span> </span>
<span id="cb428-2"><a href="geographic-computing-gis.html#cb428-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">extract</span>(elevation_ll, structures_ll),</span>
<span id="cb428-3"><a href="geographic-computing-gis.html#cb428-3" aria-hidden="true" tabindex="-1"></a>         <span class="cf">function</span>(x){</span>
<span id="cb428-4"><a href="geographic-computing-gis.html#cb428-4" aria-hidden="true" tabindex="-1"></a>           <span class="fu">mean</span>(x,<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb428-5"><a href="geographic-computing-gis.html#cb428-5" aria-hidden="true" tabindex="-1"></a>         }))</span></code></pre></div>
<ol start="40" style="list-style-type: decimal">
<li><p>Use the <code>structure_elevation</code> object to add a new column to the <code>structures_ll</code> object.</p></li>
<li><p>Make a histogram of the elevation of Sewanee buildings.</p></li>
<li><p>How low is the lowest building on the domain? How low is it?</p></li>
<li><p>How high is the highest building on the domain? Which building is it?</p></li>
</ol>
</div>
<div id="shapefiles-polygons" class="section level4 unnumbered">
<h4>Shapefiles / polygons</h4>
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb429-1"><a href="geographic-computing-gis.html#cb429-1" aria-hidden="true" tabindex="-1"></a>file_source <span class="ot">&lt;-</span> <span class="st">&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/world_shp.RData&#39;</span></span>
<span id="cb429-2"><a href="geographic-computing-gis.html#cb429-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb429-3"><a href="geographic-computing-gis.html#cb429-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rgdal)</span>
<span id="cb429-4"><a href="geographic-computing-gis.html#cb429-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span>
<span id="cb429-5"><a href="geographic-computing-gis.html#cb429-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sp)</span>
<span id="cb429-6"><a href="geographic-computing-gis.html#cb429-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb429-7"><a href="geographic-computing-gis.html#cb429-7" aria-hidden="true" tabindex="-1"></a>destination_directory <span class="ot">&lt;-</span> <span class="st">&#39;/tmp&#39;</span></span>
<span id="cb429-8"><a href="geographic-computing-gis.html#cb429-8" aria-hidden="true" tabindex="-1"></a>destination_file <span class="ot">&lt;-</span> <span class="fu">file.path</span>(destination_directory, <span class="st">&#39;world_shp.RData&#39;</span>)</span>
<span id="cb429-9"><a href="geographic-computing-gis.html#cb429-9" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="st">&#39;data/world_shp.RData&#39;</span> <span class="sc">%in%</span> destination_directory){</span>
<span id="cb429-10"><a href="geographic-computing-gis.html#cb429-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(file_source,</span>
<span id="cb429-11"><a href="geographic-computing-gis.html#cb429-11" aria-hidden="true" tabindex="-1"></a>                <span class="at">destfile =</span> destination_file)</span>
<span id="cb429-12"><a href="geographic-computing-gis.html#cb429-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb429-13"><a href="geographic-computing-gis.html#cb429-13" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(destination_file)</span>
<span id="cb429-14"><a href="geographic-computing-gis.html#cb429-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb429-15"><a href="geographic-computing-gis.html#cb429-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in indicator data</span></span>
<span id="cb429-16"><a href="geographic-computing-gis.html#cb429-16" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/hefpi.csv&#39;</span>)</span>
<span id="cb429-17"><a href="geographic-computing-gis.html#cb429-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb429-18"><a href="geographic-computing-gis.html#cb429-18" aria-hidden="true" tabindex="-1"></a>shp <span class="ot">&lt;-</span> world_shp</span></code></pre></div>
<p>Subset data by indicator &amp; join with shape file data</p>
<div class="sourceCode" id="cb430"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb430-1"><a href="geographic-computing-gis.html#cb430-1" aria-hidden="true" tabindex="-1"></a>pd <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(indicator_name <span class="sc">==</span><span class="st">&#39;Inpatient care use, adults&#39;</span>)</span>
<span id="cb430-2"><a href="geographic-computing-gis.html#cb430-2" aria-hidden="true" tabindex="-1"></a>shp<span class="sc">@</span>data <span class="ot">&lt;-</span> <span class="fu">left_join</span>(shp<span class="sc">@</span>data, pd)</span></code></pre></div>
<p>Make a basic (ugly) map</p>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb431-1"><a href="geographic-computing-gis.html#cb431-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb431-2"><a href="geographic-computing-gis.html#cb431-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb431-3"><a href="geographic-computing-gis.html#cb431-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb431-4"><a href="geographic-computing-gis.html#cb431-4" aria-hidden="true" tabindex="-1"></a><span class="co"># map text</span></span>
<span id="cb431-5"><a href="geographic-computing-gis.html#cb431-5" aria-hidden="true" tabindex="-1"></a>map_palette <span class="ot">&lt;-</span> <span class="fu">colorNumeric</span>(<span class="at">palette =</span> <span class="fu">brewer.pal</span>(<span class="dv">9</span>, <span class="st">&quot;Greens&quot;</span>), <span class="at">domain=</span>shp<span class="sc">@</span>data<span class="sc">$</span>value, <span class="at">na.color=</span><span class="st">&quot;#CECECE&quot;</span>)</span>
<span id="cb431-6"><a href="geographic-computing-gis.html#cb431-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb431-7"><a href="geographic-computing-gis.html#cb431-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">leaflet</span>(shp) <span class="sc">%&gt;%</span> </span>
<span id="cb431-8"><a href="geographic-computing-gis.html#cb431-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">addProviderTiles</span>(<span class="at">provider =</span> providers<span class="sc">$</span>Esri.WorldShadedRelief) <span class="sc">%&gt;%</span></span>
<span id="cb431-9"><a href="geographic-computing-gis.html#cb431-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">addPolygons</span>( </span>
<span id="cb431-10"><a href="geographic-computing-gis.html#cb431-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">fillColor =</span> <span class="sc">~</span><span class="fu">map_palette</span>(value),</span>
<span id="cb431-11"><a href="geographic-computing-gis.html#cb431-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">fillOpacity =</span> <span class="fl">0.9</span>)</span>
<span id="cb431-12"><a href="geographic-computing-gis.html#cb431-12" aria-hidden="true" tabindex="-1"></a>        </span></code></pre></div>
<p>Clean up the borders and add label</p>
<div class="sourceCode" id="cb432"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb432-1"><a href="geographic-computing-gis.html#cb432-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb432-2"><a href="geographic-computing-gis.html#cb432-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">leaflet</span>(shp, <span class="at">options =</span> <span class="fu">leafletOptions</span>(<span class="at">minZoom =</span> <span class="dv">1</span>,<span class="at">maxZoom =</span> <span class="dv">10</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb432-3"><a href="geographic-computing-gis.html#cb432-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">addProviderTiles</span>(<span class="at">provider =</span> providers<span class="sc">$</span>Esri.WorldShadedRelief) <span class="sc">%&gt;%</span></span>
<span id="cb432-4"><a href="geographic-computing-gis.html#cb432-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">addPolygons</span>( </span>
<span id="cb432-5"><a href="geographic-computing-gis.html#cb432-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">fillColor =</span> <span class="sc">~</span><span class="fu">map_palette</span>(value),</span>
<span id="cb432-6"><a href="geographic-computing-gis.html#cb432-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">fillOpacity =</span> <span class="fl">0.9</span>)</span>
<span id="cb432-7"><a href="geographic-computing-gis.html#cb432-7" aria-hidden="true" tabindex="-1"></a>        </span></code></pre></div>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb433-1"><a href="geographic-computing-gis.html#cb433-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb433-2"><a href="geographic-computing-gis.html#cb433-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">leaflet</span>(shp, <span class="at">options =</span> <span class="fu">leafletOptions</span>(<span class="at">minZoom =</span> <span class="dv">1</span>,<span class="at">maxZoom =</span> <span class="dv">10</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb433-3"><a href="geographic-computing-gis.html#cb433-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">addProviderTiles</span>(<span class="at">provider =</span> providers<span class="sc">$</span>Esri.WorldShadedRelief) <span class="sc">%&gt;%</span></span>
<span id="cb433-4"><a href="geographic-computing-gis.html#cb433-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">addPolygons</span>( </span>
<span id="cb433-5"><a href="geographic-computing-gis.html#cb433-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb433-6"><a href="geographic-computing-gis.html#cb433-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">weight=</span><span class="dv">1</span>,</span>
<span id="cb433-7"><a href="geographic-computing-gis.html#cb433-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">fillColor =</span> <span class="sc">~</span><span class="fu">map_palette</span>(value), </span>
<span id="cb433-8"><a href="geographic-computing-gis.html#cb433-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">stroke=</span><span class="cn">TRUE</span>,</span>
<span id="cb433-9"><a href="geographic-computing-gis.html#cb433-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">fillOpacity =</span> <span class="fl">0.9</span>, </span>
<span id="cb433-10"><a href="geographic-computing-gis.html#cb433-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">label =</span> <span class="sc">~</span><span class="fu">round</span>(value, <span class="dv">2</span>))</span>
<span id="cb433-11"><a href="geographic-computing-gis.html#cb433-11" aria-hidden="true" tabindex="-1"></a>        </span></code></pre></div>
<p>Add legend</p>
<div class="sourceCode" id="cb434"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb434-1"><a href="geographic-computing-gis.html#cb434-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb434-2"><a href="geographic-computing-gis.html#cb434-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">leaflet</span>(shp, <span class="at">options =</span> <span class="fu">leafletOptions</span>(<span class="at">minZoom =</span> <span class="dv">1</span>,<span class="at">maxZoom =</span> <span class="dv">10</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb434-3"><a href="geographic-computing-gis.html#cb434-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">addProviderTiles</span>(<span class="at">provider =</span> providers<span class="sc">$</span>Esri.WorldShadedRelief) <span class="sc">%&gt;%</span></span>
<span id="cb434-4"><a href="geographic-computing-gis.html#cb434-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">addPolygons</span>( </span>
<span id="cb434-5"><a href="geographic-computing-gis.html#cb434-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb434-6"><a href="geographic-computing-gis.html#cb434-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">weight=</span><span class="dv">1</span>,</span>
<span id="cb434-7"><a href="geographic-computing-gis.html#cb434-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">fillColor =</span> <span class="sc">~</span><span class="fu">map_palette</span>(value), </span>
<span id="cb434-8"><a href="geographic-computing-gis.html#cb434-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">stroke=</span><span class="cn">TRUE</span>,</span>
<span id="cb434-9"><a href="geographic-computing-gis.html#cb434-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">fillOpacity =</span> <span class="fl">0.9</span>, </span>
<span id="cb434-10"><a href="geographic-computing-gis.html#cb434-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">label =</span> <span class="sc">~</span>country</span>
<span id="cb434-11"><a href="geographic-computing-gis.html#cb434-11" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span> </span>
<span id="cb434-12"><a href="geographic-computing-gis.html#cb434-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">addLegend</span>( <span class="at">pal=</span>map_palette, <span class="at">values=</span><span class="sc">~</span>value, <span class="at">opacity=</span><span class="fl">0.9</span>, <span class="at">position =</span> <span class="st">&quot;bottomleft&quot;</span>, <span class="at">na.label =</span> <span class="st">&quot;NA&quot;</span> )</span></code></pre></div>
<p>Add fancy text to map</p>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb435-1"><a href="geographic-computing-gis.html#cb435-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmltools)</span>
<span id="cb435-2"><a href="geographic-computing-gis.html#cb435-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb435-3"><a href="geographic-computing-gis.html#cb435-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create map</span></span>
<span id="cb435-4"><a href="geographic-computing-gis.html#cb435-4" aria-hidden="true" tabindex="-1"></a>map_text <span class="ot">&lt;-</span> <span class="fu">paste</span>(</span>
<span id="cb435-5"><a href="geographic-computing-gis.html#cb435-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Indicator: &quot;</span>,  shp<span class="sc">@</span>data<span class="sc">$</span>indicator_name,<span class="st">&quot;&lt;br&gt;&quot;</span>,</span>
<span id="cb435-6"><a href="geographic-computing-gis.html#cb435-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Economy: &quot;</span>, <span class="fu">as.character</span>(shp<span class="sc">@</span>data<span class="sc">$</span>country),<span class="st">&quot;&lt;br/&gt;&quot;</span>, </span>
<span id="cb435-7"><a href="geographic-computing-gis.html#cb435-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;Value: &#39;</span>, <span class="fu">round</span>(shp<span class="sc">@</span>data<span class="sc">$</span>value, <span class="at">digits =</span> <span class="dv">2</span>),  <span class="st">&quot;&lt;br/&gt;&quot;</span>,</span>
<span id="cb435-8"><a href="geographic-computing-gis.html#cb435-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Year: &quot;</span>, <span class="fu">as.character</span>(shp<span class="sc">@</span>data<span class="sc">$</span>year),<span class="st">&quot;&lt;br/&gt;&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb435-9"><a href="geographic-computing-gis.html#cb435-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lapply</span>(htmltools<span class="sc">::</span>HTML)</span>
<span id="cb435-10"><a href="geographic-computing-gis.html#cb435-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb435-11"><a href="geographic-computing-gis.html#cb435-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">leaflet</span>(shp, <span class="at">options =</span> <span class="fu">leafletOptions</span>(<span class="at">minZoom =</span> <span class="dv">1</span>, </span>
<span id="cb435-12"><a href="geographic-computing-gis.html#cb435-12" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">maxZoom =</span> <span class="dv">10</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb435-13"><a href="geographic-computing-gis.html#cb435-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">addProviderTiles</span>(<span class="st">&#39;Esri.WorldShadedRelief&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb435-14"><a href="geographic-computing-gis.html#cb435-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">addPolygons</span>( </span>
<span id="cb435-15"><a href="geographic-computing-gis.html#cb435-15" aria-hidden="true" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb435-16"><a href="geographic-computing-gis.html#cb435-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">fillColor =</span> <span class="sc">~</span><span class="fu">map_palette</span>(value), </span>
<span id="cb435-17"><a href="geographic-computing-gis.html#cb435-17" aria-hidden="true" tabindex="-1"></a>          <span class="at">stroke=</span><span class="cn">TRUE</span>, </span>
<span id="cb435-18"><a href="geographic-computing-gis.html#cb435-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">fillOpacity =</span> <span class="fl">0.9</span>, </span>
<span id="cb435-19"><a href="geographic-computing-gis.html#cb435-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">weight=</span><span class="dv">1</span>,</span>
<span id="cb435-20"><a href="geographic-computing-gis.html#cb435-20" aria-hidden="true" tabindex="-1"></a>          <span class="at">label =</span> map_text,</span>
<span id="cb435-21"><a href="geographic-computing-gis.html#cb435-21" aria-hidden="true" tabindex="-1"></a>          <span class="at">highlightOptions =</span> <span class="fu">highlightOptions</span>(</span>
<span id="cb435-22"><a href="geographic-computing-gis.html#cb435-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">weight =</span> <span class="dv">1</span>,</span>
<span id="cb435-23"><a href="geographic-computing-gis.html#cb435-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">fillColor =</span> <span class="st">&#39;white&#39;</span>,</span>
<span id="cb435-24"><a href="geographic-computing-gis.html#cb435-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">fillOpacity =</span> <span class="dv">1</span>,</span>
<span id="cb435-25"><a href="geographic-computing-gis.html#cb435-25" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb435-26"><a href="geographic-computing-gis.html#cb435-26" aria-hidden="true" tabindex="-1"></a>            <span class="at">opacity =</span> <span class="fl">1.0</span>,</span>
<span id="cb435-27"><a href="geographic-computing-gis.html#cb435-27" aria-hidden="true" tabindex="-1"></a>            <span class="at">bringToFront =</span> <span class="cn">TRUE</span>,</span>
<span id="cb435-28"><a href="geographic-computing-gis.html#cb435-28" aria-hidden="true" tabindex="-1"></a>            <span class="at">sendToBack =</span> <span class="cn">TRUE</span></span>
<span id="cb435-29"><a href="geographic-computing-gis.html#cb435-29" aria-hidden="true" tabindex="-1"></a>          ),</span>
<span id="cb435-30"><a href="geographic-computing-gis.html#cb435-30" aria-hidden="true" tabindex="-1"></a>          <span class="at">labelOptions =</span> <span class="fu">labelOptions</span>( </span>
<span id="cb435-31"><a href="geographic-computing-gis.html#cb435-31" aria-hidden="true" tabindex="-1"></a>            <span class="at">noHide =</span> <span class="cn">FALSE</span>,</span>
<span id="cb435-32"><a href="geographic-computing-gis.html#cb435-32" aria-hidden="true" tabindex="-1"></a>            <span class="at">style =</span> <span class="fu">list</span>(<span class="st">&quot;font-weight&quot;</span> <span class="ot">=</span> <span class="st">&quot;normal&quot;</span>, <span class="at">padding =</span> <span class="st">&quot;3px 8px&quot;</span>), </span>
<span id="cb435-33"><a href="geographic-computing-gis.html#cb435-33" aria-hidden="true" tabindex="-1"></a>            <span class="at">textsize =</span> <span class="st">&quot;13px&quot;</span>, </span>
<span id="cb435-34"><a href="geographic-computing-gis.html#cb435-34" aria-hidden="true" tabindex="-1"></a>            <span class="at">direction =</span> <span class="st">&quot;auto&quot;</span></span>
<span id="cb435-35"><a href="geographic-computing-gis.html#cb435-35" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb435-36"><a href="geographic-computing-gis.html#cb435-36" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span> </span>
<span id="cb435-37"><a href="geographic-computing-gis.html#cb435-37" aria-hidden="true" tabindex="-1"></a>        <span class="fu">addLegend</span>( <span class="at">pal=</span>map_palette, <span class="at">values=</span><span class="sc">~</span>value, <span class="at">opacity=</span><span class="fl">0.9</span>, <span class="at">position =</span> <span class="st">&quot;bottomleft&quot;</span>, <span class="at">na.label =</span> <span class="st">&quot;NA&quot;</span> )</span></code></pre></div>
</div>
</div>
<div id="exercise-10" class="section level2 unnumbered">
<h2>Exercise</h2>
<ol style="list-style-type: decimal">
<li><p>Make a choropleth map of BMI for men, where the darker the shade of red, the higher the BMI for each country.</p></li>
<li><p>Remove the borders from the map</p></li>
<li><p>Add a legend on the top right of the map</p></li>
<li><p>Make the NA color blue</p></li>
<li><p>Make the hover label a combination of the country and BMI value</p></li>
<li><p>Make the title of the legend “BMI”</p></li>
<li><p>Create a function that takes an indicator name as an input and creates a map.</p></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="mapping.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="statistical-modeling.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/databrew/intro-to-data-science/edit/master/15-gis.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["intro-to-data-science.pdf", "intro-to-data-science.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
