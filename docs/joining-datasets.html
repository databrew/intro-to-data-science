<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 19 Joining datasets | DataBOOM: the canon for data science</title>
  <meta name="description" content="Data science is just data and science. But it’s better with pizza." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 19 Joining datasets | DataBOOM: the canon for data science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Data science is just data and science. But it’s better with pizza." />
  <meta name="github-repo" content="databrew/intro-to-data-science" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 19 Joining datasets | DataBOOM: the canon for data science" />
  
  <meta name="twitter:description" content="Data science is just data and science. But it’s better with pizza." />
  

<meta name="author" content="Databrew" />


<meta name="date" content="2021-05-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
<link rel="prev" href="significance-statistics.html"/>
<link rel="next" href="writing-functions.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DataBOOM: the canon for data science </a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-this-is-and-what-it-isnt"><i class="fa fa-check"></i>What this is, and what it isn’t</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-this-is-for"><i class="fa fa-check"></i>Who this is for</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-you-will-learn"><i class="fa fa-check"></i>What you will learn</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#making-the-most-of-this-course"><i class="fa fa-check"></i>Making the most of this course</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-we-are"><i class="fa fa-check"></i>Who we are</a></li>
</ul></li>
<li class="part"><span><b>I Core theory</b></span></li>
<li class="chapter" data-level="2" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html"><i class="fa fa-check"></i><b>2</b> Principles of data science</a><ul>
<li class="chapter" data-level="2.1" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#what-is-data-science"><i class="fa fa-check"></i><b>2.1</b> What is data science?</a></li>
<li class="chapter" data-level="2.2" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#what-is-the-data-life-cycle"><i class="fa fa-check"></i><b>2.2</b> What is the data life cycle?</a></li>
<li class="chapter" data-level="2.3" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#what-is-a-pipeline"><i class="fa fa-check"></i><b>2.3</b> What is a pipeline?</a></li>
<li class="chapter" data-level="2.4" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#data-science-in-the-wild"><i class="fa fa-check"></i><b>2.4</b> Data science ‘in the wild’</a></li>
<li class="chapter" data-level="2.5" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#the-reproducibility-crisis"><i class="fa fa-check"></i><b>2.5</b> The reproducibility crisis</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>3</b> Visualizing data</a><ul>
<li class="chapter" data-level="3.1" data-path="dataviz.html"><a href="dataviz.html#bad-examples"><i class="fa fa-check"></i><b>3.1</b> Bad examples</a></li>
<li class="chapter" data-level="3.2" data-path="dataviz.html"><a href="dataviz.html#good-exaples"><i class="fa fa-check"></i><b>3.2</b> Good exaples</a></li>
<li class="chapter" data-level="3.3" data-path="dataviz.html"><a href="dataviz.html#edward-tufte"><i class="fa fa-check"></i><b>3.3</b> Edward Tufte</a></li>
<li class="chapter" data-level="3.4" data-path="dataviz.html"><a href="dataviz.html#grammar-of-graphics"><i class="fa fa-check"></i><b>3.4</b> Grammar of graphics</a></li>
<li class="chapter" data-level="3.5" data-path="dataviz.html"><a href="dataviz.html#design-principles"><i class="fa fa-check"></i><b>3.5</b> Design principles</a></li>
<li class="chapter" data-level="3.6" data-path="dataviz.html"><a href="dataviz.html#plots-power"><i class="fa fa-check"></i><b>3.6</b> Plots &amp; power</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-ethics.html"><a href="data-ethics.html"><i class="fa fa-check"></i><b>4</b> Data ethics</a></li>
<li class="part"><span><b>II Getting sta<code>r</code>ted</b></span></li>
<li class="chapter" data-level="5" data-path="setting-up-rstudio.html"><a href="setting-up-rstudio.html"><i class="fa fa-check"></i><b>5</b> Setting up <code>RStudio</code></a></li>
<li class="chapter" data-level="6" data-path="running-r-code.html"><a href="running-r-code.html"><i class="fa fa-check"></i><b>6</b> Running R code</a><ul>
<li><a href="running-r-code.html#rstudios-console">RStudio’s <em>Console</em></a></li>
<li><a href="running-r-code.html#running-code-in-the-console">Running code in the <em>Console</em></a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#use-r-like-a-calculator"><i class="fa fa-check"></i>Use R like a calculator</a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#using-operators-in-r"><i class="fa fa-check"></i>Using operators in R</a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#use-built-in-functions-within-r"><i class="fa fa-check"></i>Use built-in functions within R</a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#review-assignment"><i class="fa fa-check"></i>Review assignment:</a></li>
<li class="chapter" data-level="6.1" data-path="running-r-code.html"><a href="running-r-code.html#other-resources"><i class="fa fa-check"></i><b>6.1</b> Other Resources</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html"><i class="fa fa-check"></i><b>7</b> Using <code>RStudio</code> and <code>R</code> scripts</a><ul>
<li><a href="using-rstudio-and-r-scripts.html#r-and-rstudio-whats-the-difference"><code>R</code> and <code>RStudio</code>: what’s the difference?</a></li>
<li><a href="using-rstudio-and-r-scripts.html#two-minute-tour-of-rstudio">Two-minute tour of <code>RStudio</code></a></li>
<li class="chapter" data-level="" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html#scripts"><i class="fa fa-check"></i>Scripts</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html#your-working-directory"><i class="fa fa-check"></i>Your working directory</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html#typical-workflows"><i class="fa fa-check"></i>Typical workflows</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html#review-assignment-1"><i class="fa fa-check"></i>Review assignment:</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html#other-resources-1"><i class="fa fa-check"></i>Other Resources</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="variables-in-r.html"><a href="variables-in-r.html"><i class="fa fa-check"></i><b>8</b> Variables in <code>R</code></a><ul>
<li class="chapter" data-level="" data-path="variables-in-r.html"><a href="variables-in-r.html#introducing-variables"><i class="fa fa-check"></i>Introducing variables</a></li>
<li><a href="variables-in-r.html#types-of-data-in-r">Types of data in <code>R</code></a></li>
<li class="chapter" data-level="" data-path="variables-in-r.html"><a href="variables-in-r.html#review-assignment-2"><i class="fa fa-check"></i>Review assignment</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="structures-for-data-in-r.html"><a href="structures-for-data-in-r.html"><i class="fa fa-check"></i><b>9</b> Structures for data in <code>R</code></a><ul>
<li class="chapter" data-level="" data-path="structures-for-data-in-r.html"><a href="structures-for-data-in-r.html#introducing-data-structures"><i class="fa fa-check"></i>Introducing data structures</a></li>
<li class="chapter" data-level="" data-path="structures-for-data-in-r.html"><a href="structures-for-data-in-r.html#vectors"><i class="fa fa-check"></i>Vectors</a></li>
<li class="chapter" data-level="" data-path="structures-for-data-in-r.html"><a href="structures-for-data-in-r.html#review-assignment-3"><i class="fa fa-check"></i>Review assignment</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="calling-functions.html"><a href="calling-functions.html"><i class="fa fa-check"></i><b>10</b> Calling functions</a><ul>
<li><a href="calling-functions.html#introducing-r-functions">Introducing <code>R</code> functions</a></li>
<li class="chapter" data-level="" data-path="calling-functions.html"><a href="calling-functions.html#review-assignment-4"><i class="fa fa-check"></i>Review assignment</a></li>
<li class="chapter" data-level="" data-path="calling-functions.html"><a href="calling-functions.html#other-resources-2"><i class="fa fa-check"></i>Other Resources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="base-plots.html"><a href="base-plots.html"><i class="fa fa-check"></i><b>11</b> Base plots</a><ul>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#create-a-basic-plot"><i class="fa fa-check"></i>Create a basic plot</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#most-common-types-of-plots"><i class="fa fa-check"></i>Most common types of plots</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#basic-plot-formatting"><i class="fa fa-check"></i>Basic plot formatting</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#plotting-with-data-frames"><i class="fa fa-check"></i>Plotting with data frames</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#next-level-plotting"><i class="fa fa-check"></i>Next-level plotting</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#review-assignment-5"><i class="fa fa-check"></i>Review assignment</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#other-resources-3"><i class="fa fa-check"></i>Other Resources</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>12</b> Packages</a><ul>
<li><a href="packages.html#introducing-r-packages">Introducing <code>R</code> packages</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#finding-the-packages-already-on-your-computer"><i class="fa fa-check"></i>Finding the packages already on your computer</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#installing-a-new-package"><i class="fa fa-check"></i>Installing a new package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#loading-an-installed-package"><i class="fa fa-check"></i>Loading an installed package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#calling-functions-from-a-package"><i class="fa fa-check"></i>Calling functions from a package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#review-the-workflow-for-using-a-package"><i class="fa fa-check"></i>Review: the workflow for using a package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#a-note-on-package-dependencies"><i class="fa fa-check"></i>A note on package dependencies</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#a-note-on-package-versions"><i class="fa fa-check"></i>A note on package versions</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#review-assignment-6"><i class="fa fa-check"></i>Review assignment</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#other-resources-4"><i class="fa fa-check"></i>Other Resources</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html"><i class="fa fa-check"></i><b>13</b> Basics of ggplot</a><ul>
<li class="chapter" data-level="13.1" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#what-is-ggplot"><i class="fa fa-check"></i><b>13.1</b> What is ggplot</a></li>
<li class="chapter" data-level="13.2" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#the-name-and-concept"><i class="fa fa-check"></i><b>13.2</b> The name and concept</a></li>
<li class="chapter" data-level="13.3" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#a-practical-example"><i class="fa fa-check"></i><b>13.3</b> A practical example</a></li>
<li class="chapter" data-level="13.4" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#learning-examples"><i class="fa fa-check"></i><b>13.4</b> Learning examples</a></li>
<li class="chapter" data-level="13.5" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#review-assignment-7"><i class="fa fa-check"></i><b>13.5</b> Review assignment:</a></li>
<li class="chapter" data-level="13.6" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#other-resources-5"><i class="fa fa-check"></i><b>13.6</b> Other resources:</a></li>
</ul></li>
<li class="part"><span><b>III Basic <code>R</code> workflow</b></span></li>
<li class="chapter" data-level="14" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>14</b> Importing data</a><ul>
<li><a href="importing-data.html#csv-files"><code>.csv</code> files</a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#data-format-requirements"><i class="fa fa-check"></i>Data format requirements</a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#reading-in-data"><i class="fa fa-check"></i>Reading in data</a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#review-exercise"><i class="fa fa-check"></i>Review exercise</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="dataframes.html"><a href="dataframes.html"><i class="fa fa-check"></i><b>15</b> Dataframes</a><ul>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#subsetting-exploring-dataframes"><i class="fa fa-check"></i>Subsetting &amp; exploring dataframes</a></li>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#tidy-data"><i class="fa fa-check"></i>Tidy data</a></li>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#review-exercise-1"><i class="fa fa-check"></i>Review exercise</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="exporting-data-plots.html"><a href="exporting-data-plots.html"><i class="fa fa-check"></i><b>16</b> Exporting data &amp; plots</a><ul>
<li><a href="exporting-data-plots.html#write.csv"><code>write.csv()</code></a></li>
<li><a href="exporting-data-plots.html#saverds"><code>saveRDS()</code></a></li>
<li><a href="exporting-data-plots.html#pdf-and-png"><code>pdf()</code> and <code>png()</code></a></li>
<li class="chapter" data-level="" data-path="exporting-data-plots.html"><a href="exporting-data-plots.html#review-exercise-2"><i class="fa fa-check"></i>Review exercise</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>17</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exploring-distributions"><i class="fa fa-check"></i>Exploring distributions</a></li>
<li class="chapter" data-level="17.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#tables"><i class="fa fa-check"></i><b>17.1</b> Tables {-}</a></li>
<li class="chapter" data-level="" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#descriptive-statistics"><i class="fa fa-check"></i>Descriptive statistics</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="significance-statistics.html"><a href="significance-statistics.html"><i class="fa fa-check"></i><b>18</b> Significance statistics</a><ul>
<li class="chapter" data-level="18.1" data-path="significance-statistics.html"><a href="significance-statistics.html#variable-types-statistics"><i class="fa fa-check"></i><b>18.1</b> Variable types &amp; statistics</a></li>
<li class="chapter" data-level="18.2" data-path="significance-statistics.html"><a href="significance-statistics.html#thinking-about-significance"><i class="fa fa-check"></i><b>18.2</b> Thinking about significance</a></li>
<li class="chapter" data-level="18.3" data-path="significance-statistics.html"><a href="significance-statistics.html#comparison-tests"><i class="fa fa-check"></i><b>18.3</b> Comparison tests</a></li>
<li class="chapter" data-level="18.4" data-path="significance-statistics.html"><a href="significance-statistics.html#correlation-tests"><i class="fa fa-check"></i><b>18.4</b> Correlation tests</a></li>
</ul></li>
<li class="part"><span><b>IV Essential <code>R</code> skills</b></span></li>
<li class="chapter" data-level="19" data-path="joining-datasets.html"><a href="joining-datasets.html"><i class="fa fa-check"></i><b>19</b> Joining datasets</a><ul>
<li class="chapter" data-level="" data-path="joining-datasets.html"><a href="joining-datasets.html#joining-the-basics"><i class="fa fa-check"></i>Joining: the basics</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="writing-functions.html"><a href="writing-functions.html"><i class="fa fa-check"></i><b>20</b> Writing functions</a><ul>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#first-steps"><i class="fa fa-check"></i>First steps</a></li>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#next-steps"><i class="fa fa-check"></i>Next steps</a></li>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#sourcing-functions"><i class="fa fa-check"></i>Sourcing functions</a></li>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#review-assignment-baby-names-over-time"><i class="fa fa-check"></i>Review assignment: Baby names over time</a></li>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#other-resources-6"><i class="fa fa-check"></i>Other Resources</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>21</b> <code>for</code> loops</a><ul>
<li class="chapter" data-level="" data-path="for-loops.html"><a href="for-loops.html#basics"><i class="fa fa-check"></i>Basics</a></li>
<li><a href="for-loops.html#for-loops-in-plots"><code>for</code> loops in plots</a></li>
<li><a href="for-loops.html#using-for-loops-to-process-summarize-data">Using <code>for</code> loops to process &amp; summarize data</a></li>
<li class="chapter" data-level="" data-path="for-loops.html"><a href="for-loops.html#review-assignment-8"><i class="fa fa-check"></i>Review assignment</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="conditional-statements.html"><a href="conditional-statements.html"><i class="fa fa-check"></i><b>22</b> Conditional statements</a><ul>
<li class="chapter" data-level="" data-path="conditional-statements.html"><a href="conditional-statements.html#first-steps-1"><i class="fa fa-check"></i>First steps</a></li>
<li class="chapter" data-level="" data-path="conditional-statements.html"><a href="conditional-statements.html#next-steps-1"><i class="fa fa-check"></i>Next steps</a></li>
<li class="chapter" data-level="" data-path="conditional-statements.html"><a href="conditional-statements.html#review-assignment-9"><i class="fa fa-check"></i>Review assignment</a></li>
<li class="chapter" data-level="" data-path="conditional-statements.html"><a href="conditional-statements.html#other-resources-7"><i class="fa fa-check"></i>Other Resources</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="working-with-text.html"><a href="working-with-text.html"><i class="fa fa-check"></i><b>23</b> Working with text</a><ul>
<li class="chapter" data-level="" data-path="working-with-text.html"><a href="working-with-text.html#basics-1"><i class="fa fa-check"></i>Basics</a></li>
<li class="chapter" data-level="" data-path="working-with-text.html"><a href="working-with-text.html#common-tools"><i class="fa fa-check"></i>Common tools</a></li>
<li class="chapter" data-level="" data-path="working-with-text.html"><a href="working-with-text.html#review-assignment-10"><i class="fa fa-check"></i>Review assignment</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="working-with-dates-times.html"><a href="working-with-dates-times.html"><i class="fa fa-check"></i><b>24</b> Working with dates &amp; times</a></li>
<li class="chapter" data-level="25" data-path="working-with-factors.html"><a href="working-with-factors.html"><i class="fa fa-check"></i><b>25</b> Working with factors</a></li>
<li class="chapter" data-level="26" data-path="cleaning-messy-data.html"><a href="cleaning-messy-data.html"><i class="fa fa-check"></i><b>26</b> Cleaning messy data</a></li>
<li class="chapter" data-level="27" data-path="matrices-lists.html"><a href="matrices-lists.html"><i class="fa fa-check"></i><b>27</b> Matrices &amp; lists</a></li>
<li class="chapter" data-level="28" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i><b>28</b> Pipes</a></li>
<li class="chapter" data-level="29" data-path="excel-files-googlesheets.html"><a href="excel-files-googlesheets.html"><i class="fa fa-check"></i><b>29</b> Excel files &amp; GoogleSheets</a><ul>
<li class="chapter" data-level="" data-path="excel-files-googlesheets.html"><a href="excel-files-googlesheets.html#learning-goals-16"><i class="fa fa-check"></i>Learning goals</a></li>
<li class="chapter" data-level="" data-path="excel-files-googlesheets.html"><a href="excel-files-googlesheets.html#review-exercise-4"><i class="fa fa-check"></i>Review exercise</a></li>
</ul></li>
<li class="part"><span><b>V Interactive dashboards</b></span></li>
<li class="chapter" data-level="30" data-path="intro-to-shiny-apps.html"><a href="intro-to-shiny-apps.html"><i class="fa fa-check"></i><b>30</b> Intro to Shiny apps</a></li>
<li class="chapter" data-level="31" data-path="shiny-dashboards.html"><a href="shiny-dashboards.html"><i class="fa fa-check"></i><b>31</b> Shiny dashboards</a></li>
<li class="chapter" data-level="32" data-path="data-entry-apps.html"><a href="data-entry-apps.html"><i class="fa fa-check"></i><b>32</b> Data entry apps</a></li>
<li class="part"><span><b>VI Databases</b></span></li>
<li class="chapter" data-level="33" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>33</b> Introduction</a><ul>
<li class="chapter" data-level="33.1" data-path="introduction-1.html"><a href="introduction-1.html#what"><i class="fa fa-check"></i><b>33.1</b> What</a></li>
<li class="chapter" data-level="33.2" data-path="introduction-1.html"><a href="introduction-1.html#why"><i class="fa fa-check"></i><b>33.2</b> Why</a></li>
<li class="chapter" data-level="33.3" data-path="introduction-1.html"><a href="introduction-1.html#when"><i class="fa fa-check"></i><b>33.3</b> When</a></li>
<li class="chapter" data-level="33.4" data-path="introduction-1.html"><a href="introduction-1.html#when-not"><i class="fa fa-check"></i><b>33.4</b> When not</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="platforms.html"><a href="platforms.html"><i class="fa fa-check"></i><b>34</b> Platforms</a><ul>
<li class="chapter" data-level="34.1" data-path="platforms.html"><a href="platforms.html#postgresql"><i class="fa fa-check"></i><b>34.1</b> PostgreSQL</a></li>
<li class="chapter" data-level="34.2" data-path="platforms.html"><a href="platforms.html#mysql"><i class="fa fa-check"></i><b>34.2</b> mySQL</a></li>
<li class="chapter" data-level="34.3" data-path="platforms.html"><a href="platforms.html#sqlite"><i class="fa fa-check"></i><b>34.3</b> SQLite</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="alternatives.html"><a href="alternatives.html"><i class="fa fa-check"></i><b>35</b> Alternatives</a><ul>
<li class="chapter" data-level="35.1" data-path="alternatives.html"><a href="alternatives.html#nosql"><i class="fa fa-check"></i><b>35.1</b> NoSQL</a></li>
</ul></li>
<li class="chapter" data-level="36" data-path="practices.html"><a href="practices.html"><i class="fa fa-check"></i><b>36</b> Practices</a></li>
<li class="part"><span><b>VII Documenting your work</b></span></li>
<li class="chapter" data-level="37" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>37</b> R Markdown</a></li>
<li class="chapter" data-level="38" data-path="reproducible-research.html"><a href="reproducible-research.html"><i class="fa fa-check"></i><b>38</b> Reproducible research</a></li>
<li class="chapter" data-level="39" data-path="automated-reporting.html"><a href="automated-reporting.html"><i class="fa fa-check"></i><b>39</b> Automated reporting</a></li>
<li class="chapter" data-level="40" data-path="formatting-standards.html"><a href="formatting-standards.html"><i class="fa fa-check"></i><b>40</b> Formatting standards</a><ul>
<li class="chapter" data-level="40.1" data-path="formatting-standards.html"><a href="formatting-standards.html#tables-1"><i class="fa fa-check"></i><b>40.1</b> Tables</a></li>
<li class="chapter" data-level="40.2" data-path="formatting-standards.html"><a href="formatting-standards.html#figures"><i class="fa fa-check"></i><b>40.2</b> Figures</a></li>
<li class="chapter" data-level="40.3" data-path="formatting-standards.html"><a href="formatting-standards.html#captions"><i class="fa fa-check"></i><b>40.3</b> Captions</a></li>
</ul></li>
<li class="chapter" data-level="41" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>41</b> Git</a></li>
<li class="part"><span><b>VIII Version control and teamwork</b></span></li>
<li class="chapter" data-level="" data-path="how-most-people-do-version-control.html"><a href="how-most-people-do-version-control.html"><i class="fa fa-check"></i>How most people do version control</a></li>
<li class="chapter" data-level="" data-path="there-is-a-better-way.html"><a href="there-is-a-better-way.html"><i class="fa fa-check"></i>There is a better way</a><ul>
<li class="chapter" data-level="" data-path="there-is-a-better-way.html"><a href="there-is-a-better-way.html#what-is-git"><i class="fa fa-check"></i>What is git?</a></li>
<li class="chapter" data-level="" data-path="there-is-a-better-way.html"><a href="there-is-a-better-way.html#why-1"><i class="fa fa-check"></i>Why?</a></li>
<li class="chapter" data-level="" data-path="there-is-a-better-way.html"><a href="there-is-a-better-way.html#get-ready-for-git"><i class="fa fa-check"></i>Get ready for git</a></li>
<li class="chapter" data-level="" data-path="there-is-a-better-way.html"><a href="there-is-a-better-way.html#installation"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="there-is-a-better-way.html"><a href="there-is-a-better-way.html#getting-to-know-git-bash"><i class="fa fa-check"></i>Getting to know git bash</a></li>
<li class="chapter" data-level="" data-path="there-is-a-better-way.html"><a href="there-is-a-better-way.html#configuration"><i class="fa fa-check"></i>Configuration</a></li>
<li class="chapter" data-level="" data-path="there-is-a-better-way.html"><a href="there-is-a-better-way.html#github"><i class="fa fa-check"></i>Github</a></li>
<li class="chapter" data-level="" data-path="there-is-a-better-way.html"><a href="there-is-a-better-way.html#a-bit-more-practice"><i class="fa fa-check"></i>A bit more practice</a></li>
<li class="chapter" data-level="" data-path="there-is-a-better-way.html"><a href="there-is-a-better-way.html#branching"><i class="fa fa-check"></i>Branching</a></li>
<li class="chapter" data-level="" data-path="there-is-a-better-way.html"><a href="there-is-a-better-way.html#pull-requests"><i class="fa fa-check"></i>Pull requests</a></li>
<li class="chapter" data-level="" data-path="there-is-a-better-way.html"><a href="there-is-a-better-way.html#advanced-git"><i class="fa fa-check"></i>Advanced git</a></li>
</ul></li>
<li class="part"><span><b>IX Communicating data</b></span></li>
<li class="chapter" data-level="42" data-path="types-of-writing.html"><a href="types-of-writing.html"><i class="fa fa-check"></i><b>42</b> Types of writing</a><ul>
<li class="chapter" data-level="" data-path="types-of-writing.html"><a href="types-of-writing.html#grant-proposals"><i class="fa fa-check"></i>Grant proposals</a></li>
<li class="chapter" data-level="" data-path="types-of-writing.html"><a href="types-of-writing.html#reports-and-publications"><i class="fa fa-check"></i>Reports and publications</a></li>
<li class="chapter" data-level="" data-path="types-of-writing.html"><a href="types-of-writing.html#fundraising"><i class="fa fa-check"></i>Fundraising</a></li>
<li class="chapter" data-level="" data-path="types-of-writing.html"><a href="types-of-writing.html#press-releases"><i class="fa fa-check"></i>Press releases</a></li>
</ul></li>
<li class="chapter" data-level="43" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html"><i class="fa fa-check"></i><b>43</b> Sections of a report</a><ul>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#overall-structure"><i class="fa fa-check"></i>Overall structure</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#abstract"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#introduction-2"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#methods"><i class="fa fa-check"></i>Methods</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#results"><i class="fa fa-check"></i>Results</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#discussion"><i class="fa fa-check"></i>Discussion</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#other-elements-of-a-report"><i class="fa fa-check"></i>Other elements of a report</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#other-resources-8"><i class="fa fa-check"></i>Other resources</a></li>
</ul></li>
<li class="chapter" data-level="44" data-path="style.html"><a href="style.html"><i class="fa fa-check"></i><b>44</b> Formatting, structure &amp; style</a><ul>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#core-principles"><i class="fa fa-check"></i>Core principles</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#further-considerations"><i class="fa fa-check"></i>Further considerations</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#logistics-of-scientific-writing"><i class="fa fa-check"></i>Logistics of scientific writing</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#formatting-tables"><i class="fa fa-check"></i>Formatting tables</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#formatting-figures"><i class="fa fa-check"></i>Formatting figures</a></li>
</ul></li>
<li class="chapter" data-level="45" data-path="presentations.html"><a href="presentations.html"><i class="fa fa-check"></i><b>45</b> Presentations</a></li>
<li class="part"><span><b>X Creating websites</b></span></li>
<li class="part"><span><b>XI Advanced skills</b></span></li>
<li class="chapter" data-level="46" data-path="mapping.html"><a href="mapping.html"><i class="fa fa-check"></i><b>46</b> Mapping</a></li>
<li class="chapter" data-level="47" data-path="geographic-computing-gis.html"><a href="geographic-computing-gis.html"><i class="fa fa-check"></i><b>47</b> Geographic computing &amp; GIS</a></li>
<li class="chapter" data-level="48" data-path="statistical-modeling.html"><a href="statistical-modeling.html"><i class="fa fa-check"></i><b>48</b> Statistical modeling</a></li>
<li class="chapter" data-level="49" data-path="apply-family.html"><a href="apply-family.html"><i class="fa fa-check"></i><b>49</b> Apply family</a></li>
<li class="chapter" data-level="50" data-path="randomization-statistics.html"><a href="randomization-statistics.html"><i class="fa fa-check"></i><b>50</b> Randomization statistics</a><ul>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#basic-idea"><i class="fa fa-check"></i>Basic idea</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#common-use-cases"><i class="fa fa-check"></i>Common use cases</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#review-assignment-11"><i class="fa fa-check"></i>Review assignment</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#c-do-social-bonds-relate-to-kinship"><i class="fa fa-check"></i>(c) Do social bonds relate to kinship?</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#other-resources-9"><i class="fa fa-check"></i>Other Resources</a></li>
</ul></li>
<li class="chapter" data-level="51" data-path="iterative-simulations.html"><a href="iterative-simulations.html"><i class="fa fa-check"></i><b>51</b> Iterative simulations</a></li>
<li class="chapter" data-level="52" data-path="image-analysis.html"><a href="image-analysis.html"><i class="fa fa-check"></i><b>52</b> Image analysis</a></li>
<li class="chapter" data-level="53" data-path="machine-learning.html"><a href="machine-learning.html"><i class="fa fa-check"></i><b>53</b> Machine learning</a></li>
<li class="chapter" data-level="54" data-path="template.html"><a href="template.html"><i class="fa fa-check"></i><b>54</b> Template</a><ul>
<li class="chapter" data-level="" data-path="template.html"><a href="template.html#learning-goals-20"><i class="fa fa-check"></i>Learning goals</a></li>
<li class="chapter" data-level="" data-path="template.html"><a href="template.html#tutorial-video"><i class="fa fa-check"></i>Tutorial video</a></li>
<li class="chapter" data-level="" data-path="template.html"><a href="template.html#basics-2"><i class="fa fa-check"></i>Basics</a></li>
<li class="chapter" data-level="" data-path="template.html"><a href="template.html#review-assignment-12"><i class="fa fa-check"></i>Review assignment</a></li>
<li class="chapter" data-level="" data-path="template.html"><a href="template.html#other-resources-10"><i class="fa fa-check"></i>Other Resources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/databrew/intro-to-data-science" target="blank">Databrew LLC</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><code>DataBOOM</code>: the canon for data science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="joining-datasets" class="section level1">
<h1><span class="header-section-number">Module 19</span> Joining datasets</h1>
<div id="learning-goals-11" class="section level4 unnumbered">
<h4>Learning goals</h4>
<ul>
<li>How to join together two related datasets efficiently in <code>R</code></li>
</ul>
</div>
<div id="joining-the-basics" class="section level2 unnumbered">
<h2>Joining: the basics</h2>
<p>It’s not unusual to have data for a project spread out across multiple datasets. The data are all related, but the fact that they are ‘packaged’ separately into different files can things difficult. To work with such <em>relational</em> data in <code>R</code>, you eventually need to merge – or <em>join</em> – them into a single dataframe.</p>
<p>For example, say you are studying the economics of professional basketball. In one dataframe, <code>df1</code>, you have the <em>net worth</em> of famous players, in millions USD…</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="joining-datasets.html#cb305-1"></a>player &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;LeBron&quot;</span>,<span class="st">&quot;Mugsy&quot;</span>,<span class="st">&quot;Shaq&quot;</span>,<span class="st">&quot;Jordan&quot;</span>,<span class="st">&quot;Hakeem&quot;</span>,<span class="st">&quot;Kobe&quot;</span>)</span>
<span id="cb305-2"><a href="joining-datasets.html#cb305-2"></a>worth &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">500</span>, <span class="dv">14</span>, <span class="dv">400</span>, <span class="dv">1600</span>, <span class="dv">200</span>, <span class="dv">600</span>)</span>
<span id="cb305-3"><a href="joining-datasets.html#cb305-3"></a>df1 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(player,worth)</span>
<span id="cb305-4"><a href="joining-datasets.html#cb305-4"></a>df1</span></code></pre></div>
<pre><code>  player worth
1 LeBron   500
2  Mugsy    14
3   Shaq   400
4 Jordan  1600
5 Hakeem   200
6   Kobe   600</code></pre>
<p>…and in a second dataframe, <code>df2</code>, you have their height.</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="joining-datasets.html#cb307-1"></a>player &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Jordan&quot;</span>,<span class="st">&quot;Shaq&quot;</span>,<span class="st">&quot;Magic&quot;</span>,<span class="st">&quot;Hakeem&quot;</span>,<span class="st">&quot;Stockton&quot;</span>,<span class="st">&quot;Mugsey&quot;</span>)</span>
<span id="cb307-2"><a href="joining-datasets.html#cb307-2"></a>height &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">78</span>,<span class="dv">85</span>,<span class="dv">81</span>,<span class="dv">84</span>,<span class="dv">73</span>,<span class="dv">63</span>)</span>
<span id="cb307-3"><a href="joining-datasets.html#cb307-3"></a>df2 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(player,height)</span>
<span id="cb307-4"><a href="joining-datasets.html#cb307-4"></a>df2</span></code></pre></div>
<pre><code>    player height
1   Jordan     78
2     Shaq     85
3    Magic     81
4   Hakeem     84
5 Stockton     73
6   Mugsey     63</code></pre>
<p><em>Is there a correlation between these players’ net worth and their height?</em> To answer this question you need to join these two datasets together. But the two datasets don’t contain the exact same roster of players, and the players are not in the same order. Hmm. Is there an efficient way to join these two datasets?</p>
<p><em>Yes!</em> Thanks to the family of <code>join()</code> functions from the package <code>dplyr</code>.</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="joining-datasets.html#cb309-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>)</span></code></pre></div>
<p>These <code>join()</code> functions relate two dataframes together according to a common column name. In order for these functions to work, each dataframe has to have a column of the same name. In the case of <code>df1</code> and <code>df2</code>, that shared column is <code>player</code>.</p>
<p>There are four <code>join()</code> functions you should know how to use:</p>
<p>**<code>left_join()**</code> joins the two datasets together, keeping all rows in the <em>first</em> dataframe you feed it.</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="joining-datasets.html#cb310-1"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb310-2"><a href="joining-datasets.html#cb310-2"></a><span class="kw">left_join</span>(df1,df2,<span class="dt">by=</span><span class="st">&quot;player&quot;</span>)</span></code></pre></div>
<pre><code>  player worth height
1 LeBron   500     NA
2  Mugsy    14     NA
3   Shaq   400     85
4 Jordan  1600     78
5 Hakeem   200     84
6   Kobe   600     NA</code></pre>
<p>Notice that none of the players unique to <code>df2</code> made it into this output; only players in <code>df1</code> (i.e., the <em>left</em> of the two dataframes listed) remain. Also notice that any player from <code>df1</code> who was not in <code>df2</code> has an <code>NA</code> under the column <code>worth</code>. That is how these <code>join()</code> functions work: it fills in the data where it can, and leaves <code>NA</code>s where it can’t.</p>
<p>**<code>right_join()**</code> keeps all rows in the <em>second</em> dataframe you feed it:</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="joining-datasets.html#cb312-1"></a><span class="kw">right_join</span>(df1,df2,<span class="dt">by=</span><span class="st">&quot;player&quot;</span>)</span></code></pre></div>
<pre><code>    player worth height
1     Shaq   400     85
2   Jordan  1600     78
3   Hakeem   200     84
4    Magic    NA     81
5 Stockton    NA     73
6   Mugsey    NA     63</code></pre>
<p>**<code>full_join()**</code> keeping all rows in <em>both</em> dataframes:</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="joining-datasets.html#cb314-1"></a><span class="kw">full_join</span>(df1,df2,<span class="dt">by=</span><span class="st">&quot;player&quot;</span>)</span></code></pre></div>
<pre><code>    player worth height
1   LeBron   500     NA
2    Mugsy    14     NA
3     Shaq   400     85
4   Jordan  1600     78
5   Hakeem   200     84
6     Kobe   600     NA
7    Magic    NA     81
8 Stockton    NA     73
9   Mugsey    NA     63</code></pre>
<p>Finally, <strong><code>inner_join()</code></strong> keeps only the rows that are <em>common to both</em> dataframes:</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="joining-datasets.html#cb316-1"></a><span class="kw">inner_join</span>(df1,df2,<span class="dt">by=</span><span class="st">&quot;player&quot;</span>)</span></code></pre></div>
<pre><code>  player worth height
1   Shaq   400     85
2 Jordan  1600     78
3 Hakeem   200     84</code></pre>
<p>So, to answer our research question about the relationship between player height and net worth, we can now join these data sets and make a nice plot:</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="joining-datasets.html#cb318-1"></a>df3 &lt;-<span class="st"> </span><span class="kw">full_join</span>(df1,df2,<span class="dt">by=</span><span class="st">&quot;player&quot;</span>)</span>
<span id="cb318-2"><a href="joining-datasets.html#cb318-2"></a><span class="kw">plot</span>(df3<span class="op">$</span>worth <span class="op">~</span><span class="st"> </span>df3<span class="op">$</span>height)</span></code></pre></div>
<p><img src="figures/unnamed-chunk-183-1.png" width="925.44" /></p>
<p>Hmm. Looks like we need more data!</p>
<div id="review-exercise-3" class="section level4 unnumbered">
<h4>Review exercise</h4>
<p>This review exercise will involve <em>both</em> the joining skills you learned above as well as many of the skills learned in prior modules. But don’t worry: as with every exercise in this book, every puzzle here can be solved using the skills you have learned in prior modules.</p>
<p><strong>Scenario:</strong> A sailing expedition in 2013 - 2015 studied the whales in the fjords of British Columbia, Canada. That research produced two datasets:</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="joining-datasets.html#cb319-1"></a>env &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./data/whales-environment.csv&quot;</span>) ; <span class="kw">head</span>(env)</span></code></pre></div>
<pre><code>           id species year distance seafloor temperature salinity thermocline
1 20140811103      HW 2014  44.1021  352.881    13.49104 25.75687      9.6325
2 20140811104      HW 2014  44.2729  363.563    13.49104 25.75687      9.6325
3 20140811106      HW 2014  46.7883  361.660    13.97642 25.14305      9.7859
4 20140812102      HW 2014  44.9049  317.864    14.11392 22.26935      9.7689
5 20140812104      HW 2014  44.8370  327.717    14.12843 22.21240      9.7689
6 20140812103      HW 2014  44.6589  353.749    14.17754 22.08326      9.7426
  stratification euphotic.depth chlorophyll
1         5.0603        18.2951     81.8442
2         5.0603        18.2951     81.8442
3         5.5067        17.2179     66.1236
4         5.2032        18.0307     76.0000
5         5.2032        18.0307     76.0000
6         5.2039        18.0093     75.9543</code></pre>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="joining-datasets.html#cb321-1"></a>dive &lt;-<span class="kw">read.csv</span>(<span class="st">&quot;./data/whales-dives.csv&quot;</span>) ; <span class="kw">head</span>(dive)</span></code></pre></div>
<pre><code>           id species behavior prey.volume prey.depth dive.time surface.time
1 20140811106      HW     FEED    6.914610     120.76    351.00          237
2 20140812104      HW     FEED    7.854762      79.02    281.00           87
3 20140812107      HW     FEED    7.385667      96.92    300.25           80
4 20140812109      FW     FEED    6.626298     105.87    366.00          189
5 20140812131      HW    OTHER    6.356474     123.95    357.00          112
6 20140812140      FW     FEED    3.820782     125.51    408.00          182
  blow.interval blow.number
1        26.833      10.000
2        14.412       6.667
3        16.000       6.000
4        16.273      12.000
5        25.250       6.000
6        18.789      11.000</code></pre>
<p>Each row in these dataframes represent a close encounter with a whale (either a humpback whale, <code>HW</code>, or a fin whale, <code>FW</code>).</p>
<p>The <code>env</code> dataset provides details about the habitat in which the whale was found, such as <code>seafloor</code> depth and the amount of <code>chlorophyll</code> in the water (a proxy for productivity).</p>
<p>The <code>dive</code> dataset provides measurements of whale foraging behaviors, such as <code>dive.time</code> and the number of breaths at the surface (<code>blow.number</code>), as well as the quality of prey in the area (<code>prey.volume</code> and <code>prey.depth</code>).</p>
<p>Note that these two dataframes are linked by the <code>id</code> column, which is a unique code for each whale encounter.</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="joining-datasets.html#cb323-1"></a>dive<span class="op">$</span>id</span></code></pre></div>
<pre><code>  [1] 20140811106 20140812104 20140812107 20140812109 20140812131 20140812140
  [7] 20140813105 20140813107 20140813111 20140813117 20140814101 20140814102
 [13] 20140814103 20140814104 20140819101 20140819102 20140819103 20140819106
 [19] 20140819112 20140819115 20140821102 20140824102 20140824110 20140824112
 [25] 20140824127 20140825104 20140825109 20140825115 20140825116 20140825121
 [31] 20140827101 20140827106 20140827110 20140827111 20140827122 20140828109
 [37] 20140828111 20140828115 20140828120 20140831101 20140831102 20140831106
 [43] 20140831107 20140902202 20140902203 20140902208 20140902210 20140902212
 [49] 20140903203 20140903206 20140904201 20140904202 20140904203 20140904205
 [55] 20140904208 20140905202 20140905212 20140906204 20140906205 20140906212
 [61] 20140906213 20140906216 20140907206 20140907212 20140908202 20140909202
 [67] 20140909204 20140909205 20140909211 20140909215 20140910211 20140910215
 [73] 20140911204 20150527104 20150527105 20150528101 20150528104 20150528107
 [79] 20150528109 20150528110 20150530108 20150530114 20150530115 20150602101
 [85] 20150602104 20150602106 20150606103 20150606106 20150607104 20150609101
 [91] 20150609102 20150609105 20150609107 20150609111 20150609112 20150609113
 [97] 20150610101 20150610103 20150610106 20150610107 20150610112 20150610116
[103] 20150612101 20150612102 20150613105 20150613107 20150613108 20150613110
[109] 20150614101 20150621201 20150621202</code></pre>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="joining-datasets.html#cb325-1"></a>env<span class="op">$</span>id</span></code></pre></div>
<pre><code>  [1] 20140811103 20140811104 20140811106 20140812102 20140812104 20140812103
  [7] 20140812107 20140812108 20140812109 20140812111 20140812112 20140812114
 [13] 20140812115 20140812116 20140812120 20140812122 20140812127 20140812131
 [19] 20140812130 20140812140 20140812141 20140813102 20140813107 20140813105
 [25] 20140813111 20140813115 20140813117 20140813116 20140813122 20140814101
 [31] 20140814102 20140814103 20140814104 20140814105 20140814106 20140817101
 [37] 20140817102 20140818101 20140819102 20140819103 20140819101 20140819106
 [43] 20140819108 20140819110 20140819113 20140819112 20140819111 20140819115
 [49] 20140820101 20140821102 20140822102 20140822103 20140822107 20140823101
 [55] 20140823106 20140823109 20140824102 20140824103 20140824105 20140824110
 [61] 20140824112 20140824113 20140824114 20140824115 20140824116 20140824117
 [67] 20140824118 20140824121 20140824122 20140824123 20140824124 20140824125
 [73] 20140824127 20140824126 20140825101 20140825103 20140825104 20140825107
 [79] 20140825108 20140825109 20140825112 20140825111 20140825110 20140825113
 [85] 20140825115 20140825116 20140825117 20140825120 20140825121 20140825122
 [91] 20140827101 20140827102 20140827104 20140827105 20140827106 20140827107
 [97] 20140827109 20140827111 20140827112 20140827116 20140827120 20140827110
[103] 20140827122 20140827126 20140827125 20140827123 20140827127 20140827124
[109] 20140827128 20140828107 20140828109 20140828108 20140828110 20140828111
[115] 20140828112 20140828118 20140828115 20140828119 20140828120 20140828122
[121] 20140828123 20140828121 20140831101 20140831102 20140831106 20140831107
[127] 20140902201 20140902202 20140902203 20140902204 20140902208 20140902209
[133] 20140902210 20140902212 20140903204 20140903203 20140903206 20140903207
[139] 20140903211 20140903212 20140904201 20140904202 20140904203 20140904204
[145] 20140904205 20140904208 20140905202 20140905207 20140905210 20140905212
[151] 20140906203 20140906204 20140906205 20140906206 20140906208 20140906209
[157] 20140906212 20140906213 20140906214 20140906216 20140907205 20140907206
[163] 20140907208 20140907209 20140907210 20140907211 20140907212 20140908202
[169] 20140909201 20140909202 20140909203 20140909204 20140909205 20140909206
[175] 20140909211 20140909212 20140909215 20140910202 20140910203 20140910211
[181] 20140910215 20140910210 20140910219 20140911203 20140911204 20140911205
[187] 20140911209 20140911210 20140911211 20150526101 20150527103 20150527104
[193] 20150527105 20150528101 20150528104 20150528107 20150528108 20150528109
[199] 20150528110 20150530108 20150530111 20150530112 20150530114 20150530115
[205] 20150531102 20150602101 20150602104 20150602106 20150602109 20150602110
[211] 20150606103 20150606105 20150606104 20150606106 20150607104 20150607102
[217] 20150607103 20150607106 20150608102 20150608104 20150608105 20150609101
[223] 20150609102 20150609106 20150609105 20150609107 20150609108 20150609111
[229] 20150609113 20150609112 20150609115 20150610101 20150610103 20150610106
[235] 20150610107 20150610108 20150610111 20150610112 20150610115 20150610116
[241] 20150610118 20150612101 20150612102 20150613104 20150613105 20150613107
[247] 20150613108 20150613110 20150614101 20150617201 20150617202 20150621203
[253] 20150621202 20150621201 20150621204 20150621205 20150621206 20150621207
[259] 20150621208 20150621209 20150621210 20150621211 20150621212 20150621213
[265] 20150621214 20150621216 20150621218 20150621217 20150621220 20150621221
[271] 20150621223 20150621224 20150622203 20150623201 20150624201 20150624202
[277] 20150624204 20150626201 20150626202 20150626203 20150626206 20150627204
[283] 20150627212 20150627213 20150628201 20150628204 20150629204 20150629203
[289] 20150701201 20150701202 20150704201 20150704203 20150704204 20150704205
[295] 20150705202 20150705204 20150705217 20150706201 20150706206 20150707202
[301] 20150707201 20150707203 20150707205 20150707206 20150707207 20150707208
[307] 20150707209 20150707212 20150707214 20150707215 20150707217 20150707220
[313] 20150708203 20150708202 20150712302 20150713302 20150713304 20150713305
[319] 20150713307 20150713310 20150713311 20150713312 20150714302 20150714309
[325] 20150714316 20150715301 20150715309 20150717304 20150718302 20150718304
[331] 20150718303 20150718305 20150718308 20150718309 20150718310 20150718311
[337] 20150721303 20150721304 20150721311 20150721312 20150721316 20150722302
[343] 20150723304 20150723306 20150723307 20150723308 20150725301 20150725306
[349] 20150725307 20150726302 20150726311 20150726316 20150729307 20150729308
[355] 20150729309 20150729310 20150729311 20150731301 20150731302 20150802403
[361] 20150802404 20150802402 20150802406 20150802405 20150802407 20150802408
[367] 20150802409 20150802410 20150802411 20150802413 20150803401 20150803403
[373] 20150803411 20150805402 20150805407 20150805408 20150805412 20150805413
[379] 20150805414 20150805415 20150805410 20150806403 20150806406 20150806404
[385] 20150806405 20150807401 20150807403 20150807405 20150807409 20150808407
[391] 20150808405 20150808411 20150808413 20150808414 20150808419 20150808415
[397] 20150809404 20150809409 20150809410 20150811403 20150812401 20150812408
[403] 20150812403 20150812407 20150812409 20150812412 20150812416 20150812417
[409] 20150812421 20150813402 20150813406 20150813407 20150813410 20150814403
[415] 20150815405 20150815407 20150815408 20150815409 20150815418 20150815419
[421] 20150816403 20150816404 20150816405 20150817405 20150817404 20150817406
[427] 20150817412 20150817414 20150817415 20150817416 20150817417 20150817418
[433] 20150817419 20150817420 20150817421 20150818402 20150818403 20150819402
[439] 20150819403 20150819406 20150819407 20150819408 20150819410 20150819411
[445] 20150819413 20150820411 20150820414 20150820418 20150820420 20150823402
[451] 20150829501 20150829502 20150829503 20150831501 20150831504 20150831505
[457] 20150831507 20150831508 20150902501 20150902503 20150902505 20150902506
[463] 20150902507 20150902509 20150902510 20150902511 20150902512 20150902513
[469] 20150902514 20150902515 20150902516 20150902517 20150903502 20150904501
[475] 20150904505 20150905501 20150905503 20150905508 20150905511 20150908512
[481] 20150910502 20150911503 20150911505 20150912504 20150912506 20150912507
[487] 20150912510 20150912513 20150913502 20150913504 20150913503 20150913505
[493] 20150913506 20150914501 20150914503 20150914509 20150914508 20150914511
[499] 20150915502 20150915507 20150915512 20150916502 20150919502 20150920504
[505] 20150920509 20150921501 20150921502 20150921503</code></pre>
<p>Also note that <em>some</em> ids – but not all – can be found in <em>both</em> dataframes. These are the encounters for which we have both foraging behavior data as well as environmental data.</p>
<p><strong>Task 1. Summarize your dataset.</strong></p>
<p>Write the necessary code and fill in the <em><blank></em> spaces in the data summary statement below:</p>
<p>A total of <em><blank></em> whale encounters were recorded on <em><blank></em> separate days in the years <em><blank></em> - <em><blank></em>. <em><blank></em> encounters were with humpback whales (<em><blank></em> % of all encounters), and <em><blank></em> were with fin whales (<em><blank></em> %). Foraging behavior was recorded in <em><blank></em> % of encounters (<em><blank></em> % of humpback whale encounters, and <em><blank></em> % of fin whale encounters).</p>
<p><strong>Task 2. Research question: Do these two species prefer different seafloor depths?</strong></p>
<p>First, create a nicely formatted histogram that portrays the data relevant to this question.</p>
<p><img src="figures/unnamed-chunk-186-1.png" width="925.44" /></p>
<p>Provide the code to test this research question statistically, then write a results statement below.</p>
<pre><code>
    Welch Two Sample t-test

data:  env$seafloor[env$species == &quot;FW&quot;] and env$seafloor[env$species == &quot;HW&quot;]
t = 4.7677, df = 78.011, p-value = 0.000008493
alternative hypothesis: true difference in means is not equal to 0
95 percent confidence interval:
  52.84081 128.60877
sample estimates:
mean of x mean of y 
 445.7157  354.9909 </code></pre>
<p><strong>Task 3. Another research question: Is prey volume correlated to chlorophyll concentration?</strong></p>
<p>Whales eta krill, and krill eat phytoplankton. Chlorophyll is a proxy measurement for the amount of phytoplankton in the area. Based on these datasets, how good are krill at congregating in areas of high chlorophyll concentration?</p>
<p>First, prepare a plot to visualize what you will be comparing:</p>
<pre><code>           id species year distance seafloor temperature salinity thermocline
1 20140811103      HW 2014  44.1021  352.881    13.49104 25.75687      9.6325
2 20140811104      HW 2014  44.2729  363.563    13.49104 25.75687      9.6325
3 20140811106      HW 2014  46.7883  361.660    13.97642 25.14305      9.7859
4 20140812102      HW 2014  44.9049  317.864    14.11392 22.26935      9.7689
5 20140812104      HW 2014  44.8370  327.717    14.12843 22.21240      9.7689
6 20140812103      HW 2014  44.6589  353.749    14.17754 22.08326      9.7426
  stratification euphotic.depth chlorophyll
1         5.0603        18.2951     81.8442
2         5.0603        18.2951     81.8442
3         5.5067        17.2179     66.1236
4         5.2032        18.0307     76.0000
5         5.2032        18.0307     76.0000
6         5.2039        18.0093     75.9543</code></pre>
<pre><code>           id species behavior prey.volume prey.depth dive.time surface.time
1 20140811106      HW     FEED    6.914610     120.76    351.00          237
2 20140812104      HW     FEED    7.854762      79.02    281.00           87
3 20140812107      HW     FEED    7.385667      96.92    300.25           80
5 20140812131      HW    OTHER    6.356474     123.95    357.00          112
7 20140813105      HW     FEED    7.472343     104.13    365.00           52
8 20140813107      HW     FEED    3.261088     100.19    338.00           20
  blow.interval blow.number
1        26.833      10.000
2        14.412       6.667
3        16.000       6.000
5        25.250       6.000
7        18.610       4.500
8        33.322       1.000</code></pre>
<pre><code>[1] 446</code></pre>
<pre><code>[1] 89</code></pre>
<pre><code>[1] 89</code></pre>
<p><img src="figures/unnamed-chunk-188-1.png" width="925.44" /></p>
<p>Now carry out your statistical test.</p>
<pre><code>
Call:
lm(formula = hwd$prey.volume ~ hwd$chl)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.4931 -1.2639  0.3534  1.3358  2.5978 

Coefficients:
            Estimate Std. Error t value            Pr(&gt;|t|)    
(Intercept) 5.027405   0.415675   12.10 &lt;0.0000000000000002 ***
hwd$chl     0.008340   0.003723    2.24              0.0276 *  
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 1.682 on 87 degrees of freedom
Multiple R-squared:  0.05453,   Adjusted R-squared:  0.04366 
F-statistic: 5.018 on 1 and 87 DF,  p-value: 0.02763</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="significance-statistics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="writing-functions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/databrew/intro-to-data-science/edit/master/07a-joining-data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["intro-to-data-science.pdf", "intro-to-data-science.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
