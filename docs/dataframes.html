<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 15 Dataframes | DataBOOM: the canon for data science</title>
  <meta name="description" content="Data science is just data and science. But it’s better with pizza." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 15 Dataframes | DataBOOM: the canon for data science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Data science is just data and science. But it’s better with pizza." />
  <meta name="github-repo" content="databrew/intro-to-data-science" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 15 Dataframes | DataBOOM: the canon for data science" />
  
  <meta name="twitter:description" content="Data science is just data and science. But it’s better with pizza." />
  

<meta name="author" content="Databrew" />


<meta name="date" content="2021-07-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
<link rel="prev" href="importing-data.html"/>
<link rel="next" href="exporting-data-plots.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DataBOOM: the canon for data science </a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-this-is-and-what-it-isnt"><i class="fa fa-check"></i>What this is, and what it isn’t</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-this-is-for"><i class="fa fa-check"></i>Who this is for</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-you-will-learn"><i class="fa fa-check"></i>What you will learn</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-we-are"><i class="fa fa-check"></i>Who we are</a></li>
</ul></li>
<li class="part"><span><b>I Core theory</b></span></li>
<li class="chapter" data-level="2" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html"><i class="fa fa-check"></i><b>2</b> Principles of data science</a>
<ul>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#what-is-data-science"><i class="fa fa-check"></i>What is data science?</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#data-scientist-vs-data-analysist-vs-data-engineer"><i class="fa fa-check"></i>Data scientist vs data analysist vs data engineer</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#what-is-the-data-life-cycle"><i class="fa fa-check"></i>What is the data life cycle?</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#data-science-in-the-wild"><i class="fa fa-check"></i>Data science ‘in the wild’</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#why-r"><i class="fa fa-check"></i>Why R?</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html#the-reproducibility-crisis"><i class="fa fa-check"></i>The reproducibility crisis</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>3</b> Visualizing data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="dataviz.html"><a href="dataviz.html#the-importance-of-visualization"><i class="fa fa-check"></i><b>3.1</b> The importance of visualization</a></li>
<li class="chapter" data-level="3.2" data-path="dataviz.html"><a href="dataviz.html#bad-examples"><i class="fa fa-check"></i><b>3.2</b> Bad examples</a></li>
<li class="chapter" data-level="3.3" data-path="dataviz.html"><a href="dataviz.html#good-exaples"><i class="fa fa-check"></i><b>3.3</b> Good exaples</a></li>
<li class="chapter" data-level="3.4" data-path="dataviz.html"><a href="dataviz.html#quick-video"><i class="fa fa-check"></i><b>3.4</b> Quick video</a></li>
</ul></li>
<li class="part"><span><b>II Getting sta<code>r</code>ted</b></span></li>
<li class="chapter" data-level="4" data-path="setting-up-rstudio.html"><a href="setting-up-rstudio.html"><i class="fa fa-check"></i><b>4</b> Setting up <code>RStudio</code></a></li>
<li class="chapter" data-level="5" data-path="running-r-code.html"><a href="running-r-code.html"><i class="fa fa-check"></i><b>5</b> Running R code</a>
<ul>
<li><a href="running-r-code.html#rstudios-console">RStudio’s <em>Console</em></a></li>
<li><a href="running-r-code.html#running-code-in-the-console">Running code in the <em>Console</em></a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#use-r-like-a-calculator"><i class="fa fa-check"></i>Use R like a calculator</a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#using-operators-in-r"><i class="fa fa-check"></i>Using operators in R</a></li>
<li class="chapter" data-level="" data-path="running-r-code.html"><a href="running-r-code.html#use-built-in-functions-within-r"><i class="fa fa-check"></i>Use built-in functions within R</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html"><i class="fa fa-check"></i><b>6</b> Using <code>RStudio</code> and <code>R</code> scripts</a>
<ul>
<li><a href="using-rstudio-and-r-scripts.html#r-and-rstudio-whats-the-difference"><code>R</code> and <code>RStudio</code>: what’s the difference?</a></li>
<li><a href="using-rstudio-and-r-scripts.html#two-minute-tour-of-rstudio">Two-minute tour of <code>RStudio</code></a></li>
<li class="chapter" data-level="" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html#scripts"><i class="fa fa-check"></i>Scripts</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html#your-working-directory"><i class="fa fa-check"></i>Your working directory</a></li>
<li class="chapter" data-level="" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html#typical-workflows"><i class="fa fa-check"></i>Typical workflows</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="variables-in-r.html"><a href="variables-in-r.html"><i class="fa fa-check"></i><b>7</b> Variables in <code>R</code></a>
<ul>
<li class="chapter" data-level="" data-path="variables-in-r.html"><a href="variables-in-r.html#introducing-variables"><i class="fa fa-check"></i>Introducing variables</a></li>
<li><a href="variables-in-r.html#types-of-data-in-r">Types of data in <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="structures-for-data-in-r.html"><a href="structures-for-data-in-r.html"><i class="fa fa-check"></i><b>8</b> Structures for data in <code>R</code></a>
<ul>
<li class="chapter" data-level="" data-path="structures-for-data-in-r.html"><a href="structures-for-data-in-r.html#introducing-data-structures"><i class="fa fa-check"></i>Introducing data structures</a></li>
<li class="chapter" data-level="" data-path="structures-for-data-in-r.html"><a href="structures-for-data-in-r.html#vectors"><i class="fa fa-check"></i>Vectors</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="calling-functions.html"><a href="calling-functions.html"><i class="fa fa-check"></i><b>9</b> Calling functions</a>
<ul>
<li><a href="calling-functions.html#introducing-r-functions">Introducing <code>R</code> functions</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="subsetting.html"><a href="subsetting.html"><i class="fa fa-check"></i><b>10</b> Subsetting and filtering</a>
<ul>
<li class="chapter" data-level="" data-path="subsetting.html"><a href="subsetting.html#a-quick-review-of-booleans"><i class="fa fa-check"></i>A quick review of booleans</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="base-plots.html"><a href="base-plots.html"><i class="fa fa-check"></i><b>11</b> Base plots</a>
<ul>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#create-a-basic-plot"><i class="fa fa-check"></i>Create a basic plot</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#most-common-types-of-plots"><i class="fa fa-check"></i>Most common types of plots</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#basic-plot-formatting"><i class="fa fa-check"></i>Basic plot formatting</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#plotting-with-data-frames"><i class="fa fa-check"></i>Plotting with data frames</a></li>
<li class="chapter" data-level="" data-path="base-plots.html"><a href="base-plots.html#next-level-plotting"><i class="fa fa-check"></i>Next-level plotting</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>12</b> Packages</a>
<ul>
<li><a href="packages.html#introducing-r-packages">Introducing <code>R</code> packages</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#finding-the-packages-already-on-your-computer"><i class="fa fa-check"></i>Finding the packages already on your computer</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#installing-a-new-package"><i class="fa fa-check"></i>Installing a new package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#loading-an-installed-package"><i class="fa fa-check"></i>Loading an installed package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#calling-functions-from-a-package"><i class="fa fa-check"></i>Calling functions from a package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#review-the-workflow-for-using-a-package"><i class="fa fa-check"></i>Review: the workflow for using a package</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#a-note-on-package-dependencies"><i class="fa fa-check"></i>A note on package dependencies</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#a-note-on-package-versions"><i class="fa fa-check"></i>A note on package versions</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#review-assigment-lets-install-some-packages"><i class="fa fa-check"></i>Review assigment: let’s install some packages</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html"><i class="fa fa-check"></i><b>13</b> Basics of <code>ggplot</code></a>
<ul>
<li class="chapter" data-level="13.1" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#thinking-about-data-visualization"><i class="fa fa-check"></i><b>13.1</b> Thinking about data visualization</a></li>
<li><a href="basics-of-ggplot.html#what-is-ggplot">What is <code>ggplot</code>?</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#the-name-and-concept"><i class="fa fa-check"></i>The name and concept</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#practice"><i class="fa fa-check"></i>Practice</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#scatter-plot"><i class="fa fa-check"></i>Scatter plot</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#barplot"><i class="fa fa-check"></i>Barplot</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#practice-1"><i class="fa fa-check"></i>Practice 1</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#practice-exercises-1"><i class="fa fa-check"></i>Practice exercises 1</a></li>
<li class="chapter" data-level="" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html#practice-exercises-2"><i class="fa fa-check"></i>Practice exercises 2</a></li>
</ul></li>
<li class="part"><span><b>III Basic <code>R</code> workflow</b></span></li>
<li class="chapter" data-level="14" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>14</b> Importing data</a>
<ul>
<li><a href="importing-data.html#csv-files"><code>.csv</code> files</a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#data-format-requirements"><i class="fa fa-check"></i>Data format requirements</a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#reading-in-data"><i class="fa fa-check"></i>Reading in data</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="dataframes.html"><a href="dataframes.html"><i class="fa fa-check"></i><b>15</b> Dataframes</a>
<ul>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#subsetting-exploring-dataframes"><i class="fa fa-check"></i>Subsetting &amp; exploring dataframes</a></li>
<li class="chapter" data-level="" data-path="dataframes.html"><a href="dataframes.html#dplyr"><i class="fa fa-check"></i>dplyr</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="exporting-data-plots.html"><a href="exporting-data-plots.html"><i class="fa fa-check"></i><b>16</b> Exporting data &amp; plots</a>
<ul>
<li><a href="exporting-data-plots.html#write.csv"><code>write.csv()</code></a></li>
<li><a href="exporting-data-plots.html#saverds"><code>saveRDS()</code></a></li>
<li><a href="exporting-data-plots.html#pdf-and-png"><code>pdf()</code> and <code>png()</code></a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="exploring-data.html"><a href="exploring-data.html"><i class="fa fa-check"></i><b>17</b> Exploring data</a>
<ul>
<li class="chapter" data-level="" data-path="exploring-data.html"><a href="exploring-data.html#exploring-distributions"><i class="fa fa-check"></i>Exploring distributions</a></li>
<li class="chapter" data-level="" data-path="exploring-data.html"><a href="exploring-data.html#descriptive-statistics"><i class="fa fa-check"></i>Descriptive statistics</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="significance-statistics.html"><a href="significance-statistics.html"><i class="fa fa-check"></i><b>18</b> Significance statistics</a>
<ul>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#p-values"><i class="fa fa-check"></i>p-values</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#tests-for-different-data-types"><i class="fa fa-check"></i>Tests for different data types</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#comparison-tests"><i class="fa fa-check"></i>Comparison tests</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#tests-of-association"><i class="fa fa-check"></i>Tests of association</a></li>
<li class="chapter" data-level="" data-path="significance-statistics.html"><a href="significance-statistics.html#reporting-results"><i class="fa fa-check"></i>Reporting results</a></li>
</ul></li>
<li class="part"><span><b>IV Essential <code>R</code> skills</b></span></li>
<li class="chapter" data-level="19" data-path="joining-datasets.html"><a href="joining-datasets.html"><i class="fa fa-check"></i><b>19</b> Joining datasets</a>
<ul>
<li class="chapter" data-level="" data-path="joining-datasets.html"><a href="joining-datasets.html#joining-the-basics"><i class="fa fa-check"></i>Joining: the basics</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="writing-functions.html"><a href="writing-functions.html"><i class="fa fa-check"></i><b>20</b> Writing functions</a>
<ul>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#first-steps"><i class="fa fa-check"></i>First steps</a></li>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#next-steps"><i class="fa fa-check"></i>Next steps</a></li>
<li class="chapter" data-level="20.1" data-path="writing-functions.html"><a href="writing-functions.html#using-dplyr-and-ggplot-in-custom-functions"><i class="fa fa-check"></i><b>20.1</b> Using dplyr and ggplot in custom functions</a></li>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#exercise"><i class="fa fa-check"></i>Exercise</a></li>
<li class="chapter" data-level="" data-path="writing-functions.html"><a href="writing-functions.html#sourcing-functions"><i class="fa fa-check"></i>Sourcing functions</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>21</b> <code>for</code> loops</a>
<ul>
<li class="chapter" data-level="" data-path="for-loops.html"><a href="for-loops.html#basics"><i class="fa fa-check"></i>Basics</a></li>
<li><a href="for-loops.html#for-loops-in-plots"><code>for</code> loops in plots</a></li>
<li><a href="for-loops.html#using-for-loops-to-process-summarize-data">Using <code>for</code> loops to process &amp; summarize data</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="conditional-statements.html"><a href="conditional-statements.html"><i class="fa fa-check"></i><b>22</b> Conditional statements</a>
<ul>
<li class="chapter" data-level="" data-path="conditional-statements.html"><a href="conditional-statements.html#first-steps-1"><i class="fa fa-check"></i>First steps</a></li>
<li class="chapter" data-level="" data-path="conditional-statements.html"><a href="conditional-statements.html#next-steps-1"><i class="fa fa-check"></i>Next steps</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="text.html"><a href="text.html"><i class="fa fa-check"></i><b>23</b> Working with text</a>
<ul>
<li class="chapter" data-level="" data-path="text.html"><a href="text.html#basics-1"><i class="fa fa-check"></i>Basics</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="trump.html"><a href="trump.html"><i class="fa fa-check"></i><b>24</b> Trump tweets</a></li>
<li class="chapter" data-level="25" data-path="dates.html"><a href="dates.html"><i class="fa fa-check"></i><b>25</b> Working with dates &amp; times</a>
<ul>
<li class="chapter" data-level="" data-path="dates.html"><a href="dates.html#first-steps-2"><i class="fa fa-check"></i>First steps</a></li>
<li class="chapter" data-level="" data-path="dates.html"><a href="dates.html#lubridate"><i class="fa fa-check"></i>Lubridate</a></li>
<li><a href="dates.html#getting-familiar-with-the-date-type">Getting familiar with the <code>date</code> type</a></li>
<li class="chapter" data-level="" data-path="dates.html"><a href="dates.html#converting-dates-from-strings"><i class="fa fa-check"></i>Converting dates from strings</a></li>
<li><a href="dates.html#getting-familiar-with-the-datetime-type">Getting familiar with the <code>datetime</code> type</a></li>
<li class="chapter" data-level="" data-path="dates.html"><a href="dates.html#extracting-components-from-date-and-datetime-objects"><i class="fa fa-check"></i>Extracting components from date and datetime objects</a></li>
<li class="chapter" data-level="" data-path="dates.html"><a href="dates.html#cough-data-exercise"><i class="fa fa-check"></i>Cough data exercise</a></li>
<li class="chapter" data-level="" data-path="dates.html"><a href="dates.html#weather-data-exercise"><i class="fa fa-check"></i>Weather data exercise</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="working-with-factors.html"><a href="working-with-factors.html"><i class="fa fa-check"></i><b>26</b> Working with factors</a></li>
<li class="chapter" data-level="27" data-path="matrices-lists.html"><a href="matrices-lists.html"><i class="fa fa-check"></i><b>27</b> Matrices &amp; lists</a>
<ul>
<li class="chapter" data-level="" data-path="matrices-lists.html"><a href="matrices-lists.html#lists"><i class="fa fa-check"></i>Lists</a></li>
<li class="chapter" data-level="" data-path="matrices-lists.html"><a href="matrices-lists.html#matrices"><i class="fa fa-check"></i>Matrices</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="cleaning-messy-data.html"><a href="cleaning-messy-data.html"><i class="fa fa-check"></i><b>28</b> Cleaning messy data</a></li>
<li class="chapter" data-level="29" data-path="google.html"><a href="google.html"><i class="fa fa-check"></i><b>29</b> Excel files &amp; GoogleSheets</a></li>
<li class="chapter" data-level="30" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>30</b> Interactive dashboards {-}</a></li>
<li class="chapter" data-level="31" data-path="intro-to-shiny-apps.html"><a href="intro-to-shiny-apps.html"><i class="fa fa-check"></i><b>31</b> Intro to Shiny apps</a>
<ul>
<li class="chapter" data-level="31.1" data-path="intro-to-shiny-apps.html"><a href="intro-to-shiny-apps.html#overview"><i class="fa fa-check"></i><b>31.1</b> Overview</a></li>
<li class="chapter" data-level="31.2" data-path="intro-to-shiny-apps.html"><a href="intro-to-shiny-apps.html#an-easy-example"><i class="fa fa-check"></i><b>31.2</b> An easy example</a></li>
<li class="chapter" data-level="" data-path="intro-to-shiny-apps.html"><a href="intro-to-shiny-apps.html#exercise-9"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="32" data-path="shiny-git-functions-task.html"><a href="shiny-git-functions-task.html"><i class="fa fa-check"></i><b>32</b> Shiny + git + functions task</a></li>
<li class="chapter" data-level="33" data-path="data-entry-apps.html"><a href="data-entry-apps.html"><i class="fa fa-check"></i><b>33</b> Data entry apps</a></li>
<li class="part"><span><b>V Databases</b></span></li>
<li class="chapter" data-level="34" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>34</b> Introduction</a>
<ul>
<li class="chapter" data-level="34.1" data-path="introduction-1.html"><a href="introduction-1.html#what"><i class="fa fa-check"></i><b>34.1</b> What</a></li>
<li class="chapter" data-level="34.2" data-path="introduction-1.html"><a href="introduction-1.html#why"><i class="fa fa-check"></i><b>34.2</b> Why</a></li>
<li class="chapter" data-level="34.3" data-path="introduction-1.html"><a href="introduction-1.html#when"><i class="fa fa-check"></i><b>34.3</b> When</a></li>
<li class="chapter" data-level="34.4" data-path="introduction-1.html"><a href="introduction-1.html#when-not"><i class="fa fa-check"></i><b>34.4</b> When not</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="platforms.html"><a href="platforms.html"><i class="fa fa-check"></i><b>35</b> Platforms</a>
<ul>
<li class="chapter" data-level="35.1" data-path="platforms.html"><a href="platforms.html#postgresql"><i class="fa fa-check"></i><b>35.1</b> PostgreSQL</a></li>
<li class="chapter" data-level="35.2" data-path="platforms.html"><a href="platforms.html#mysql"><i class="fa fa-check"></i><b>35.2</b> mySQL</a></li>
<li class="chapter" data-level="35.3" data-path="platforms.html"><a href="platforms.html#sqlite"><i class="fa fa-check"></i><b>35.3</b> SQLite</a></li>
</ul></li>
<li class="chapter" data-level="36" data-path="alternatives.html"><a href="alternatives.html"><i class="fa fa-check"></i><b>36</b> Alternatives</a>
<ul>
<li class="chapter" data-level="36.1" data-path="alternatives.html"><a href="alternatives.html#nosql"><i class="fa fa-check"></i><b>36.1</b> NoSQL</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="practices.html"><a href="practices.html"><i class="fa fa-check"></i><b>37</b> Practices</a></li>
<li class="part"><span><b>VI Documenting your work</b></span></li>
<li class="chapter" data-level="38" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>38</b> R Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#what-is-r-markdown"><i class="fa fa-check"></i>What is R Markdown</a></li>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#in-class-activity"><i class="fa fa-check"></i>In-class activity</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="rr.html"><a href="rr.html"><i class="fa fa-check"></i><b>39</b> Reproducible research</a>
<ul>
<li class="chapter" data-level="" data-path="rr.html"><a href="rr.html#why-does-reproducible-research-matter"><i class="fa fa-check"></i>Why does reproducible research matter?</a></li>
<li class="chapter" data-level="" data-path="rr.html"><a href="rr.html#how-to-carry-out-reproducible-research"><i class="fa fa-check"></i>How to carry out reproducible research</a></li>
<li class="chapter" data-level="" data-path="rr.html"><a href="rr.html#final-thoughts"><i class="fa fa-check"></i>Final thoughts</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="automated-reporting.html"><a href="automated-reporting.html"><i class="fa fa-check"></i><b>40</b> Automated reporting</a></li>
<li class="chapter" data-level="41" data-path="formatting-standards.html"><a href="formatting-standards.html"><i class="fa fa-check"></i><b>41</b> Formatting standards</a>
<ul>
<li class="chapter" data-level="41.1" data-path="formatting-standards.html"><a href="formatting-standards.html#tables"><i class="fa fa-check"></i><b>41.1</b> Tables</a></li>
<li class="chapter" data-level="41.2" data-path="formatting-standards.html"><a href="formatting-standards.html#figures"><i class="fa fa-check"></i><b>41.2</b> Figures</a></li>
<li class="chapter" data-level="41.3" data-path="formatting-standards.html"><a href="formatting-standards.html#captions"><i class="fa fa-check"></i><b>41.3</b> Captions</a></li>
</ul></li>
<li class="chapter" data-level="42" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>42</b> Git</a>
<ul>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#there-is-a-better-way"><i class="fa fa-check"></i>There is a better way</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#what-is-git"><i class="fa fa-check"></i>What is git?</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#why-1"><i class="fa fa-check"></i>Why?</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#get-ready-for-git"><i class="fa fa-check"></i>Get ready for git</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#installation"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#getting-to-know-git-bash"><i class="fa fa-check"></i>Getting to know git bash</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#configuration"><i class="fa fa-check"></i>Configuration</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#github"><i class="fa fa-check"></i>Github</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#a-bit-more-practice"><i class="fa fa-check"></i>A bit more practice</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#advanced-git"><i class="fa fa-check"></i>Advanced git</a></li>
</ul></li>
<li class="part"><span><b>VII Sharing research</b></span></li>
<li class="chapter" data-level="43" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html"><i class="fa fa-check"></i><b>43</b> Sections of a report</a>
<ul>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#overall-structure"><i class="fa fa-check"></i>Overall structure</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#abstract"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#introduction-2"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#methods"><i class="fa fa-check"></i>Methods</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#results"><i class="fa fa-check"></i>Results</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#discussion"><i class="fa fa-check"></i>Discussion</a></li>
<li class="chapter" data-level="" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html#other-elements-of-a-report"><i class="fa fa-check"></i>Other elements of a report</a></li>
</ul></li>
<li class="chapter" data-level="44" data-path="style.html"><a href="style.html"><i class="fa fa-check"></i><b>44</b> Formatting, structure &amp; style</a>
<ul>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#core-principles"><i class="fa fa-check"></i>Core principles</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#further-considerations"><i class="fa fa-check"></i>Further considerations</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#logistics-of-scientific-writing"><i class="fa fa-check"></i>Logistics of scientific writing</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#formatting-tables"><i class="fa fa-check"></i>Formatting tables</a></li>
<li class="chapter" data-level="" data-path="style.html"><a href="style.html#formatting-figures"><i class="fa fa-check"></i>Formatting figures</a></li>
</ul></li>
<li class="chapter" data-level="45" data-path="presentations.html"><a href="presentations.html"><i class="fa fa-check"></i><b>45</b> Presentations</a></li>
<li class="chapter" data-level="" data-path="creating-websites.html"><a href="creating-websites.html"><i class="fa fa-check"></i>Creating websites</a></li>
<li class="part"><span><b>VIII Advanced skills</b></span></li>
<li class="chapter" data-level="46" data-path="mapping.html"><a href="mapping.html"><i class="fa fa-check"></i><b>46</b> Mapping</a></li>
<li class="chapter" data-level="47" data-path="geographic-computing-gis.html"><a href="geographic-computing-gis.html"><i class="fa fa-check"></i><b>47</b> Geographic computing &amp; GIS</a></li>
<li class="chapter" data-level="48" data-path="statistical-modeling.html"><a href="statistical-modeling.html"><i class="fa fa-check"></i><b>48</b> Statistical modeling</a></li>
<li class="chapter" data-level="49" data-path="apply-family.html"><a href="apply-family.html"><i class="fa fa-check"></i><b>49</b> Apply family</a></li>
<li class="chapter" data-level="50" data-path="randomization-statistics.html"><a href="randomization-statistics.html"><i class="fa fa-check"></i><b>50</b> Randomization statistics</a>
<ul>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#basic-idea"><i class="fa fa-check"></i>Basic idea</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#common-use-cases"><i class="fa fa-check"></i>Common use cases</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#review-assignment-10"><i class="fa fa-check"></i>Review assignment</a></li>
<li class="chapter" data-level="" data-path="randomization-statistics.html"><a href="randomization-statistics.html#c-do-social-bonds-relate-to-kinship"><i class="fa fa-check"></i>(c) Do social bonds relate to kinship?</a></li>
</ul></li>
<li class="chapter" data-level="51" data-path="iterative-simulations.html"><a href="iterative-simulations.html"><i class="fa fa-check"></i><b>51</b> Iterative simulations</a></li>
<li class="chapter" data-level="52" data-path="image-analysis.html"><a href="image-analysis.html"><i class="fa fa-check"></i><b>52</b> Image analysis</a></li>
<li class="chapter" data-level="53" data-path="machine-learning.html"><a href="machine-learning.html"><i class="fa fa-check"></i><b>53</b> Machine learning</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/databrew/intro-to-data-science" target="blank">Databrew LLC</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><code>DataBOOM</code>: the canon for data science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dataframes" class="section level1" number="15">
<h1><span class="header-section-number">Module 15</span> Dataframes</h1>
<div id="dataframes-other-data-structures" class="section level3 unnumbered">
<h3>Dataframes &amp; other data structures</h3>
<div id="learning-goals-10" class="section level4 unnumbered">
<h4>Learning goals</h4>
<ul>
<li>Practice exploring, summarizing, and filtering dataframes</li>
<li>Understand the importance of <em>tidy</em> datasets</li>
<li>Understand what the <code>tidyverse</code> is and why it is awesome</li>
</ul>
<p>A <strong>vector</strong> is the most basic data structure in <code>R</code>, and the other structures are built out of vectors.</p>
<p>As a data scientist, the most common data structure you will be working with is a <strong>dataframe</strong>, which is essentially a spreadsheet: a dataset with rows and columns, in which each column represents is a vector of the same class of data.</p>
<p>We will explore dataframes in detail later, but here is a sneak peak at what they look like:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="dataframes.html#cb151-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x=</span><span class="dv">300</span><span class="sc">:</span><span class="dv">310</span>,</span>
<span id="cb151-2"><a href="dataframes.html#cb151-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">y=</span><span class="dv">600</span><span class="sc">:</span><span class="dv">610</span>)</span>
<span id="cb151-3"><a href="dataframes.html#cb151-3" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb151-4"><a href="dataframes.html#cb151-4" aria-hidden="true" tabindex="-1"></a>     x   y</span>
<span id="cb151-5"><a href="dataframes.html#cb151-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  <span class="dv">300</span> <span class="dv">600</span></span>
<span id="cb151-6"><a href="dataframes.html#cb151-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  <span class="dv">301</span> <span class="dv">601</span></span>
<span id="cb151-7"><a href="dataframes.html#cb151-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  <span class="dv">302</span> <span class="dv">602</span></span>
<span id="cb151-8"><a href="dataframes.html#cb151-8" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  <span class="dv">303</span> <span class="dv">603</span></span>
<span id="cb151-9"><a href="dataframes.html#cb151-9" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  <span class="dv">304</span> <span class="dv">604</span></span>
<span id="cb151-10"><a href="dataframes.html#cb151-10" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>  <span class="dv">305</span> <span class="dv">605</span></span>
<span id="cb151-11"><a href="dataframes.html#cb151-11" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>  <span class="dv">306</span> <span class="dv">606</span></span>
<span id="cb151-12"><a href="dataframes.html#cb151-12" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>  <span class="dv">307</span> <span class="dv">607</span></span>
<span id="cb151-13"><a href="dataframes.html#cb151-13" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>  <span class="dv">308</span> <span class="dv">608</span></span>
<span id="cb151-14"><a href="dataframes.html#cb151-14" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="dv">309</span> <span class="dv">609</span></span>
<span id="cb151-15"><a href="dataframes.html#cb151-15" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span> <span class="dv">310</span> <span class="dv">610</span></span></code></pre></div>
<p>In this command, we used the <code>data.frame()</code> function to combine two vectors into a dataframe with two columns named <code>x</code> and <code>y</code>. <code>R</code> then saved this result in a new variable named <code>df</code>. When we call <code>df</code>, <code>R</code> shows us the dataframe.</p>
<p>The great thing about dataframes is that they allow you to relate different data types to each other.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="dataframes.html#cb152-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name=</span><span class="fu">c</span>(<span class="st">&quot;Ben&quot;</span>,<span class="st">&quot;Joe&quot;</span>,<span class="st">&quot;Eric&quot;</span>),</span>
<span id="cb152-2"><a href="dataframes.html#cb152-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">height=</span><span class="fu">c</span>(<span class="dv">75</span>,<span class="dv">73</span>,<span class="dv">80</span>))</span>
<span id="cb152-3"><a href="dataframes.html#cb152-3" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb152-4"><a href="dataframes.html#cb152-4" aria-hidden="true" tabindex="-1"></a>  name height</span>
<span id="cb152-5"><a href="dataframes.html#cb152-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  Ben     <span class="dv">75</span></span>
<span id="cb152-6"><a href="dataframes.html#cb152-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  Joe     <span class="dv">73</span></span>
<span id="cb152-7"><a href="dataframes.html#cb152-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> Eric     <span class="dv">80</span></span></code></pre></div>
<p>This dataframe has one column of class <code>character</code> and another of class <code>numeric</code>.</p>
<p>Typically you will “read” data into Rstudio from a folder on your computer (to be covered later). However, R (and many R packages) come with built-in, clean data</p>
<p>To see what’s available</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="dataframes.html#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>()</span></code></pre></div>
<p>The two other most common data structures are <strong>matrices</strong> and <strong>lists</strong>, but we will wait on learning about those. For now, focus on becoming comfortable using vectors and dataframes.</p>
</div>
</div>
<div id="exercise-4-2" class="section level3 unnumbered">
<h3>Exercise 4</h3>
<p>Let’s create a new object named <code>animals</code>. This is going to be a dataframe with 4 different columns: <code>species</code>, <code>height</code>, <code>color</code>, <code>veg</code> (whether or not the animal is a vegetarian).</p>
</div>
<div id="more-on-dataframes" class="section level3" number="15.0.1">
<h3><span class="header-section-number">15.0.1</span> More on dataframes</h3>
<p>In data science, the most common data structure you will be using – by far – is the <strong>dataframe</strong>. You were introduced to this data structure in Module 10, but a more familiar and detailed orientation is worthwhile.</p>
</div>
<div id="subsetting-exploring-dataframes" class="section level2 unnumbered">
<h2>Subsetting &amp; exploring dataframes</h2>
<p>To explore dataframes, let’s use a dataset on fuel mileage for all cars sold from 1985 to 2014.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="dataframes.html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="co"># need to install first install.packages(&#39;fueleconomy&#39;)</span></span>
<span id="cb154-2"><a href="dataframes.html#cb154-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fueleconomy)</span>
<span id="cb154-3"><a href="dataframes.html#cb154-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(vehicles)</span>
<span id="cb154-4"><a href="dataframes.html#cb154-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(vehicles)</span>
<span id="cb154-5"><a href="dataframes.html#cb154-5" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 6 x 12</span></span>
<span id="cb154-6"><a href="dataframes.html#cb154-6" aria-hidden="true" tabindex="-1"></a>     id make  model    year class   trans  drive     cyl displ fuel    hwy   cty</span>
<span id="cb154-7"><a href="dataframes.html#cb154-7" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb154-8"><a href="dataframes.html#cb154-8" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">13309</span> Acura <span class="fl">2.2</span>CL<span class="sc">/</span>…  <span class="dv">1997</span> Subcom… Autom… Front<span class="sc">-</span>…     <span class="dv">4</span>   <span class="fl">2.2</span> Regu…    <span class="dv">26</span>    <span class="dv">20</span></span>
<span id="cb154-9"><a href="dataframes.html#cb154-9" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">13310</span> Acura <span class="fl">2.2</span>CL<span class="sc">/</span>…  <span class="dv">1997</span> Subcom… Manua… Front<span class="sc">-</span>…     <span class="dv">4</span>   <span class="fl">2.2</span> Regu…    <span class="dv">28</span>    <span class="dv">22</span></span>
<span id="cb154-10"><a href="dataframes.html#cb154-10" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">13311</span> Acura <span class="fl">2.2</span>CL<span class="sc">/</span>…  <span class="dv">1997</span> Subcom… Autom… Front<span class="sc">-</span>…     <span class="dv">6</span>   <span class="dv">3</span>   Regu…    <span class="dv">26</span>    <span class="dv">18</span></span>
<span id="cb154-11"><a href="dataframes.html#cb154-11" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="dv">14038</span> Acura <span class="fl">2.3</span>CL<span class="sc">/</span>…  <span class="dv">1998</span> Subcom… Autom… Front<span class="sc">-</span>…     <span class="dv">4</span>   <span class="fl">2.3</span> Regu…    <span class="dv">27</span>    <span class="dv">19</span></span>
<span id="cb154-12"><a href="dataframes.html#cb154-12" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="dv">14039</span> Acura <span class="fl">2.3</span>CL<span class="sc">/</span>…  <span class="dv">1998</span> Subcom… Manua… Front<span class="sc">-</span>…     <span class="dv">4</span>   <span class="fl">2.3</span> Regu…    <span class="dv">29</span>    <span class="dv">21</span></span>
<span id="cb154-13"><a href="dataframes.html#cb154-13" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="dv">14040</span> Acura <span class="fl">2.3</span>CL<span class="sc">/</span>…  <span class="dv">1998</span> Subcom… Autom… Front<span class="sc">-</span>…     <span class="dv">6</span>   <span class="dv">3</span>   Regu…    <span class="dv">26</span>    <span class="dv">17</span></span>
<span id="cb154-14"><a href="dataframes.html#cb154-14" aria-hidden="true" tabindex="-1"></a><span class="co"># View(vehicles)</span></span></code></pre></div>
<p>A dataframe has rows of data organized into columns. In this dataframe, each row pertains to a single vehicle make/model – i.e., a single <em>observation</em>. Each column pertains to a single <em>type</em> of data. Columns are named in the <em>header</em> of the dataframe.</p>
<p>All the same useful exploration and subsetting functions that applied to vectors now apply to dataframes (see module 10 for a refreshers). In addition to those functions you already know, we’ve added some new functions to your inventory of useful functions.</p>
<div id="exploration" class="section level3 unnumbered">
<h3>Exploration</h3>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="dataframes.html#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(vehicles) <span class="co"># head() and tail() summarize the beginning and end of the object</span></span>
<span id="cb155-2"><a href="dataframes.html#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 6 x 12</span></span>
<span id="cb155-3"><a href="dataframes.html#cb155-3" aria-hidden="true" tabindex="-1"></a>     id make  model    year class   trans   drive    cyl displ fuel    hwy   cty</span>
<span id="cb155-4"><a href="dataframes.html#cb155-4" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb155-5"><a href="dataframes.html#cb155-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">28868</span> Yugo  GV Plu…  <span class="dv">1990</span> Minico… Manual… Front…     <span class="dv">4</span>   <span class="fl">1.3</span> Regu…    <span class="dv">27</span>    <span class="dv">21</span></span>
<span id="cb155-6"><a href="dataframes.html#cb155-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  <span class="dv">6635</span> Yugo  GV Plu…  <span class="dv">1990</span> Subcom… Manual… Front…     <span class="dv">4</span>   <span class="fl">1.3</span> Regu…    <span class="dv">28</span>    <span class="dv">23</span></span>
<span id="cb155-7"><a href="dataframes.html#cb155-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  <span class="dv">3157</span> Yugo  GV<span class="sc">/</span>GVX   <span class="dv">1987</span> Subcom… Manual… Front…     <span class="dv">4</span>   <span class="fl">1.1</span> Regu…    <span class="dv">29</span>    <span class="dv">24</span></span>
<span id="cb155-8"><a href="dataframes.html#cb155-8" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  <span class="dv">5497</span> Yugo  GV<span class="sc">/</span>GVX   <span class="dv">1989</span> Subcom… Manual… Front…     <span class="dv">4</span>   <span class="fl">1.1</span> Regu…    <span class="dv">29</span>    <span class="dv">24</span></span>
<span id="cb155-9"><a href="dataframes.html#cb155-9" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  <span class="dv">5498</span> Yugo  GV<span class="sc">/</span>GVX   <span class="dv">1989</span> Subcom… Manual… Front…     <span class="dv">4</span>   <span class="fl">1.3</span> Regu…    <span class="dv">28</span>    <span class="dv">23</span></span>
<span id="cb155-10"><a href="dataframes.html#cb155-10" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>  <span class="dv">1745</span> Yugo  Gy<span class="sc">/</span>yug…  <span class="dv">1986</span> Minico… Manual… Front…     <span class="dv">4</span>   <span class="fl">1.1</span> Regu…    <span class="dv">29</span>    <span class="dv">22</span></span>
<span id="cb155-11"><a href="dataframes.html#cb155-11" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(vehicles) <span class="co"># get names of columns</span></span>
<span id="cb155-12"><a href="dataframes.html#cb155-12" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;id&quot;</span>    <span class="st">&quot;make&quot;</span>  <span class="st">&quot;model&quot;</span> <span class="st">&quot;year&quot;</span>  <span class="st">&quot;class&quot;</span> <span class="st">&quot;trans&quot;</span> <span class="st">&quot;drive&quot;</span> <span class="st">&quot;cyl&quot;</span>   <span class="st">&quot;displ&quot;</span></span>
<span id="cb155-13"><a href="dataframes.html#cb155-13" aria-hidden="true" tabindex="-1"></a>[<span class="dv">10</span>] <span class="st">&quot;fuel&quot;</span>  <span class="st">&quot;hwy&quot;</span>   <span class="st">&quot;cty&quot;</span>  </span>
<span id="cb155-14"><a href="dataframes.html#cb155-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-15"><a href="dataframes.html#cb155-15" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(vehicles) <span class="co"># get number of rows</span></span>
<span id="cb155-16"><a href="dataframes.html#cb155-16" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">33442</span></span>
<span id="cb155-17"><a href="dataframes.html#cb155-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-18"><a href="dataframes.html#cb155-18" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(vehicles) <span class="co"># get number of columns</span></span>
<span id="cb155-19"><a href="dataframes.html#cb155-19" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">12</span></span></code></pre></div>
<p>Note that <code>length()</code> does not work the same on dataframes as it does with vectors. In dataframes, <code>length()</code> is the equivalent of <code>ncol()</code>; it will <em>not</em> give you the number of rows in a dataset.</p>
</div>
<div id="checking-for-nas" class="section level3 unnumbered">
<h3>Checking for NAs</h3>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="dataframes.html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="co"># is.na(vehicles)</span></span>
<span id="cb156-2"><a href="dataframes.html#cb156-2" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">is.na</span>(vehicles)) <span class="co"># at least one!</span></span>
<span id="cb156-3"><a href="dataframes.html#cb156-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-4"><a href="dataframes.html#cb156-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the NA</span></span>
<span id="cb156-5"><a href="dataframes.html#cb156-5" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">is.na</span>(vehicles<span class="sc">$</span>id))</span>
<span id="cb156-6"><a href="dataframes.html#cb156-6" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">is.na</span>(vehicles<span class="sc">$</span>make))</span></code></pre></div>
</div>
<div id="subsetting-1" class="section level3 unnumbered">
<h3>Subsetting</h3>
<p>Recall that dataframes are filtered by row and/or column using this format: <strong><code>dataframe[rows,columns]</code></strong>. To get the third element of the second column, for example, you type <code>dataframe[3,2]</code>.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="dataframes.html#cb157-1" aria-hidden="true" tabindex="-1"></a>vehicles[<span class="dv">3</span>,<span class="dv">2</span>]</span>
<span id="cb157-2"><a href="dataframes.html#cb157-2" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 1 x 1</span></span>
<span id="cb157-3"><a href="dataframes.html#cb157-3" aria-hidden="true" tabindex="-1"></a>  make </span>
<span id="cb157-4"><a href="dataframes.html#cb157-4" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>chr<span class="sc">&gt;</span></span>
<span id="cb157-5"><a href="dataframes.html#cb157-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> Acura</span></code></pre></div>
<p>Note that the comma is necessary even if you do not want to specify columns. If you try to type this …</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="dataframes.html#cb158-1" aria-hidden="true" tabindex="-1"></a>vehicles[<span class="dv">3</span>]</span></code></pre></div>
<p>…<code>R</code> will assume you are asking for the third column, not the third row.</p>
<p>To filter a dataframe to multiple values, you can specify vectors for the <code>row</code> and <code>column</code></p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="dataframes.html#cb159-1" aria-hidden="true" tabindex="-1"></a>vehicles[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">11</span><span class="sc">:</span><span class="dv">12</span>] <span class="co"># can use colons</span></span>
<span id="cb159-2"><a href="dataframes.html#cb159-2" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 3 x 2</span></span>
<span id="cb159-3"><a href="dataframes.html#cb159-3" aria-hidden="true" tabindex="-1"></a>    hwy   cty</span>
<span id="cb159-4"><a href="dataframes.html#cb159-4" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb159-5"><a href="dataframes.html#cb159-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">26</span>    <span class="dv">20</span></span>
<span id="cb159-6"><a href="dataframes.html#cb159-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">28</span>    <span class="dv">22</span></span>
<span id="cb159-7"><a href="dataframes.html#cb159-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">26</span>    <span class="dv">18</span></span>
<span id="cb159-8"><a href="dataframes.html#cb159-8" aria-hidden="true" tabindex="-1"></a>vehicles[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">11</span><span class="sc">:</span><span class="dv">12</span>)]  <span class="co"># can use c()</span></span>
<span id="cb159-9"><a href="dataframes.html#cb159-9" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 3 x 3</span></span>
<span id="cb159-10"><a href="dataframes.html#cb159-10" aria-hidden="true" tabindex="-1"></a>     id   hwy   cty</span>
<span id="cb159-11"><a href="dataframes.html#cb159-11" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb159-12"><a href="dataframes.html#cb159-12" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">13309</span>    <span class="dv">26</span>    <span class="dv">20</span></span>
<span id="cb159-13"><a href="dataframes.html#cb159-13" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">13310</span>    <span class="dv">28</span>    <span class="dv">22</span></span>
<span id="cb159-14"><a href="dataframes.html#cb159-14" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">13311</span>    <span class="dv">26</span>    <span class="dv">18</span></span></code></pre></div>
<p>Columns can also be called according to their names. Use the <strong><code>$</code></strong> sign to specify a column.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="dataframes.html#cb160-1" aria-hidden="true" tabindex="-1"></a>vehicles<span class="sc">$</span>hwy[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb160-2"><a href="dataframes.html#cb160-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">26</span> <span class="dv">28</span> <span class="dv">26</span> <span class="dv">27</span> <span class="dv">29</span></span></code></pre></div>
<p>Note that when you use a <code>$</code>, you will not need to use a comma within your brackets. If you try to run this …</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="dataframes.html#cb161-1" aria-hidden="true" tabindex="-1"></a>vehicles<span class="sc">$</span>hwy[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,]</span></code></pre></div>
<p>…<code>R</code> will throw a fit.</p>
<p>You can use logical tests to filter dataframes to rows that meet certain conditions. For example, to filter to only the rows for cars with better than 100 mpg, you can use this syntax:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="dataframes.html#cb162-1" aria-hidden="true" tabindex="-1"></a>keeps <span class="ot">&lt;-</span> <span class="fu">which</span>(vehicles<span class="sc">$</span>hwy <span class="sc">&gt;</span> <span class="dv">100</span>)</span>
<span id="cb162-2"><a href="dataframes.html#cb162-2" aria-hidden="true" tabindex="-1"></a>keeps</span>
<span id="cb162-3"><a href="dataframes.html#cb162-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">6533</span> <span class="dv">10613</span> <span class="dv">10614</span> <span class="dv">16429</span> <span class="dv">16430</span> <span class="dv">24487</span> <span class="dv">24488</span> <span class="dv">24489</span> <span class="dv">28628</span></span>
<span id="cb162-4"><a href="dataframes.html#cb162-4" aria-hidden="true" tabindex="-1"></a>vehicles[keeps,]</span>
<span id="cb162-5"><a href="dataframes.html#cb162-5" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 9 x 12</span></span>
<span id="cb162-6"><a href="dataframes.html#cb162-6" aria-hidden="true" tabindex="-1"></a>     id make   model   year class   trans   drive    cyl displ fuel    hwy   cty</span>
<span id="cb162-7"><a href="dataframes.html#cb162-7" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb162-8"><a href="dataframes.html#cb162-8" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">33640</span> Chevr… Spark…  <span class="dv">2014</span> Subcom… Automa… Front…    <span class="cn">NA</span>    <span class="cn">NA</span> Elec…   <span class="dv">109</span>   <span class="dv">128</span></span>
<span id="cb162-9"><a href="dataframes.html#cb162-9" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">33396</span> Fiat   500e    <span class="dv">2013</span> Minico… Automa… Front…    <span class="cn">NA</span>    <span class="cn">NA</span> Elec…   <span class="dv">108</span>   <span class="dv">122</span></span>
<span id="cb162-10"><a href="dataframes.html#cb162-10" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">34392</span> Fiat   500e    <span class="dv">2014</span> Minico… Automa… Front…    <span class="cn">NA</span>    <span class="cn">NA</span> Elec…   <span class="dv">108</span>   <span class="dv">122</span></span>
<span id="cb162-11"><a href="dataframes.html#cb162-11" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="dv">33265</span> Honda  Fit EV  <span class="dv">2013</span> Small … Automa… Front…    <span class="cn">NA</span>    <span class="cn">NA</span> Elec…   <span class="dv">105</span>   <span class="dv">132</span></span>
<span id="cb162-12"><a href="dataframes.html#cb162-12" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="dv">33905</span> Honda  Fit EV  <span class="dv">2014</span> Small … Automa… Front…    <span class="cn">NA</span>    <span class="cn">NA</span> Elec…   <span class="dv">105</span>   <span class="dv">132</span></span>
<span id="cb162-13"><a href="dataframes.html#cb162-13" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="dv">33558</span> Nissan Leaf    <span class="dv">2013</span> Midsiz… Automa… Front…    <span class="cn">NA</span>    <span class="cn">NA</span> Elec…   <span class="dv">102</span>   <span class="dv">129</span></span>
<span id="cb162-14"><a href="dataframes.html#cb162-14" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span> <span class="dv">34699</span> Nissan Leaf    <span class="dv">2014</span> Midsiz… Automa… Front…    <span class="cn">NA</span>    <span class="cn">NA</span> Elec…   <span class="dv">101</span>   <span class="dv">126</span></span>
<span id="cb162-15"><a href="dataframes.html#cb162-15" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span> <span class="dv">34918</span> Nissan Leaf    <span class="dv">2015</span> Midsiz… Automa… Front…    <span class="cn">NA</span>    <span class="cn">NA</span> Elec…   <span class="dv">101</span>   <span class="dv">126</span></span>
<span id="cb162-16"><a href="dataframes.html#cb162-16" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span> <span class="dv">33307</span> Scion  iQ EV   <span class="dv">2013</span> Minico… Automa… Front…    <span class="cn">NA</span>    <span class="cn">NA</span> Elec…   <span class="dv">105</span>   <span class="dv">138</span></span></code></pre></div>
<p>But the above is a long-winded way of doing this. You can also achieve this result as follows:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="dataframes.html#cb163-1" aria-hidden="true" tabindex="-1"></a>vehicles[<span class="fu">which</span>(vehicles<span class="sc">$</span>hwy <span class="sc">&gt;</span> <span class="dv">100</span>),]</span></code></pre></div>
<p>You can also get the same result without the <code>which()</code> function:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="dataframes.html#cb164-1" aria-hidden="true" tabindex="-1"></a>vehicles[vehicles<span class="sc">$</span>hwy <span class="sc">&gt;</span> <span class="dv">100</span>,]</span></code></pre></div>
<p>The logical test is returning a bunch of <code>TRUE</code>s and <code>FALSE</code>s, one for each row of <code>vehicles</code>. Only the <code>TRUE</code> rows will be returned.</p>
<div id="exercise-1-reading-for-errors" class="section level4 unnumbered">
<h4>Exercise 1: Reading for errors</h4>
<p>What is wrong with these commands? Why will each of them throw an error if you run them, and how can you fix them?</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="dataframes.html#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1</span></span>
<span id="cb165-2"><a href="dataframes.html#cb165-2" aria-hidden="true" tabindex="-1"></a>vehicles[<span class="dv">1</span>,<span class="dv">15</span>,]</span>
<span id="cb165-3"><a href="dataframes.html#cb165-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-4"><a href="dataframes.html#cb165-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2</span></span>
<span id="cb165-5"><a href="dataframes.html#cb165-5" aria-hidden="true" tabindex="-1"></a>vecihles[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,]</span>
<span id="cb165-6"><a href="dataframes.html#cb165-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-7"><a href="dataframes.html#cb165-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 3</span></span>
<span id="cb165-8"><a href="dataframes.html#cb165-8" aria-hidden="true" tabindex="-1"></a>vehicles<span class="sc">$</span>hwy[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,]</span>
<span id="cb165-9"><a href="dataframes.html#cb165-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-10"><a href="dataframes.html#cb165-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 4</span></span>
<span id="cb165-11"><a href="dataframes.html#cb165-11" aria-hidden="true" tabindex="-1"></a>vehicles[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>]</span></code></pre></div>
</div>
</div>
<div id="summarizing" class="section level3 unnumbered">
<h3>Summarizing</h3>
<p>The same summary functions that you have used for vectors work for dataframes, such as:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="dataframes.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(vehicles<span class="sc">$</span>hwy)</span>
<span id="cb166-2"><a href="dataframes.html#cb166-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">9</span></span>
<span id="cb166-3"><a href="dataframes.html#cb166-3" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(vehicles<span class="sc">$</span>hwy)</span>
<span id="cb166-4"><a href="dataframes.html#cb166-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">109</span></span>
<span id="cb166-5"><a href="dataframes.html#cb166-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(vehicles<span class="sc">$</span>cty)</span>
<span id="cb166-6"><a href="dataframes.html#cb166-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">17.491</span></span>
<span id="cb166-7"><a href="dataframes.html#cb166-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(vehicles<span class="sc">$</span>cty)</span>
<span id="cb166-8"><a href="dataframes.html#cb166-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">5.582174</span></span>
<span id="cb166-9"><a href="dataframes.html#cb166-9" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(vehicles<span class="sc">$</span>make)</span>
<span id="cb166-10"><a href="dataframes.html#cb166-10" aria-hidden="true" tabindex="-1"></a> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">33442</span>] <span class="st">&quot;Acura&quot;</span> <span class="st">&quot;Acura&quot;</span> <span class="st">&quot;Acura&quot;</span> <span class="st">&quot;Acura&quot;</span> <span class="st">&quot;Acura&quot;</span> <span class="st">&quot;Acura&quot;</span> <span class="st">&quot;Acura&quot;</span> ...</span>
<span id="cb166-11"><a href="dataframes.html#cb166-11" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(vehicles<span class="sc">$</span>hwy)</span>
<span id="cb166-12"><a href="dataframes.html#cb166-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;numeric&quot;</span></span></code></pre></div>
<p>You can also use the <strong><code>summary()</code></strong> function, which provides summary statistics for each column in your dataframe:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="dataframes.html#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(vehicles)</span>
<span id="cb167-2"><a href="dataframes.html#cb167-2" aria-hidden="true" tabindex="-1"></a>       id            make              model                year     </span>
<span id="cb167-3"><a href="dataframes.html#cb167-3" aria-hidden="true" tabindex="-1"></a> Min.   <span class="sc">:</span>    <span class="dv">1</span>   Length<span class="sc">:</span><span class="dv">33442</span>       Length<span class="sc">:</span><span class="dv">33442</span>       Min.   <span class="sc">:</span><span class="dv">1984</span>  </span>
<span id="cb167-4"><a href="dataframes.html#cb167-4" aria-hidden="true" tabindex="-1"></a> 1st Qu.<span class="sc">:</span> <span class="dv">8361</span>   Class <span class="sc">:</span>character   Class <span class="sc">:</span>character   1st Qu.<span class="sc">:</span><span class="dv">1991</span>  </span>
<span id="cb167-5"><a href="dataframes.html#cb167-5" aria-hidden="true" tabindex="-1"></a> Median <span class="sc">:</span><span class="dv">16724</span>   Mode  <span class="sc">:</span>character   Mode  <span class="sc">:</span>character   Median <span class="sc">:</span><span class="dv">1999</span>  </span>
<span id="cb167-6"><a href="dataframes.html#cb167-6" aria-hidden="true" tabindex="-1"></a> Mean   <span class="sc">:</span><span class="dv">17038</span>                                         Mean   <span class="sc">:</span><span class="dv">1999</span>  </span>
<span id="cb167-7"><a href="dataframes.html#cb167-7" aria-hidden="true" tabindex="-1"></a> 3rd Qu.<span class="sc">:</span><span class="dv">25265</span>                                         3rd Qu.<span class="sc">:</span><span class="dv">2008</span>  </span>
<span id="cb167-8"><a href="dataframes.html#cb167-8" aria-hidden="true" tabindex="-1"></a> Max.   <span class="sc">:</span><span class="dv">34932</span>                                         Max.   <span class="sc">:</span><span class="dv">2015</span>  </span>
<span id="cb167-9"><a href="dataframes.html#cb167-9" aria-hidden="true" tabindex="-1"></a>                                                                     </span>
<span id="cb167-10"><a href="dataframes.html#cb167-10" aria-hidden="true" tabindex="-1"></a>    class              trans              drive                cyl        </span>
<span id="cb167-11"><a href="dataframes.html#cb167-11" aria-hidden="true" tabindex="-1"></a> Length<span class="sc">:</span><span class="dv">33442</span>       Length<span class="sc">:</span><span class="dv">33442</span>       Length<span class="sc">:</span><span class="dv">33442</span>       Min.   <span class="sc">:</span> <span class="fl">2.000</span>  </span>
<span id="cb167-12"><a href="dataframes.html#cb167-12" aria-hidden="true" tabindex="-1"></a> Class <span class="sc">:</span>character   Class <span class="sc">:</span>character   Class <span class="sc">:</span>character   1st Qu.<span class="sc">:</span> <span class="fl">4.000</span>  </span>
<span id="cb167-13"><a href="dataframes.html#cb167-13" aria-hidden="true" tabindex="-1"></a> Mode  <span class="sc">:</span>character   Mode  <span class="sc">:</span>character   Mode  <span class="sc">:</span>character   Median <span class="sc">:</span> <span class="fl">6.000</span>  </span>
<span id="cb167-14"><a href="dataframes.html#cb167-14" aria-hidden="true" tabindex="-1"></a>                                                          Mean   <span class="sc">:</span> <span class="fl">5.772</span>  </span>
<span id="cb167-15"><a href="dataframes.html#cb167-15" aria-hidden="true" tabindex="-1"></a>                                                          3rd Qu.<span class="sc">:</span> <span class="fl">6.000</span>  </span>
<span id="cb167-16"><a href="dataframes.html#cb167-16" aria-hidden="true" tabindex="-1"></a>                                                          Max.   <span class="sc">:</span><span class="fl">16.000</span>  </span>
<span id="cb167-17"><a href="dataframes.html#cb167-17" aria-hidden="true" tabindex="-1"></a>                                                          NA<span class="st">&#39;s   :58      </span></span>
<span id="cb167-18"><a href="dataframes.html#cb167-18" aria-hidden="true" tabindex="-1"></a><span class="st">     displ           fuel                hwy              cty        </span></span>
<span id="cb167-19"><a href="dataframes.html#cb167-19" aria-hidden="true" tabindex="-1"></a><span class="st"> Min.   :0.000   Length:33442       Min.   :  9.00   Min.   :  6.00  </span></span>
<span id="cb167-20"><a href="dataframes.html#cb167-20" aria-hidden="true" tabindex="-1"></a><span class="st"> 1st Qu.:2.300   Class :character   1st Qu.: 19.00   1st Qu.: 15.00  </span></span>
<span id="cb167-21"><a href="dataframes.html#cb167-21" aria-hidden="true" tabindex="-1"></a><span class="st"> Median :3.000   Mode  :character   Median : 23.00   Median : 17.00  </span></span>
<span id="cb167-22"><a href="dataframes.html#cb167-22" aria-hidden="true" tabindex="-1"></a><span class="st"> Mean   :3.353                      Mean   : 23.55   Mean   : 17.49  </span></span>
<span id="cb167-23"><a href="dataframes.html#cb167-23" aria-hidden="true" tabindex="-1"></a><span class="st"> 3rd Qu.:4.300                      3rd Qu.: 27.00   3rd Qu.: 20.00  </span></span>
<span id="cb167-24"><a href="dataframes.html#cb167-24" aria-hidden="true" tabindex="-1"></a><span class="st"> Max.   :8.400                      Max.   :109.00   Max.   :138.00  </span></span>
<span id="cb167-25"><a href="dataframes.html#cb167-25" aria-hidden="true" tabindex="-1"></a><span class="st"> NA&#39;</span>s   <span class="sc">:</span><span class="dv">57</span>                                                          </span></code></pre></div>
<p>The function <strong><code>unique()</code></strong> returns unique values within a column:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="dataframes.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(vehicles<span class="sc">$</span>fuel)</span>
<span id="cb168-2"><a href="dataframes.html#cb168-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;Regular&quot;</span>                     <span class="st">&quot;Premium&quot;</span>                    </span>
<span id="cb168-3"><a href="dataframes.html#cb168-3" aria-hidden="true" tabindex="-1"></a> [<span class="dv">3</span>] <span class="st">&quot;Diesel&quot;</span>                      <span class="st">&quot;Premium or E85&quot;</span>             </span>
<span id="cb168-4"><a href="dataframes.html#cb168-4" aria-hidden="true" tabindex="-1"></a> [<span class="dv">5</span>] <span class="st">&quot;Electricity&quot;</span>                 <span class="st">&quot;Gasoline or E85&quot;</span>            </span>
<span id="cb168-5"><a href="dataframes.html#cb168-5" aria-hidden="true" tabindex="-1"></a> [<span class="dv">7</span>] <span class="st">&quot;Premium Gas or Electricity&quot;</span>  <span class="st">&quot;Gasoline or natural gas&quot;</span>    </span>
<span id="cb168-6"><a href="dataframes.html#cb168-6" aria-hidden="true" tabindex="-1"></a> [<span class="dv">9</span>] <span class="st">&quot;CNG&quot;</span>                         <span class="st">&quot;Midgrade&quot;</span>                   </span>
<span id="cb168-7"><a href="dataframes.html#cb168-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">&quot;Regular Gas and Electricity&quot;</span> <span class="st">&quot;Gasoline or propane&quot;</span>        </span>
<span id="cb168-8"><a href="dataframes.html#cb168-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">13</span>] <span class="st">&quot;Premium and Electricity&quot;</span>    </span></code></pre></div>
<p>Finally, the <strong><code>order()</code></strong> function helps you sort a dataframe according to the values in one of its columns.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="dataframes.html#cb169-1" aria-hidden="true" tabindex="-1"></a>vehicles_sorted <span class="ot">&lt;-</span> vehicles[<span class="fu">order</span>(vehicles<span class="sc">$</span>hwy),  <span class="co">#sort dataframe by highway mileage</span></span>
<span id="cb169-2"><a href="dataframes.html#cb169-2" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">10</span><span class="sc">:</span><span class="dv">12</span>)] <span class="co"># only keep certain columns</span></span>
<span id="cb169-3"><a href="dataframes.html#cb169-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(vehicles_sorted)</span>
<span id="cb169-4"><a href="dataframes.html#cb169-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 6 x 6</span></span>
<span id="cb169-5"><a href="dataframes.html#cb169-5" aria-hidden="true" tabindex="-1"></a>  make         model                   year fuel      hwy   cty</span>
<span id="cb169-6"><a href="dataframes.html#cb169-6" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>        <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                  <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb169-7"><a href="dataframes.html#cb169-7" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> Aston Martin Lagonda                 <span class="dv">1985</span> Regular     <span class="dv">9</span>     <span class="dv">7</span></span>
<span id="cb169-8"><a href="dataframes.html#cb169-8" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Aston Martin Lagonda                 <span class="dv">1985</span> Regular     <span class="dv">9</span>     <span class="dv">7</span></span>
<span id="cb169-9"><a href="dataframes.html#cb169-9" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> Aston Martin Saloon<span class="sc">/</span>Vantage<span class="sc">/</span>Volante  <span class="dv">1985</span> Regular     <span class="dv">9</span>     <span class="dv">7</span></span>
<span id="cb169-10"><a href="dataframes.html#cb169-10" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Aston Martin Saloon<span class="sc">/</span>Vantage<span class="sc">/</span>Volante  <span class="dv">1985</span> Regular     <span class="dv">9</span>     <span class="dv">7</span></span>
<span id="cb169-11"><a href="dataframes.html#cb169-11" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> Rolls<span class="sc">-</span>Royce  Camargue                <span class="dv">1987</span> Regular     <span class="dv">9</span>     <span class="dv">7</span></span>
<span id="cb169-12"><a href="dataframes.html#cb169-12" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> Rolls<span class="sc">-</span>Royce  Continental             <span class="dv">1987</span> Regular     <span class="dv">9</span>     <span class="dv">7</span></span></code></pre></div>
<p>Reverse the order by wrapping <strong><code>rev()</code></strong> around the <code>order()</code> call:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="dataframes.html#cb170-1" aria-hidden="true" tabindex="-1"></a>vehicles_sorted <span class="ot">&lt;-</span> vehicles[<span class="fu">rev</span>(<span class="fu">order</span>(vehicles<span class="sc">$</span>hwy)),</span>
<span id="cb170-2"><a href="dataframes.html#cb170-2" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">10</span><span class="sc">:</span><span class="dv">12</span>)]</span>
<span id="cb170-3"><a href="dataframes.html#cb170-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(vehicles_sorted)</span>
<span id="cb170-4"><a href="dataframes.html#cb170-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 6 x 6</span></span>
<span id="cb170-5"><a href="dataframes.html#cb170-5" aria-hidden="true" tabindex="-1"></a>  make      model     year fuel          hwy   cty</span>
<span id="cb170-6"><a href="dataframes.html#cb170-6" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>       <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb170-7"><a href="dataframes.html#cb170-7" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> Chevrolet Spark EV  <span class="dv">2014</span> Electricity   <span class="dv">109</span>   <span class="dv">128</span></span>
<span id="cb170-8"><a href="dataframes.html#cb170-8" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Fiat      500e      <span class="dv">2014</span> Electricity   <span class="dv">108</span>   <span class="dv">122</span></span>
<span id="cb170-9"><a href="dataframes.html#cb170-9" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> Fiat      500e      <span class="dv">2013</span> Electricity   <span class="dv">108</span>   <span class="dv">122</span></span>
<span id="cb170-10"><a href="dataframes.html#cb170-10" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Scion     iQ EV     <span class="dv">2013</span> Electricity   <span class="dv">105</span>   <span class="dv">138</span></span>
<span id="cb170-11"><a href="dataframes.html#cb170-11" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> Honda     Fit EV    <span class="dv">2014</span> Electricity   <span class="dv">105</span>   <span class="dv">132</span></span>
<span id="cb170-12"><a href="dataframes.html#cb170-12" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> Honda     Fit EV    <span class="dv">2013</span> Electricity   <span class="dv">105</span>   <span class="dv">132</span></span></code></pre></div>
</div>
<div id="building-dataframes" class="section level3 unnumbered">
<h3>Building dataframes</h3>
<p>To create a new dataframe, use the <code>data.frame()</code> function.</p>
<pre><code>             car mgp_hwy mpg_city
100 Acura Legend      23       15
101 Acura Legend      22       17
102 Acura Legend      23       16
103 Acura Legend      21       16
104 Acura Legend      22       17
105 Acura Legend      23       16
106 Acura Legend      24       16</code></pre>
<p>Note how the columns were named in the <code>data.frame()</code> call, and that each column is separated by a comma.</p>
<p>You can also stage an empty dataframe, which sounds useless but will become very useful as you start working with <code>for</code> loops and other higher-order <code>R</code> tools.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="dataframes.html#cb172-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb172-2"><a href="dataframes.html#cb172-2" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb172-3"><a href="dataframes.html#cb172-3" aria-hidden="true" tabindex="-1"></a>data frame with <span class="dv">0</span> columns and <span class="dv">0</span> rows</span></code></pre></div>
<p>To coerce an object into a format that <code>R</code> interprets as a dataframe, use <strong><code>as.dataframe()</code></strong>:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="dataframes.html#cb173-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(vehicles)</span>
<span id="cb173-2"><a href="dataframes.html#cb173-2" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb173-3"><a href="dataframes.html#cb173-3" aria-hidden="true" tabindex="-1"></a>     id  make       model year</span>
<span id="cb173-4"><a href="dataframes.html#cb173-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">13309</span> Acura <span class="fl">2.2</span>CL<span class="sc">/</span><span class="fl">3.0</span>CL <span class="dv">1997</span></span>
<span id="cb173-5"><a href="dataframes.html#cb173-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">13310</span> Acura <span class="fl">2.2</span>CL<span class="sc">/</span><span class="fl">3.0</span>CL <span class="dv">1997</span></span>
<span id="cb173-6"><a href="dataframes.html#cb173-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">13311</span> Acura <span class="fl">2.2</span>CL<span class="sc">/</span><span class="fl">3.0</span>CL <span class="dv">1997</span></span>
<span id="cb173-7"><a href="dataframes.html#cb173-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="dv">14038</span> Acura <span class="fl">2.3</span>CL<span class="sc">/</span><span class="fl">3.0</span>CL <span class="dv">1998</span></span></code></pre></div>
<p>You can bind multiple dataframes together using <strong><code>rbind()</code></strong>:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="dataframes.html#cb174-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name=</span><span class="fu">c</span>(<span class="st">&quot;Ben&quot;</span>,<span class="st">&quot;Joe&quot;</span>,<span class="st">&quot;Eric&quot;</span>,<span class="st">&quot;Isabelle&quot;</span>),<span class="at">instrument=</span><span class="fu">c</span>(<span class="st">&quot;Nose harp&quot;</span>,<span class="st">&quot;Concertina&quot;</span>,<span class="st">&quot;Ukelele&quot;</span>,<span class="st">&quot;Drums&quot;</span>))</span>
<span id="cb174-2"><a href="dataframes.html#cb174-2" aria-hidden="true" tabindex="-1"></a>df1</span>
<span id="cb174-3"><a href="dataframes.html#cb174-3" aria-hidden="true" tabindex="-1"></a>      name instrument</span>
<span id="cb174-4"><a href="dataframes.html#cb174-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>      Ben  Nose harp</span>
<span id="cb174-5"><a href="dataframes.html#cb174-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>      Joe Concertina</span>
<span id="cb174-6"><a href="dataframes.html#cb174-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>     Eric    Ukelele</span>
<span id="cb174-7"><a href="dataframes.html#cb174-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Isabelle      Drums</span>
<span id="cb174-8"><a href="dataframes.html#cb174-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-9"><a href="dataframes.html#cb174-9" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name=</span><span class="fu">c</span>(<span class="st">&quot;Matthew&quot;</span>),<span class="at">instrument=</span><span class="fu">c</span>(<span class="st">&quot;Washboard&quot;</span>))</span>
<span id="cb174-10"><a href="dataframes.html#cb174-10" aria-hidden="true" tabindex="-1"></a><span class="fu">rbind</span>(df1,df2)</span>
<span id="cb174-11"><a href="dataframes.html#cb174-11" aria-hidden="true" tabindex="-1"></a>      name instrument</span>
<span id="cb174-12"><a href="dataframes.html#cb174-12" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>      Ben  Nose harp</span>
<span id="cb174-13"><a href="dataframes.html#cb174-13" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>      Joe Concertina</span>
<span id="cb174-14"><a href="dataframes.html#cb174-14" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>     Eric    Ukelele</span>
<span id="cb174-15"><a href="dataframes.html#cb174-15" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Isabelle      Drums</span>
<span id="cb174-16"><a href="dataframes.html#cb174-16" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  Matthew  Washboard</span></code></pre></div>
<p>Note that to be combined, two dataframes have to have the exact same number of columns and the exact same column names.</p>
<p>The only exception to this is adding a dataframe with content an empty dataframe. That can work, and that will be helpful in the <em><code>R</code> Toolbag</em> modules ahead.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="dataframes.html#cb175-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>() <span class="co"># stage empty dataframe</span></span>
<span id="cb175-2"><a href="dataframes.html#cb175-2" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name=</span><span class="fu">c</span>(<span class="st">&quot;Ben&quot;</span>,<span class="st">&quot;Joe&quot;</span>,<span class="st">&quot;Eric&quot;</span>,<span class="st">&quot;Isabelle&quot;</span>),<span class="at">instrument=</span><span class="fu">c</span>(<span class="st">&quot;Nose harp&quot;</span>,<span class="st">&quot;Concertina&quot;</span>,<span class="st">&quot;Ukelele&quot;</span>,<span class="st">&quot;Drums&quot;</span>))</span>
<span id="cb175-3"><a href="dataframes.html#cb175-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df,df1)</span>
<span id="cb175-4"><a href="dataframes.html#cb175-4" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb175-5"><a href="dataframes.html#cb175-5" aria-hidden="true" tabindex="-1"></a>      name instrument</span>
<span id="cb175-6"><a href="dataframes.html#cb175-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>      Ben  Nose harp</span>
<span id="cb175-7"><a href="dataframes.html#cb175-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>      Joe Concertina</span>
<span id="cb175-8"><a href="dataframes.html#cb175-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>     Eric    Ukelele</span>
<span id="cb175-9"><a href="dataframes.html#cb175-9" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Isabelle      Drums</span></code></pre></div>
<p>You can also bind multiple dataframes together using <strong><code>cbind()</code></strong>:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="dataframes.html#cb176-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name=</span><span class="fu">c</span>(<span class="st">&quot;Ben&quot;</span>,<span class="st">&quot;Joe&quot;</span>,<span class="st">&quot;Eric&quot;</span>,<span class="st">&quot;Isabelle&quot;</span>),<span class="at">instrument=</span><span class="fu">c</span>(<span class="st">&quot;Nose harp&quot;</span>,<span class="st">&quot;Concertina&quot;</span>,<span class="st">&quot;Ukelele&quot;</span>,<span class="st">&quot;Drums&quot;</span>))</span>
<span id="cb176-2"><a href="dataframes.html#cb176-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">age=</span><span class="fu">c</span>(<span class="dv">33</span>,<span class="dv">35</span>,<span class="dv">35</span>,<span class="dv">20</span>), <span class="at">home=</span><span class="fu">c</span>(<span class="st">&quot;Canada&quot;</span>,<span class="st">&quot;Spain&quot;</span>,<span class="st">&quot;USA&quot;</span>,<span class="st">&quot;USA&quot;</span>))</span>
<span id="cb176-3"><a href="dataframes.html#cb176-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">cbind</span>(df,df1)</span>
<span id="cb176-4"><a href="dataframes.html#cb176-4" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb176-5"><a href="dataframes.html#cb176-5" aria-hidden="true" tabindex="-1"></a>  age   home     name instrument</span>
<span id="cb176-6"><a href="dataframes.html#cb176-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  <span class="dv">33</span> Canada      Ben  Nose harp</span>
<span id="cb176-7"><a href="dataframes.html#cb176-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  <span class="dv">35</span>  Spain      Joe Concertina</span>
<span id="cb176-8"><a href="dataframes.html#cb176-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  <span class="dv">35</span>    USA     Eric    Ukelele</span>
<span id="cb176-9"><a href="dataframes.html#cb176-9" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  <span class="dv">20</span>    USA Isabelle      Drums</span></code></pre></div>
<p>Note that to be combined, two dataframes have to have the exact same number of rows and the exact same column names.</p>
</div>
<div id="exercise-2-subsetting-and-filtering" class="section level3 unnumbered">
<h3>Exercise 2: Subsetting and filtering</h3>
<p><strong>A. Subset one field according to a logical test</strong><br />
With no more than two lines of code, get the number of Honda cars in the <code>vehicles</code> dataset.</p>
<p><strong>B. Subset one field according to a logical test for a different field.</strong><br />
In a single line of code, show the mileages of all the Toyotas in the dataset.</p>
<p><strong>C. Subset a dataframe to a single subgroup</strong><br />
In a single line of code, determine how many differet car makes/models were produced in 1995.</p>
<p><strong>D. Get the mean value for a subgroup of data</strong><br />
What is the average city mileage for Subaru cars in the dataset?</p>
<p><strong>E. Subset a dataframe to only data from between two values</strong><br />
According to this dataset, how many different car makes/models have been produced with highway mileages between 30 and 40 mpg?</p>
<div id="review-assignment-7" class="section level4 unnumbered">
<h4>Review assignment</h4>
<ol style="list-style-type: decimal">
<li><p>Create a vector called <code>people</code> of 5 peoples names from the class.</p></li>
<li><p>Show with code how many people are in your vector</p></li>
<li><p>Create another vector called <code>height</code> which is the number of centimeters tall each of those 5 people are.</p></li>
<li><p>Combine these two vectors into a data frame.</p></li>
</ol>
</div>
</div>
</div>
<div id="dplyr" class="section level2 unnumbered">
<h2>dplyr</h2>
<p>Data scientists largely work in data frames and <em>do things</em> to data. This is what dplyr is optimized for. It consists of a series of “verbs” which cover 95% of what you need to do for most basic data processing tasks.</p>
<div id="the-verbs" class="section level4 unnumbered">
<h4>The verbs</h4>
<p>filter()<br />
arrange()<br />
select()<br />
rename()<br />
distinct()<br />
mutate()<br />
summarise()<br />
sample_n() (and sample_frac())</p>
</div>
<div id="the-pipe" class="section level4" number="15.0.1.1">
<h4><span class="header-section-number">15.0.1.1</span> The pipe</h4>
<p><code>%&gt;%</code> is a “pipe.” It is a way to write code without so many parenthesis. For example, what if I want to find the square root of the sum of a sample of two integers from a sequence of 10 to 20 by 2:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="dataframes.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">sum</span>(<span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">2</span>), <span class="dv">2</span>)))</span>
<span id="cb177-2"><a href="dataframes.html#cb177-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">5.656854</span></span></code></pre></div>
<p>The above could also be written as:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="dataframes.html#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb178-2"><a href="dataframes.html#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">2</span>) <span class="sc">%&gt;%</span> <span class="fu">sample</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span> sum <span class="sc">%&gt;%</span> sqrt</span>
<span id="cb178-3"><a href="dataframes.html#cb178-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">5.830952</span></span></code></pre></div>
<p>Similarly the below:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="dataframes.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">sd</span>(<span class="fu">log</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>)))</span>
<span id="cb179-2"><a href="dataframes.html#cb179-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.9280532</span></span></code></pre></div>
<p>Could also be written as:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="dataframes.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">100</span> <span class="sc">%&gt;%</span> log <span class="sc">%&gt;%</span> sd <span class="sc">%&gt;%</span> mean</span>
<span id="cb180-2"><a href="dataframes.html#cb180-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.9280532</span></span></code></pre></div>
<p>It can be read as “then.”</p>
</div>
<div id="filtering" class="section level4 unnumbered">
<h4>Filtering</h4>
<p>The filter() function is used to subset a data frame, retaining all rows that satisfy your conditions. To be retained, the row must produce a value of TRUE for all conditions. Note that when a condition evaluates to NA the row will be dropped, unlike base subsetting with [.</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="dataframes.html#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb181-2"><a href="dataframes.html#cb181-2" aria-hidden="true" tabindex="-1"></a>people <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">who =</span> <span class="fu">c</span>(<span class="st">&#39;Joe&#39;</span>, <span class="st">&#39;Ben&#39;</span>, <span class="st">&#39;Xing&#39;</span>, <span class="st">&#39;Coloma&#39;</span>),</span>
<span id="cb181-3"><a href="dataframes.html#cb181-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">sex =</span> <span class="fu">c</span>(<span class="st">&#39;Male&#39;</span>, <span class="st">&#39;Male&#39;</span>, <span class="st">&#39;Female&#39;</span>, <span class="st">&#39;Female&#39;</span>),</span>
<span id="cb181-4"><a href="dataframes.html#cb181-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">35</span>, <span class="dv">33</span>, <span class="dv">32</span>, <span class="dv">34</span>))</span>
<span id="cb181-5"><a href="dataframes.html#cb181-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-6"><a href="dataframes.html#cb181-6" aria-hidden="true" tabindex="-1"></a>men <span class="ot">&lt;-</span> people <span class="sc">%&gt;%</span></span>
<span id="cb181-7"><a href="dataframes.html#cb181-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">&#39;Male&#39;</span>)</span>
<span id="cb181-8"><a href="dataframes.html#cb181-8" aria-hidden="true" tabindex="-1"></a>women <span class="ot">&lt;-</span> people <span class="sc">%&gt;%</span></span>
<span id="cb181-9"><a href="dataframes.html#cb181-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">&#39;Male&#39;</span>)</span></code></pre></div>
</div>
<div id="arranging" class="section level4 unnumbered">
<h4>Arranging</h4>
<p>Arrange means putting things in order. That is, arrange() orders the rows of a data frame by the values of selected columns.</p>
<p>Unlike other dplyr verbs, arrange() largely ignores grouping; you need to explicitly mention grouping variables (or use .by_group = TRUE) in order to group by them, and functions of variables are evaluated once per data frame, not once per group. For example:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="dataframes.html#cb182-1" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(age)</span>
<span id="cb182-2"><a href="dataframes.html#cb182-2" aria-hidden="true" tabindex="-1"></a>     who    sex age</span>
<span id="cb182-3"><a href="dataframes.html#cb182-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   Xing Female  <span class="dv">32</span></span>
<span id="cb182-4"><a href="dataframes.html#cb182-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    Ben   Male  <span class="dv">33</span></span>
<span id="cb182-5"><a href="dataframes.html#cb182-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> Coloma Female  <span class="dv">34</span></span>
<span id="cb182-6"><a href="dataframes.html#cb182-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    Joe   Male  <span class="dv">35</span></span>
<span id="cb182-7"><a href="dataframes.html#cb182-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-8"><a href="dataframes.html#cb182-8" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(sex)</span>
<span id="cb182-9"><a href="dataframes.html#cb182-9" aria-hidden="true" tabindex="-1"></a>     who    sex age</span>
<span id="cb182-10"><a href="dataframes.html#cb182-10" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   Xing Female  <span class="dv">32</span></span>
<span id="cb182-11"><a href="dataframes.html#cb182-11" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Coloma Female  <span class="dv">34</span></span>
<span id="cb182-12"><a href="dataframes.html#cb182-12" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    Joe   Male  <span class="dv">35</span></span>
<span id="cb182-13"><a href="dataframes.html#cb182-13" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    Ben   Male  <span class="dv">33</span></span>
<span id="cb182-14"><a href="dataframes.html#cb182-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-15"><a href="dataframes.html#cb182-15" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(who)</span>
<span id="cb182-16"><a href="dataframes.html#cb182-16" aria-hidden="true" tabindex="-1"></a>     who    sex age</span>
<span id="cb182-17"><a href="dataframes.html#cb182-17" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    Ben   Male  <span class="dv">33</span></span>
<span id="cb182-18"><a href="dataframes.html#cb182-18" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Coloma Female  <span class="dv">34</span></span>
<span id="cb182-19"><a href="dataframes.html#cb182-19" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    Joe   Male  <span class="dv">35</span></span>
<span id="cb182-20"><a href="dataframes.html#cb182-20" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   Xing Female  <span class="dv">32</span></span>
<span id="cb182-21"><a href="dataframes.html#cb182-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-22"><a href="dataframes.html#cb182-22" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(age))</span>
<span id="cb182-23"><a href="dataframes.html#cb182-23" aria-hidden="true" tabindex="-1"></a>     who    sex age</span>
<span id="cb182-24"><a href="dataframes.html#cb182-24" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    Joe   Male  <span class="dv">35</span></span>
<span id="cb182-25"><a href="dataframes.html#cb182-25" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Coloma Female  <span class="dv">34</span></span>
<span id="cb182-26"><a href="dataframes.html#cb182-26" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    Ben   Male  <span class="dv">33</span></span>
<span id="cb182-27"><a href="dataframes.html#cb182-27" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   Xing Female  <span class="dv">32</span></span></code></pre></div>
</div>
<div id="selecting" class="section level4 unnumbered">
<h4>Selecting</h4>
<p>Select (and optionally rename) variables in a data frame, using a concise mini-language that makes it easy to refer to variables based on their name (e.g. a:f selects all columns from a on the left to f on the right). You can also use predicate functions like is.numeric to select variables based on their properties.</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="dataframes.html#cb183-1" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> <span class="fu">select</span>(age)</span>
<span id="cb183-2"><a href="dataframes.html#cb183-2" aria-hidden="true" tabindex="-1"></a>  age</span>
<span id="cb183-3"><a href="dataframes.html#cb183-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  <span class="dv">35</span></span>
<span id="cb183-4"><a href="dataframes.html#cb183-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  <span class="dv">33</span></span>
<span id="cb183-5"><a href="dataframes.html#cb183-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  <span class="dv">32</span></span>
<span id="cb183-6"><a href="dataframes.html#cb183-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  <span class="dv">34</span></span>
<span id="cb183-7"><a href="dataframes.html#cb183-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-8"><a href="dataframes.html#cb183-8" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> <span class="fu">select</span>(sex, age)</span>
<span id="cb183-9"><a href="dataframes.html#cb183-9" aria-hidden="true" tabindex="-1"></a>     sex age</span>
<span id="cb183-10"><a href="dataframes.html#cb183-10" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   Male  <span class="dv">35</span></span>
<span id="cb183-11"><a href="dataframes.html#cb183-11" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>   Male  <span class="dv">33</span></span>
<span id="cb183-12"><a href="dataframes.html#cb183-12" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> Female  <span class="dv">32</span></span>
<span id="cb183-13"><a href="dataframes.html#cb183-13" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Female  <span class="dv">34</span></span>
<span id="cb183-14"><a href="dataframes.html#cb183-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-15"><a href="dataframes.html#cb183-15" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> <span class="fu">select</span>(sex, <span class="at">years =</span> age)</span>
<span id="cb183-16"><a href="dataframes.html#cb183-16" aria-hidden="true" tabindex="-1"></a>     sex years</span>
<span id="cb183-17"><a href="dataframes.html#cb183-17" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   Male    <span class="dv">35</span></span>
<span id="cb183-18"><a href="dataframes.html#cb183-18" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>   Male    <span class="dv">33</span></span>
<span id="cb183-19"><a href="dataframes.html#cb183-19" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> Female    <span class="dv">32</span></span>
<span id="cb183-20"><a href="dataframes.html#cb183-20" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Female    <span class="dv">34</span></span></code></pre></div>
</div>
<div id="renaming" class="section level4 unnumbered">
<h4>Renaming</h4>
<p>rename() changes the names of individual variables using new_name = old_name syntax; rename_with() renames columns using a function.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="dataframes.html#cb184-1" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">gender =</span> sex, <span class="at">years =</span> age, <span class="at">first_name =</span> who)</span>
<span id="cb184-2"><a href="dataframes.html#cb184-2" aria-hidden="true" tabindex="-1"></a>  first_name gender years</span>
<span id="cb184-3"><a href="dataframes.html#cb184-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>        Joe   Male    <span class="dv">35</span></span>
<span id="cb184-4"><a href="dataframes.html#cb184-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>        Ben   Male    <span class="dv">33</span></span>
<span id="cb184-5"><a href="dataframes.html#cb184-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>       Xing Female    <span class="dv">32</span></span>
<span id="cb184-6"><a href="dataframes.html#cb184-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>     Coloma Female    <span class="dv">34</span></span></code></pre></div>
</div>
<div id="mutating" class="section level4 unnumbered">
<h4>Mutating</h4>
<p>mutate() adds new variables and preserves existing ones; transmute() adds new variables and drops existing ones. New variables overwrite existing variables of the same name. Variables can be removed by setting their value to NULL.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="dataframes.html#cb185-1" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">agein2020 =</span> age <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb185-2"><a href="dataframes.html#cb185-2" aria-hidden="true" tabindex="-1"></a>     who    sex age agein2020</span>
<span id="cb185-3"><a href="dataframes.html#cb185-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    Joe   Male  <span class="dv">35</span>        <span class="dv">34</span></span>
<span id="cb185-4"><a href="dataframes.html#cb185-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    Ben   Male  <span class="dv">33</span>        <span class="dv">32</span></span>
<span id="cb185-5"><a href="dataframes.html#cb185-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>   Xing Female  <span class="dv">32</span>        <span class="dv">31</span></span>
<span id="cb185-6"><a href="dataframes.html#cb185-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Coloma Female  <span class="dv">34</span>        <span class="dv">33</span></span>
<span id="cb185-7"><a href="dataframes.html#cb185-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-8"><a href="dataframes.html#cb185-8" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">is_male =</span> sex <span class="sc">==</span> <span class="st">&#39;Male&#39;</span>)</span>
<span id="cb185-9"><a href="dataframes.html#cb185-9" aria-hidden="true" tabindex="-1"></a>     who    sex age is_male</span>
<span id="cb185-10"><a href="dataframes.html#cb185-10" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    Joe   Male  <span class="dv">35</span>    <span class="cn">TRUE</span></span>
<span id="cb185-11"><a href="dataframes.html#cb185-11" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    Ben   Male  <span class="dv">33</span>    <span class="cn">TRUE</span></span>
<span id="cb185-12"><a href="dataframes.html#cb185-12" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>   Xing Female  <span class="dv">32</span>   <span class="cn">FALSE</span></span>
<span id="cb185-13"><a href="dataframes.html#cb185-13" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Coloma Female  <span class="dv">34</span>   <span class="cn">FALSE</span></span>
<span id="cb185-14"><a href="dataframes.html#cb185-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-15"><a href="dataframes.html#cb185-15" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">who =</span> <span class="cn">NULL</span>)</span>
<span id="cb185-16"><a href="dataframes.html#cb185-16" aria-hidden="true" tabindex="-1"></a>     sex age</span>
<span id="cb185-17"><a href="dataframes.html#cb185-17" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   Male  <span class="dv">35</span></span>
<span id="cb185-18"><a href="dataframes.html#cb185-18" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>   Male  <span class="dv">33</span></span>
<span id="cb185-19"><a href="dataframes.html#cb185-19" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> Female  <span class="dv">32</span></span>
<span id="cb185-20"><a href="dataframes.html#cb185-20" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Female  <span class="dv">34</span></span>
<span id="cb185-21"><a href="dataframes.html#cb185-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-22"><a href="dataframes.html#cb185-22" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">average_age =</span> <span class="fu">mean</span>(age))</span>
<span id="cb185-23"><a href="dataframes.html#cb185-23" aria-hidden="true" tabindex="-1"></a>     who    sex age average_age</span>
<span id="cb185-24"><a href="dataframes.html#cb185-24" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    Joe   Male  <span class="dv">35</span>        <span class="fl">33.5</span></span>
<span id="cb185-25"><a href="dataframes.html#cb185-25" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    Ben   Male  <span class="dv">33</span>        <span class="fl">33.5</span></span>
<span id="cb185-26"><a href="dataframes.html#cb185-26" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>   Xing Female  <span class="dv">32</span>        <span class="fl">33.5</span></span>
<span id="cb185-27"><a href="dataframes.html#cb185-27" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Coloma Female  <span class="dv">34</span>        <span class="fl">33.5</span></span>
<span id="cb185-28"><a href="dataframes.html#cb185-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-29"><a href="dataframes.html#cb185-29" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">average_age =</span> <span class="fu">mean</span>(age)) <span class="sc">%&gt;%</span></span>
<span id="cb185-30"><a href="dataframes.html#cb185-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">diff_from_avg =</span> age <span class="sc">-</span> average_age)</span>
<span id="cb185-31"><a href="dataframes.html#cb185-31" aria-hidden="true" tabindex="-1"></a>     who    sex age average_age diff_from_avg</span>
<span id="cb185-32"><a href="dataframes.html#cb185-32" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    Joe   Male  <span class="dv">35</span>        <span class="fl">33.5</span>           <span class="fl">1.5</span></span>
<span id="cb185-33"><a href="dataframes.html#cb185-33" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    Ben   Male  <span class="dv">33</span>        <span class="fl">33.5</span>          <span class="sc">-</span><span class="fl">0.5</span></span>
<span id="cb185-34"><a href="dataframes.html#cb185-34" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>   Xing Female  <span class="dv">32</span>        <span class="fl">33.5</span>          <span class="sc">-</span><span class="fl">1.5</span></span>
<span id="cb185-35"><a href="dataframes.html#cb185-35" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Coloma Female  <span class="dv">34</span>        <span class="fl">33.5</span>           <span class="fl">0.5</span></span></code></pre></div>
</div>
<div id="grouping" class="section level4 unnumbered">
<h4>Grouping</h4>
<p>Most data operations are done on groups defined by variables. group_by() takes an existing tbl and converts it into a grouped tbl where operations are performed “by group.” ungroup() removes grouping.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="dataframes.html#cb186-1" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> </span>
<span id="cb186-2"><a href="dataframes.html#cb186-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex) <span class="sc">%&gt;%</span></span>
<span id="cb186-3"><a href="dataframes.html#cb186-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">average_age_for_sex =</span> <span class="fu">mean</span>(age)) </span>
<span id="cb186-4"><a href="dataframes.html#cb186-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 4 x 4</span></span>
<span id="cb186-5"><a href="dataframes.html#cb186-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Groups:   sex [2]</span></span>
<span id="cb186-6"><a href="dataframes.html#cb186-6" aria-hidden="true" tabindex="-1"></a>  who    sex      age average_age_for_sex</span>
<span id="cb186-7"><a href="dataframes.html#cb186-7" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>fct<span class="sc">&gt;</span>  <span class="er">&lt;</span>fct<span class="sc">&gt;</span>  <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>               <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb186-8"><a href="dataframes.html#cb186-8" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> Joe    Male      <span class="dv">35</span>                  <span class="dv">34</span></span>
<span id="cb186-9"><a href="dataframes.html#cb186-9" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Ben    Male      <span class="dv">33</span>                  <span class="dv">34</span></span>
<span id="cb186-10"><a href="dataframes.html#cb186-10" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> Xing   Female    <span class="dv">32</span>                  <span class="dv">33</span></span>
<span id="cb186-11"><a href="dataframes.html#cb186-11" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Coloma Female    <span class="dv">34</span>                  <span class="dv">33</span></span>
<span id="cb186-12"><a href="dataframes.html#cb186-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-13"><a href="dataframes.html#cb186-13" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> </span>
<span id="cb186-14"><a href="dataframes.html#cb186-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex) <span class="sc">%&gt;%</span></span>
<span id="cb186-15"><a href="dataframes.html#cb186-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">average_age_for_sex =</span> <span class="fu">mean</span>(age)) <span class="sc">%&gt;%</span></span>
<span id="cb186-16"><a href="dataframes.html#cb186-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">diff_from_avg_for_sex =</span> age <span class="sc">-</span> average_age_for_sex)</span>
<span id="cb186-17"><a href="dataframes.html#cb186-17" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 4 x 5</span></span>
<span id="cb186-18"><a href="dataframes.html#cb186-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Groups:   sex [2]</span></span>
<span id="cb186-19"><a href="dataframes.html#cb186-19" aria-hidden="true" tabindex="-1"></a>  who    sex      age average_age_for_sex diff_from_avg_for_sex</span>
<span id="cb186-20"><a href="dataframes.html#cb186-20" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>fct<span class="sc">&gt;</span>  <span class="er">&lt;</span>fct<span class="sc">&gt;</span>  <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>               <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>                 <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb186-21"><a href="dataframes.html#cb186-21" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> Joe    Male      <span class="dv">35</span>                  <span class="dv">34</span>                     <span class="dv">1</span></span>
<span id="cb186-22"><a href="dataframes.html#cb186-22" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Ben    Male      <span class="dv">33</span>                  <span class="dv">34</span>                    <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb186-23"><a href="dataframes.html#cb186-23" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> Xing   Female    <span class="dv">32</span>                  <span class="dv">33</span>                    <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb186-24"><a href="dataframes.html#cb186-24" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Coloma Female    <span class="dv">34</span>                  <span class="dv">33</span>                     <span class="dv">1</span></span></code></pre></div>
</div>
<div id="summarizing-1" class="section level4 unnumbered">
<h4>Summarizing</h4>
<p>summarise() or summarize() creates a new data frame. It will have one (or more) rows for each combination of grouping variables; if there are no grouping variables, the output will have a single row summarising all observations in the input. It will contain one column for each grouping variable and one column for each of the summary statistics that you have specified.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="dataframes.html#cb187-1" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> </span>
<span id="cb187-2"><a href="dataframes.html#cb187-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">average_age =</span> <span class="fu">mean</span>(age))</span>
<span id="cb187-3"><a href="dataframes.html#cb187-3" aria-hidden="true" tabindex="-1"></a>  average_age</span>
<span id="cb187-4"><a href="dataframes.html#cb187-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>        <span class="fl">33.5</span></span>
<span id="cb187-5"><a href="dataframes.html#cb187-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-6"><a href="dataframes.html#cb187-6" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> </span>
<span id="cb187-7"><a href="dataframes.html#cb187-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">average_age =</span> <span class="fu">mean</span>(age),</span>
<span id="cb187-8"><a href="dataframes.html#cb187-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">standard_dev_of_age =</span> <span class="fu">sd</span>(age),</span>
<span id="cb187-9"><a href="dataframes.html#cb187-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">oldest_age =</span> <span class="fu">max</span>(age),</span>
<span id="cb187-10"><a href="dataframes.html#cb187-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">youngest_age =</span> <span class="fu">min</span>(age))</span>
<span id="cb187-11"><a href="dataframes.html#cb187-11" aria-hidden="true" tabindex="-1"></a>  average_age standard_dev_of_age oldest_age youngest_age</span>
<span id="cb187-12"><a href="dataframes.html#cb187-12" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>        <span class="fl">33.5</span>            <span class="fl">1.290994</span>         <span class="dv">35</span>           <span class="dv">32</span></span>
<span id="cb187-13"><a href="dataframes.html#cb187-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-14"><a href="dataframes.html#cb187-14" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span> </span>
<span id="cb187-15"><a href="dataframes.html#cb187-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex) <span class="sc">%&gt;%</span></span>
<span id="cb187-16"><a href="dataframes.html#cb187-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg_age =</span> <span class="fu">mean</span>(age),</span>
<span id="cb187-17"><a href="dataframes.html#cb187-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">oldest_age =</span> <span class="fu">max</span>(age),</span>
<span id="cb187-18"><a href="dataframes.html#cb187-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">total_years =</span> <span class="fu">sum</span>(age)) </span>
<span id="cb187-19"><a href="dataframes.html#cb187-19" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 2 x 4</span></span>
<span id="cb187-20"><a href="dataframes.html#cb187-20" aria-hidden="true" tabindex="-1"></a>  sex    avg_age oldest_age total_years</span>
<span id="cb187-21"><a href="dataframes.html#cb187-21" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>fct<span class="sc">&gt;</span>    <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>      <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>       <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb187-22"><a href="dataframes.html#cb187-22" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> Female      <span class="dv">33</span>         <span class="dv">34</span>          <span class="dv">66</span></span>
<span id="cb187-23"><a href="dataframes.html#cb187-23" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Male        <span class="dv">34</span>         <span class="dv">35</span>          <span class="dv">68</span></span>
<span id="cb187-24"><a href="dataframes.html#cb187-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-25"><a href="dataframes.html#cb187-25" aria-hidden="true" tabindex="-1"></a>people <span class="sc">%&gt;%</span></span>
<span id="cb187-26"><a href="dataframes.html#cb187-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex) <span class="sc">%&gt;%</span></span>
<span id="cb187-27"><a href="dataframes.html#cb187-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sample_size =</span> <span class="fu">n</span>())</span>
<span id="cb187-28"><a href="dataframes.html#cb187-28" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 2 x 2</span></span>
<span id="cb187-29"><a href="dataframes.html#cb187-29" aria-hidden="true" tabindex="-1"></a>  sex    sample_size</span>
<span id="cb187-30"><a href="dataframes.html#cb187-30" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>fct<span class="sc">&gt;</span>        <span class="er">&lt;</span>int<span class="sc">&gt;</span></span>
<span id="cb187-31"><a href="dataframes.html#cb187-31" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> Female           <span class="dv">2</span></span>
<span id="cb187-32"><a href="dataframes.html#cb187-32" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Male             <span class="dv">2</span></span></code></pre></div>
</div>
<div id="review-exercise-1" class="section level4 unnumbered">
<h4>Review exercise</h4>
<ol style="list-style-type: decimal">
<li>Run the below code.</li>
</ol>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="dataframes.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb188-2"><a href="dataframes.html#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(babynames)</span>
<span id="cb188-3"><a href="dataframes.html#cb188-3" aria-hidden="true" tabindex="-1"></a>bn <span class="ot">&lt;-</span> babynames</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li><p>Crete a dataframe named `turn_of_century. This should be data on baby names for the year 1900</p></li>
<li><p>Create a dataframe named <code>boys</code>. This should be only males</p></li>
<li><p>Create a dataframe named <code>moms_gen</code>. This should be females born in the year of birth of your mom.</p></li>
<li><p>Order <code>moms_gen</code> by <code>n</code>, in ascending order (ie, the least popular name at top). Look at the result; what is the least popular name among women the year your mom was born?</p></li>
<li><p>Reverse the order and save the result into an object named <code>moms_gen_ordered</code>.</p></li>
<li><p>Create an object named <code>boys2k</code>. This should be all males born in the year 2000.</p></li>
<li><p>Arrange <code>boys2k</code> from most to least popular. What was the most popular boys name in 2000?</p></li>
<li><p>What percentage of boys were named <code>Joseph</code> in 2000?</p></li>
<li><p>Were there more Jims or Matthews in 2020?</p></li>
<li><p>How many people were born with <em>your</em> name in 2020.</p></li>
</ol>
</div>
<div id="group-activity" class="section level4 unnumbered">
<h4>Group activity</h4>
<p>Using the <code>deaths</code> data, we’re going to answer some questions together. Start with:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="dataframes.html#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb189-2"><a href="dataframes.html#cb189-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb189-3"><a href="dataframes.html#cb189-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&#39;https://raw.githubusercontent.com/databrew/intro-to-data-science/main/data/deaths.csv&#39;</span>)</span></code></pre></div>
<ol style="list-style-type: decimal">
<li><p>How many people are in the dataset.</p></li>
<li><p>Use <code>summarize</code> to count the number of men and women.</p></li>
<li><p>Use <code>summarize</code> to count the number of people in each class.</p></li>
<li><p>Use <code>summarize</code> to count the number of men and women in each class.</p></li>
<li><p>Use <code>mutate</code> to create a variable called <code>died</code>. This should be a boolean based on the <code>Survived</code> column (in which 1 means the person survived, and 0 means the person died).</p></li>
<li><p>Use <code>mutate</code> to create a variable called <code>child</code>. This should be a boolean based on the <code>Age</code> column, indicating if someone was less than 18 years old.</p></li>
<li><p>Create a different dataframe for men vs. women. Name them accordingly.</p></li>
<li><p>Create a different dataframe for class 1, class 2, and class 3. Name them accordingly.</p></li>
<li><p>For each of the 5 datasets you’ve just created, what is the death rate?</p></li>
<li><p>For each of the 5 datasets, how many children died?</p></li>
<li><p>Now, using the <em>full</em> dataset, calculate the child-specific death rate for each combination of class and sex (ie, “first class females,” “third class males,” etc.).</p></li>
<li><p>What did you find? What might explain that?</p></li>
</ol>
</div>
<div id="team-exercises" class="section level4 unnumbered">
<h4>Team exercises</h4>
<p>Before getting started, start a new script (ctrl + shift + n), name it <code>survey_exercises.R</code>, and copy-paste the following code at the top.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="dataframes.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load library</span></span>
<span id="cb190-2"><a href="dataframes.html#cb190-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gsheet)</span>
<span id="cb190-3"><a href="dataframes.html#cb190-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb190-4"><a href="dataframes.html#cb190-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-5"><a href="dataframes.html#cb190-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in data</span></span>
<span id="cb190-6"><a href="dataframes.html#cb190-6" aria-hidden="true" tabindex="-1"></a>survey  <span class="ot">&lt;-</span> gsheet<span class="sc">::</span><span class="fu">gsheet2tbl</span>(<span class="st">&#39;https://docs.google.com/spreadsheets/d/1iVt9FX9J2iv3QFKBM7Gzb9dgva70XrW1lxMV4hpekeo/edit?resourcekey#gid=204634767&#39;</span>)</span>
<span id="cb190-7"><a href="dataframes.html#cb190-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-8"><a href="dataframes.html#cb190-8" aria-hidden="true" tabindex="-1"></a><span class="co"># remake the names</span></span>
<span id="cb190-9"><a href="dataframes.html#cb190-9" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(survey) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;time&#39;</span>, <span class="st">&#39;sex&#39;</span>, <span class="st">&#39;age&#39;</span>,<span class="st">&#39;sib&#39;</span>, <span class="st">&#39;dad_mus&#39;</span>, <span class="st">&#39;person_mus&#39;</span>, <span class="st">&#39;joe_mus_is&#39;</span>, <span class="st">&#39;eyesight&#39;</span>, <span class="st">&#39;height&#39;</span>, <span class="st">&#39;shoe_size&#39;</span>, <span class="st">&#39;bday&#39;</span>, <span class="st">&#39;money_or_love&#39;</span>, <span class="st">&#39;rps_skill&#39;</span>, <span class="st">&#39;num_pan&#39;</span>, <span class="st">&#39;cats_dogs&#39;</span>, <span class="st">&#39;name&#39;</span>)</span></code></pre></div>
<ol style="list-style-type: decimal">
<li><p>Create a dataframe called <code>old_people</code>. This should include only people older than 20. Write code to calculate the number rows in your new dataframe.</p></li>
<li><p>Create a dataframe called <code>captivated</code>. This should include all those people who find Joe’s moustache to be “deeply captivating.” Write code to calculate the number rows in your new dataframe.</p></li>
<li><p>Create a dataframe called <code>special_people</code>. This should be people who are taller than 175cm, prefer cats over dogs, and consider themselves to be average at rock, paper, scissors.</p></li>
<li><p>In the full dataset (survey), do more people like cats or dogs? What about among “special” people?</p></li>
<li><p>Create a new variable in <code>survey</code> called “std_shoes” that standardizes shoe sizes by converting men’s shoe size to women’s (There is an approximate 1.5 size difference between Men’s and Women’s sizing (e.g., a men’s size 7 is roughly equivalent to a women’s size 8.5)</p></li>
<li><p>Get the avg shoe size by sex (Male, Female, Prefer not to say)</p></li>
<li><p>Get Average age, height, &amp; number of siblings, by the sex</p></li>
<li><p>Do people that have ever had a mustache think there will be more pandemics on average than those who have never had a mustache?</p></li>
<li><p>Do people that prefer cats have smaller feet on average than those who prefer dogs?</p></li>
<li><p>Is eyesight associated with moustache perception?</p></li>
<li><p>What percentage of people think they are better than average at rock scissors paper?</p></li>
<li><p>What percentage of men and women think they are better than average at rock scissors paper?</p></li>
<li><p>How many people think money matters more than love?</p></li>
<li><p>Create a dataframe, grouped by whether or not people’s dads had moustaches, with variables showing each of the following: the maximum age, maximum height,minimum number of pandemics, and average number of siblings</p></li>
<li><p>What percentage of men have terrible eyesight?</p></li>
<li><p>How many women have a shoe size of 9 or more?</p></li>
<li><p>Create a variable in the <code>survey</code> dataset named <code>days_old</code>. Use the <code>bday</code> variable and subtract it from <code>Sys.Date()</code>.</p></li>
<li><p>What is the standard deviation of age?</p></li>
<li><p>Create a one-column dataset which contains the name(s) of the person(s) with the most number of siblings (hint: use the following dplyr verbs in this order: <code>filter</code>, <code>select</code>).</p></li>
<li><p>Tell me something interesting about this dataset.</p></li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="importing-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exporting-data-plots.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/databrew/intro-to-data-science/edit/master/04b-dataframes.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["intro-to-data-science.pdf", "intro-to-data-science.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
