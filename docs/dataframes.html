<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 16 Dataframes | DataBOOM: the canon for data science</title>
  <meta name="description" content="Data science is just data and science. But it’s better with pizza." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 16 Dataframes | DataBOOM: the canon for data science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Data science is just data and science. But it’s better with pizza." />
  <meta name="github-repo" content="databrew/intro-to-data-science" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 16 Dataframes | DataBOOM: the canon for data science" />
  
  <meta name="twitter:description" content="Data science is just data and science. But it’s better with pizza." />
  

<meta name="author" content="Databrew" />


<meta name="date" content="2021-05-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
<link rel="prev" href="importing-data.html"/>
<link rel="next" href="data-wrangling.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DataBOOM: the canon for data science </a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a></li>
<li class="part"><span><b>I Core theory</b></span></li>
<li class="chapter" data-level="2" data-path="principles-of-data-science.html"><a href="principles-of-data-science.html"><i class="fa fa-check"></i><b>2</b> Principles of data science</a></li>
<li class="chapter" data-level="3" data-path="visualizing-data.html"><a href="visualizing-data.html"><i class="fa fa-check"></i><b>3</b> Visualizing data</a></li>
<li class="chapter" data-level="4" data-path="writing-about-data.html"><a href="writing-about-data.html"><i class="fa fa-check"></i><b>4</b> Writing about data</a></li>
<li class="chapter" data-level="5" data-path="data-ethics.html"><a href="data-ethics.html"><i class="fa fa-check"></i><b>5</b> Data ethics</a></li>
<li class="part"><span><b>II Getting started</b></span></li>
<li class="chapter" data-level="6" data-path="setting-up-rstudio.html"><a href="setting-up-rstudio.html"><i class="fa fa-check"></i><b>6</b> Setting up <code>RStudio</code></a></li>
<li class="chapter" data-level="7" data-path="running-r-code.html"><a href="running-r-code.html"><i class="fa fa-check"></i><b>7</b> Running R code</a></li>
<li class="chapter" data-level="8" data-path="using-rstudio-and-r-scripts.html"><a href="using-rstudio-and-r-scripts.html"><i class="fa fa-check"></i><b>8</b> Using <code>RStudio</code> and <code>R</code> scripts</a></li>
<li class="chapter" data-level="9" data-path="variables-in-r.html"><a href="variables-in-r.html"><i class="fa fa-check"></i><b>9</b> Variables in <code>R</code></a></li>
<li class="chapter" data-level="10" data-path="structures-for-data-in-r.html"><a href="structures-for-data-in-r.html"><i class="fa fa-check"></i><b>10</b> Structures for data in <code>R</code></a></li>
<li class="chapter" data-level="11" data-path="calling-functions.html"><a href="calling-functions.html"><i class="fa fa-check"></i><b>11</b> Calling functions</a></li>
<li class="chapter" data-level="12" data-path="base-plots.html"><a href="base-plots.html"><i class="fa fa-check"></i><b>12</b> Base plots</a></li>
<li class="chapter" data-level="13" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>13</b> Packages</a></li>
<li class="chapter" data-level="14" data-path="basics-of-ggplot.html"><a href="basics-of-ggplot.html"><i class="fa fa-check"></i><b>14</b> Basics of ggplot</a></li>
<li class="part"><span><b>III Working with data in R</b></span></li>
<li class="chapter" data-level="15" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>15</b> Importing data</a></li>
<li class="chapter" data-level="16" data-path="dataframes.html"><a href="dataframes.html"><i class="fa fa-check"></i><b>16</b> Dataframes</a></li>
<li class="chapter" data-level="17" data-path="data-wrangling.html"><a href="data-wrangling.html"><i class="fa fa-check"></i><b>17</b> Data wrangling</a></li>
<li class="chapter" data-level="18" data-path="exporting-data-plots.html"><a href="exporting-data-plots.html"><i class="fa fa-check"></i><b>18</b> Exporting data &amp; plots</a></li>
<li class="part"><span><b>IV Exploring &amp; analyzing data</b></span></li>
<li class="chapter" data-level="19" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>19</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="20" data-path="significance-statistics.html"><a href="significance-statistics.html"><i class="fa fa-check"></i><b>20</b> Significance statistics</a></li>
<li class="chapter" data-level="21" data-path="summarizing-datasets.html"><a href="summarizing-datasets.html"><i class="fa fa-check"></i><b>21</b> Summarizing datasets</a></li>
<li class="part"><span><b>V Your R tool bag</b></span></li>
<li class="chapter" data-level="22" data-path="joining-datasets.html"><a href="joining-datasets.html"><i class="fa fa-check"></i><b>22</b> Joining datasets</a></li>
<li class="chapter" data-level="23" data-path="writing-functions.html"><a href="writing-functions.html"><i class="fa fa-check"></i><b>23</b> Writing functions</a></li>
<li class="chapter" data-level="24" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>24</b> <code>for</code> loops</a></li>
<li class="chapter" data-level="25" data-path="conditional-statements.html"><a href="conditional-statements.html"><i class="fa fa-check"></i><b>25</b> Conditional statements</a></li>
<li class="chapter" data-level="26" data-path="working-with-text.html"><a href="working-with-text.html"><i class="fa fa-check"></i><b>26</b> Working with text</a></li>
<li class="chapter" data-level="27" data-path="working-with-dates-times.html"><a href="working-with-dates-times.html"><i class="fa fa-check"></i><b>27</b> Working with dates &amp; times</a></li>
<li class="chapter" data-level="28" data-path="working-with-factors.html"><a href="working-with-factors.html"><i class="fa fa-check"></i><b>28</b> Working with factors</a></li>
<li class="chapter" data-level="29" data-path="cleaning-messy-data.html"><a href="cleaning-messy-data.html"><i class="fa fa-check"></i><b>29</b> Cleaning messy data</a></li>
<li class="chapter" data-level="30" data-path="matrices-lists.html"><a href="matrices-lists.html"><i class="fa fa-check"></i><b>30</b> Matrices &amp; lists</a></li>
<li class="chapter" data-level="31" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i><b>31</b> Pipes</a></li>
<li class="chapter" data-level="32" data-path="excel-files-googlesheets.html"><a href="excel-files-googlesheets.html"><i class="fa fa-check"></i><b>32</b> Excel files &amp; GoogleSheets</a></li>
<li class="part"><span><b>VI Interactive dashboards</b></span></li>
<li class="chapter" data-level="33" data-path="intro-to-shiny-apps.html"><a href="intro-to-shiny-apps.html"><i class="fa fa-check"></i><b>33</b> Intro to Shiny apps</a></li>
<li class="chapter" data-level="34" data-path="shiny-dashboards.html"><a href="shiny-dashboards.html"><i class="fa fa-check"></i><b>34</b> Shiny dashboards</a></li>
<li class="chapter" data-level="35" data-path="data-entry-apps.html"><a href="data-entry-apps.html"><i class="fa fa-check"></i><b>35</b> Data entry apps</a></li>
<li class="part"><span><b>VII Databases</b></span></li>
<li class="chapter" data-level="36" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>36</b> Introduction</a></li>
<li class="chapter" data-level="37" data-path="platforms.html"><a href="platforms.html"><i class="fa fa-check"></i><b>37</b> Platforms</a></li>
<li class="chapter" data-level="38" data-path="alternatives.html"><a href="alternatives.html"><i class="fa fa-check"></i><b>38</b> Alternatives</a></li>
<li class="chapter" data-level="39" data-path="practices.html"><a href="practices.html"><i class="fa fa-check"></i><b>39</b> Practices</a></li>
<li class="part"><span><b>VIII Documenting your work</b></span></li>
<li class="chapter" data-level="40" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>40</b> R Markdown</a></li>
<li class="chapter" data-level="41" data-path="reproducible-research.html"><a href="reproducible-research.html"><i class="fa fa-check"></i><b>41</b> Reproducible research</a></li>
<li class="chapter" data-level="42" data-path="automated-reporting.html"><a href="automated-reporting.html"><i class="fa fa-check"></i><b>42</b> Automated reporting</a></li>
<li class="chapter" data-level="43" data-path="formatting-standards.html"><a href="formatting-standards.html"><i class="fa fa-check"></i><b>43</b> Formatting standards</a></li>
<li class="chapter" data-level="44" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>44</b> Git</a></li>
<li class="part"><span><b>IX Version control and teamwork</b></span></li>
<li class="chapter" data-level="" data-path="how-most-people-do-version-control.html"><a href="how-most-people-do-version-control.html"><i class="fa fa-check"></i>How most people do version control</a></li>
<li class="chapter" data-level="" data-path="there-is-a-better-way.html"><a href="there-is-a-better-way.html"><i class="fa fa-check"></i>There is a better way</a></li>
<li class="part"><span><b>X Writing about data</b></span></li>
<li class="chapter" data-level="45" data-path="types-of-writing.html"><a href="types-of-writing.html"><i class="fa fa-check"></i><b>45</b> Types of writing</a></li>
<li class="chapter" data-level="46" data-path="sections-of-a-report.html"><a href="sections-of-a-report.html"><i class="fa fa-check"></i><b>46</b> Sections of a report</a></li>
<li class="chapter" data-level="47" data-path="elements-of-structure-style.html"><a href="elements-of-structure-style.html"><i class="fa fa-check"></i><b>47</b> Elements of structure &amp; style</a></li>
<li class="part"><span><b>XI Creating websites</b></span></li>
<li class="part"><span><b>XII Advanced skills</b></span></li>
<li class="chapter" data-level="48" data-path="mapping.html"><a href="mapping.html"><i class="fa fa-check"></i><b>48</b> Mapping</a></li>
<li class="chapter" data-level="49" data-path="geographic-computing-gis.html"><a href="geographic-computing-gis.html"><i class="fa fa-check"></i><b>49</b> Geographic computing &amp; GIS</a></li>
<li class="chapter" data-level="50" data-path="statistical-modeling.html"><a href="statistical-modeling.html"><i class="fa fa-check"></i><b>50</b> Statistical modeling</a></li>
<li class="chapter" data-level="51" data-path="apply-family.html"><a href="apply-family.html"><i class="fa fa-check"></i><b>51</b> Apply family</a></li>
<li class="chapter" data-level="52" data-path="randomization-statistics.html"><a href="randomization-statistics.html"><i class="fa fa-check"></i><b>52</b> Randomization statistics</a></li>
<li class="chapter" data-level="53" data-path="iterative-simulations.html"><a href="iterative-simulations.html"><i class="fa fa-check"></i><b>53</b> Iterative simulations</a></li>
<li class="chapter" data-level="54" data-path="image-analysis.html"><a href="image-analysis.html"><i class="fa fa-check"></i><b>54</b> Image analysis</a></li>
<li class="chapter" data-level="55" data-path="machine-learning.html"><a href="machine-learning.html"><i class="fa fa-check"></i><b>55</b> Machine learning</a></li>
<li class="chapter" data-level="56" data-path="template.html"><a href="template.html"><i class="fa fa-check"></i><b>56</b> Template</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/databrew/intro-to-data-science" target="blank">Databrew LLC</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><code>DataBOOM</code>: the canon for data science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dataframes" class="section level1">
<h1><span class="header-section-number">Module 16</span> Dataframes</h1>
<div id="learning-goals-9" class="section level2 unnumbered">
<h2>Learning goals</h2>
<ul>
<li>Practice exploring, summarizing, and filtering dataframes</li>
<li>Understand the importance of <em>tidy</em> datasets</li>
<li>Understand what the <code>tidyverse</code> is and why it is awesome.</li>
</ul>
<p> </p>
<p>In data science, the most common data structure you will be using – by far – is the <strong>dataframe</strong>. You were introduced to this data structure in Module 10, but a more familiar and detailed orientation is worthwhile.</p>
</div>
<div id="subsetting-exploring-dataframes" class="section level2 unnumbered">
<h2>Subsetting &amp; exploring dataframes</h2>
<p>To explore dataframes, let’s use a dataset on fuel mileage for all cars sold from 1985 to 2014.</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="dataframes.html#cb246-1"></a><span class="kw">library</span>(fueleconomy)</span>
<span id="cb246-2"><a href="dataframes.html#cb246-2"></a><span class="kw">data</span>(vehicles)</span>
<span id="cb246-3"><a href="dataframes.html#cb246-3"></a><span class="kw">head</span>(vehicles)</span></code></pre></div>
<pre><code># A tibble: 6 x 12
     id make  model    year class   trans  drive     cyl displ fuel    hwy   cty
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
1 13309 Acura 2.2CL/…  1997 Subcom… Autom… Front-…     4   2.2 Regu…    26    20
2 13310 Acura 2.2CL/…  1997 Subcom… Manua… Front-…     4   2.2 Regu…    28    22
3 13311 Acura 2.2CL/…  1997 Subcom… Autom… Front-…     6   3   Regu…    26    18
4 14038 Acura 2.3CL/…  1998 Subcom… Autom… Front-…     4   2.3 Regu…    27    19
5 14039 Acura 2.3CL/…  1998 Subcom… Manua… Front-…     4   2.3 Regu…    29    21
6 14040 Acura 2.3CL/…  1998 Subcom… Autom… Front-…     6   3   Regu…    26    17</code></pre>
<p>A dataframe has rows of data organized into columns. In this dataframe, each row pertains to a single vehicle make/model – i.e., a single <em>observation</em>. Each column pertains to a single <em>type</em> of data. Columns are named in the <em>header</em> of the dataframe.</p>
<p>All the same useful exploration and subsetting functions that applied to vectors now apply to dataframes (see module 10 for a refreshers). In addition to those functions you already know, we’ve added some new functions to your inventory of useful functions.</p>
<div id="exploration" class="section level3 unnumbered">
<h3>Exploration</h3>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="dataframes.html#cb248-1"></a><span class="kw">tail</span>(vehicles) <span class="co"># head() and tail() summarize the beginning and end of the object</span></span></code></pre></div>
<pre><code># A tibble: 6 x 12
     id make  model    year class   trans   drive    cyl displ fuel    hwy   cty
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
1 28868 Yugo  GV Plu…  1990 Minico… Manual… Front…     4   1.3 Regu…    27    21
2  6635 Yugo  GV Plu…  1990 Subcom… Manual… Front…     4   1.3 Regu…    28    23
3  3157 Yugo  GV/GVX   1987 Subcom… Manual… Front…     4   1.1 Regu…    29    24
4  5497 Yugo  GV/GVX   1989 Subcom… Manual… Front…     4   1.1 Regu…    29    24
5  5498 Yugo  GV/GVX   1989 Subcom… Manual… Front…     4   1.3 Regu…    28    23
6  1745 Yugo  Gy/yug…  1986 Minico… Manual… Front…     4   1.1 Regu…    29    22</code></pre>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="dataframes.html#cb250-1"></a><span class="kw">names</span>(vehicles) <span class="co"># get names of columns</span></span></code></pre></div>
<pre><code> [1] &quot;id&quot;    &quot;make&quot;  &quot;model&quot; &quot;year&quot;  &quot;class&quot; &quot;trans&quot; &quot;drive&quot; &quot;cyl&quot;   &quot;displ&quot;
[10] &quot;fuel&quot;  &quot;hwy&quot;   &quot;cty&quot;  </code></pre>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="dataframes.html#cb252-1"></a><span class="kw">nrow</span>(vehicles) <span class="co"># get number of rows</span></span></code></pre></div>
<pre><code>[1] 33442</code></pre>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="dataframes.html#cb254-1"></a><span class="kw">ncol</span>(vehicles) <span class="co"># get number of columns</span></span></code></pre></div>
<pre><code>[1] 12</code></pre>
<p>Note that <code>length()</code> does not work the same on dataframes as it does with vectors. In dataframes, <code>length()</code> is the equivalent of <code>ncol()</code>; it will <em>not</em> give you the number of rows in a dataset.</p>
</div>
<div id="subsetting" class="section level3 unnumbered">
<h3>Subsetting</h3>
<p>Recall that dataframes are filtered by row and/or column using this format: <strong><code>dataframe[rows,columns]</code></strong>. To get the third element of the second column, for example, you type <code>dataframe[3,2]</code>.</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="dataframes.html#cb256-1"></a>vehicles[<span class="dv">3</span>,<span class="dv">2</span>]</span></code></pre></div>
<pre><code># A tibble: 1 x 1
  make 
  &lt;chr&gt;
1 Acura</code></pre>
<p>Note that the comma is necessary even if you do not want to specify columns. If you try to type this …</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="dataframes.html#cb258-1"></a>vehicles[<span class="dv">3</span>]</span></code></pre></div>
<p>…<code>R</code> will assume you are asking for the third column, not the third row.</p>
<p>To filter a dataframe to multiple values, you can specify vectors for the <code>row</code> and <code>column</code></p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="dataframes.html#cb259-1"></a>vehicles[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>,<span class="dv">11</span><span class="op">:</span><span class="dv">12</span>] <span class="co"># can use colons</span></span></code></pre></div>
<pre><code># A tibble: 3 x 2
    hwy   cty
  &lt;dbl&gt; &lt;dbl&gt;
1    26    20
2    28    22
3    26    18</code></pre>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="dataframes.html#cb261-1"></a>vehicles[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">11</span><span class="op">:</span><span class="dv">12</span>)]  <span class="co"># can use c()</span></span></code></pre></div>
<pre><code># A tibble: 3 x 3
     id   hwy   cty
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 13309    26    20
2 13310    28    22
3 13311    26    18</code></pre>
<p>Columns can also be called according to their names. Use the <strong><code>$</code></strong> sign to specify a column.</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="dataframes.html#cb263-1"></a>vehicles<span class="op">$</span>hwy[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</span></code></pre></div>
<pre><code>[1] 26 28 26 27 29</code></pre>
<p>Note that when you use a <code>$</code>, you will not need to use a comma within your brackets. If you try to run this …</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="dataframes.html#cb265-1"></a>vehicles<span class="op">$</span>hwy[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,]</span></code></pre></div>
<p>…<code>R</code> will throw a fit.</p>
<p>You can use logical tests to filter dataframes to rows that meet certain conditions. For example, to filter to only the rows for cars with better than 100 mpg, you can use this syntax:</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="dataframes.html#cb266-1"></a>keeps &lt;-<span class="st"> </span><span class="kw">which</span>(vehicles<span class="op">$</span>hwy <span class="op">&gt;</span><span class="st"> </span><span class="dv">100</span>)</span>
<span id="cb266-2"><a href="dataframes.html#cb266-2"></a>keeps</span></code></pre></div>
<pre><code>[1]  6533 10613 10614 16429 16430 24487 24488 24489 28628</code></pre>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="dataframes.html#cb268-1"></a>vehicles[keeps,]</span></code></pre></div>
<pre><code># A tibble: 9 x 12
     id make   model   year class   trans   drive    cyl displ fuel    hwy   cty
  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
1 33640 Chevr… Spark…  2014 Subcom… Automa… Front…    NA    NA Elec…   109   128
2 33396 Fiat   500e    2013 Minico… Automa… Front…    NA    NA Elec…   108   122
3 34392 Fiat   500e    2014 Minico… Automa… Front…    NA    NA Elec…   108   122
4 33265 Honda  Fit EV  2013 Small … Automa… Front…    NA    NA Elec…   105   132
5 33905 Honda  Fit EV  2014 Small … Automa… Front…    NA    NA Elec…   105   132
6 33558 Nissan Leaf    2013 Midsiz… Automa… Front…    NA    NA Elec…   102   129
7 34699 Nissan Leaf    2014 Midsiz… Automa… Front…    NA    NA Elec…   101   126
8 34918 Nissan Leaf    2015 Midsiz… Automa… Front…    NA    NA Elec…   101   126
9 33307 Scion  iQ EV   2013 Minico… Automa… Front…    NA    NA Elec…   105   138</code></pre>
<p>But the above is a long-winded way of doing this. You can also achieve this result as follows:</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="dataframes.html#cb270-1"></a>vehicles[<span class="kw">which</span>(vehicles<span class="op">$</span>hwy <span class="op">&gt;</span><span class="st"> </span><span class="dv">100</span>),]</span></code></pre></div>
<p>You can also get the same result without the <code>which()</code> function:</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="dataframes.html#cb271-1"></a>vehicles[vehicles<span class="op">$</span>hwy <span class="op">&gt;</span><span class="st"> </span><span class="dv">100</span>,]</span></code></pre></div>
<p>The logical test is returning a bunch of <code>TRUE</code>s and <code>FALSE</code>s, one for each row of <code>vehicles</code>. Only the <code>TRUE</code> rows will be returned.</p>
<div id="exercise-1-reading-for-errors" class="section level4 unnumbered">
<h4>Exercise 1: Reading for errors</h4>
<p>What is wrong with these commands? Why will each of them throw an error if you run them, and how can you fix them?</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="dataframes.html#cb272-1"></a><span class="co"># 1</span></span>
<span id="cb272-2"><a href="dataframes.html#cb272-2"></a>vehicles[<span class="dv">1</span>,<span class="dv">15</span>,]</span>
<span id="cb272-3"><a href="dataframes.html#cb272-3"></a></span>
<span id="cb272-4"><a href="dataframes.html#cb272-4"></a><span class="co"># 2</span></span>
<span id="cb272-5"><a href="dataframes.html#cb272-5"></a>vecihles[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,]</span>
<span id="cb272-6"><a href="dataframes.html#cb272-6"></a></span>
<span id="cb272-7"><a href="dataframes.html#cb272-7"></a><span class="co"># 3</span></span>
<span id="cb272-8"><a href="dataframes.html#cb272-8"></a>vehicles<span class="op">$</span>hwy[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,]</span>
<span id="cb272-9"><a href="dataframes.html#cb272-9"></a></span>
<span id="cb272-10"><a href="dataframes.html#cb272-10"></a><span class="co"># 4</span></span>
<span id="cb272-11"><a href="dataframes.html#cb272-11"></a>vehicles[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">13</span>]</span></code></pre></div>
</div>
</div>
<div id="summarizing" class="section level3 unnumbered">
<h3>Summarizing</h3>
<p>The same summary functions that you have used for vectors work for dataframes, such as:</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="dataframes.html#cb273-1"></a><span class="kw">min</span>(vehicles<span class="op">$</span>hwy)</span></code></pre></div>
<pre><code>[1] 9</code></pre>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="dataframes.html#cb275-1"></a><span class="kw">max</span>(vehicles<span class="op">$</span>hwy)</span></code></pre></div>
<pre><code>[1] 109</code></pre>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="dataframes.html#cb277-1"></a><span class="kw">mean</span>(vehicles<span class="op">$</span>cty)</span></code></pre></div>
<pre><code>[1] 17.491</code></pre>
<p>You can also use the <strong><code>summary()</code></strong> function, which provides summary statistics for each column in your dataframe:</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="dataframes.html#cb279-1"></a><span class="kw">summary</span>(vehicles)</span></code></pre></div>
<pre><code>       id            make              model                year     
 Min.   :    1   Length:33442       Length:33442       Min.   :1984  
 1st Qu.: 8361   Class :character   Class :character   1st Qu.:1991  
 Median :16724   Mode  :character   Mode  :character   Median :1999  
 Mean   :17038                                         Mean   :1999  
 3rd Qu.:25265                                         3rd Qu.:2008  
 Max.   :34932                                         Max.   :2015  
                                                                     
    class              trans              drive                cyl        
 Length:33442       Length:33442       Length:33442       Min.   : 2.000  
 Class :character   Class :character   Class :character   1st Qu.: 4.000  
 Mode  :character   Mode  :character   Mode  :character   Median : 6.000  
                                                          Mean   : 5.772  
                                                          3rd Qu.: 6.000  
                                                          Max.   :16.000  
                                                          NA&#39;s   :58      
     displ           fuel                hwy              cty        
 Min.   :0.000   Length:33442       Min.   :  9.00   Min.   :  6.00  
 1st Qu.:2.300   Class :character   1st Qu.: 19.00   1st Qu.: 15.00  
 Median :3.000   Mode  :character   Median : 23.00   Median : 17.00  
 Mean   :3.353                      Mean   : 23.55   Mean   : 17.49  
 3rd Qu.:4.300                      3rd Qu.: 27.00   3rd Qu.: 20.00  
 Max.   :8.400                      Max.   :109.00   Max.   :138.00  
 NA&#39;s   :57                                                          </code></pre>
<p>The function <strong><code>unique()</code></strong> returns unique values within a column:</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="dataframes.html#cb281-1"></a><span class="kw">unique</span>(vehicles<span class="op">$</span>fuel)</span></code></pre></div>
<pre><code> [1] &quot;Regular&quot;                     &quot;Premium&quot;                    
 [3] &quot;Diesel&quot;                      &quot;Premium or E85&quot;             
 [5] &quot;Electricity&quot;                 &quot;Gasoline or E85&quot;            
 [7] &quot;Premium Gas or Electricity&quot;  &quot;Gasoline or natural gas&quot;    
 [9] &quot;CNG&quot;                         &quot;Midgrade&quot;                   
[11] &quot;Regular Gas and Electricity&quot; &quot;Gasoline or propane&quot;        
[13] &quot;Premium and Electricity&quot;    </code></pre>
<p>Finally, the <strong><code>order()</code></strong> function helps you sort a dataframe according to the values in one of its columns.</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="dataframes.html#cb283-1"></a>vehicles_sorted &lt;-<span class="st"> </span>vehicles[<span class="kw">order</span>(vehicles<span class="op">$</span>hwy),  <span class="co">#sort dataframe by highway mileage</span></span>
<span id="cb283-2"><a href="dataframes.html#cb283-2"></a>                            <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">10</span><span class="op">:</span><span class="dv">12</span>)] <span class="co"># only keep certain columns</span></span>
<span id="cb283-3"><a href="dataframes.html#cb283-3"></a><span class="kw">head</span>(vehicles_sorted)</span></code></pre></div>
<pre><code># A tibble: 6 x 6
  make         model                   year fuel      hwy   cty
  &lt;chr&gt;        &lt;chr&gt;                  &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;
1 Aston Martin Lagonda                 1985 Regular     9     7
2 Aston Martin Lagonda                 1985 Regular     9     7
3 Aston Martin Saloon/Vantage/Volante  1985 Regular     9     7
4 Aston Martin Saloon/Vantage/Volante  1985 Regular     9     7
5 Rolls-Royce  Camargue                1987 Regular     9     7
6 Rolls-Royce  Continental             1987 Regular     9     7</code></pre>
<p>Reverse the order by wrapping <strong><code>rev()</code></strong> around the <code>order()</code> call:</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="dataframes.html#cb285-1"></a>vehicles_sorted &lt;-<span class="st"> </span>vehicles[<span class="kw">rev</span>(<span class="kw">order</span>(vehicles<span class="op">$</span>hwy)),</span>
<span id="cb285-2"><a href="dataframes.html#cb285-2"></a>                            <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">10</span><span class="op">:</span><span class="dv">12</span>)]</span>
<span id="cb285-3"><a href="dataframes.html#cb285-3"></a><span class="kw">head</span>(vehicles_sorted)</span></code></pre></div>
<pre><code># A tibble: 6 x 6
  make      model     year fuel          hwy   cty
  &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;
1 Chevrolet Spark EV  2014 Electricity   109   128
2 Fiat      500e      2014 Electricity   108   122
3 Fiat      500e      2013 Electricity   108   122
4 Scion     iQ EV     2013 Electricity   105   138
5 Honda     Fit EV    2014 Electricity   105   132
6 Honda     Fit EV    2013 Electricity   105   132</code></pre>
</div>
<div id="building-dataframes" class="section level3 unnumbered">
<h3>Building dataframes</h3>
<p>To create a new dataframe, use the <code>data.frame()</code> function.</p>
<pre><code>             car mgp_hwy mpg_city
100 Acura Legend      23       15
101 Acura Legend      22       17
102 Acura Legend      23       16
103 Acura Legend      21       16
104 Acura Legend      22       17
105 Acura Legend      23       16
106 Acura Legend      24       16</code></pre>
<p>Note how the columns were named in the <code>data.frame()</code> call, and that each column is separated by a comma.</p>
<p>You can also stage an empty dataframe, which sounds useless but will become very useful as you start working with <code>for</code> loops and other higher-order <code>R</code> tools.</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="dataframes.html#cb288-1"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>()</span>
<span id="cb288-2"><a href="dataframes.html#cb288-2"></a>df</span></code></pre></div>
<pre><code>data frame with 0 columns and 0 rows</code></pre>
<p>To coerce an object into a format that <code>R</code> interprets as a dataframe, use <strong><code>as.dataframe()</code></strong>:</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="dataframes.html#cb290-1"></a>df &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(vehicles)</span>
<span id="cb290-2"><a href="dataframes.html#cb290-2"></a>df[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>]</span></code></pre></div>
<pre><code>     id  make       model year
1 13309 Acura 2.2CL/3.0CL 1997
2 13310 Acura 2.2CL/3.0CL 1997
3 13311 Acura 2.2CL/3.0CL 1997
4 14038 Acura 2.3CL/3.0CL 1998</code></pre>
<p>You can bind multiple dataframes together using <strong><code>rbind()</code></strong>:</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="dataframes.html#cb292-1"></a>df1 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">name=</span><span class="kw">c</span>(<span class="st">&quot;Ben&quot;</span>,<span class="st">&quot;Joe&quot;</span>,<span class="st">&quot;Eric&quot;</span>,<span class="st">&quot;Isabelle&quot;</span>),<span class="dt">instrument=</span><span class="kw">c</span>(<span class="st">&quot;Nose harp&quot;</span>,<span class="st">&quot;Concertina&quot;</span>,<span class="st">&quot;Ukelele&quot;</span>,<span class="st">&quot;Drums&quot;</span>))</span>
<span id="cb292-2"><a href="dataframes.html#cb292-2"></a>df1</span></code></pre></div>
<pre><code>      name instrument
1      Ben  Nose harp
2      Joe Concertina
3     Eric    Ukelele
4 Isabelle      Drums</code></pre>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="dataframes.html#cb294-1"></a>df2 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">name=</span><span class="kw">c</span>(<span class="st">&quot;Matthew&quot;</span>),<span class="dt">instrument=</span><span class="kw">c</span>(<span class="st">&quot;Washboard&quot;</span>))</span>
<span id="cb294-2"><a href="dataframes.html#cb294-2"></a><span class="kw">rbind</span>(df1,df2)</span></code></pre></div>
<pre><code>      name instrument
1      Ben  Nose harp
2      Joe Concertina
3     Eric    Ukelele
4 Isabelle      Drums
5  Matthew  Washboard</code></pre>
<p>Note that to be combined, two dataframes have to have the exact same number of columns and the exact same column names.</p>
<p>The only exception to this is adding a dataframe with content an empty dataframe. That can work, and that will be helpful in the <em><code>R</code> Toolbag</em> modules ahead.</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="dataframes.html#cb296-1"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>() <span class="co"># stage empty dataframe</span></span>
<span id="cb296-2"><a href="dataframes.html#cb296-2"></a>df1 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">name=</span><span class="kw">c</span>(<span class="st">&quot;Ben&quot;</span>,<span class="st">&quot;Joe&quot;</span>,<span class="st">&quot;Eric&quot;</span>,<span class="st">&quot;Isabelle&quot;</span>),<span class="dt">instrument=</span><span class="kw">c</span>(<span class="st">&quot;Nose harp&quot;</span>,<span class="st">&quot;Concertina&quot;</span>,<span class="st">&quot;Ukelele&quot;</span>,<span class="st">&quot;Drums&quot;</span>))</span>
<span id="cb296-3"><a href="dataframes.html#cb296-3"></a>df &lt;-<span class="st"> </span><span class="kw">rbind</span>(df,df1)</span>
<span id="cb296-4"><a href="dataframes.html#cb296-4"></a>df</span></code></pre></div>
<pre><code>      name instrument
1      Ben  Nose harp
2      Joe Concertina
3     Eric    Ukelele
4 Isabelle      Drums</code></pre>
</div>
<div id="exercise-2-subsetting-and-filtering" class="section level3 unnumbered">
<h3>Exercise 2: Subsetting and filtering</h3>
<p><strong>A. Subset one field according to a logical test</strong><br />
With no more than two lines of code, get the number of Honda cars in the <code>vehicles</code> dataset.</p>
<p><strong>B. Subset one field according to a logical test for a different field.</strong><br />
In a single line of code, show the mileages of all the Toyotas in the dataset.</p>
<p><strong>C. Subset a dataframe to a single subgroup</strong><br />
In a single line of code, determine how many differet car makes/models were produced in 1995.</p>
<p><strong>D. Get the mean value for a subgroup of data</strong><br />
What is the average city mileage for Subaru cars in the dataset?</p>
<p><strong>E. Subset a dataframe to only data from between two values</strong><br />
According to this dataset, how many different car makes/models have been produced with highway mileages between 30 and 40 mpg?</p>
</div>
</div>
<div id="tidy-data" class="section level2 unnumbered">
<h2>Tidy data</h2>
<p><em>(Joe writes the remainder of this chapter)</em></p>
<p><a href="https://r4ds.had.co.nz/tidy-data.html">https://r4ds.had.co.nz/tidy-data.html</a></p>
<div id="tibbles" class="section level3 unnumbered">
<h3>Tibbles</h3>
<p><em>NOTE: Under construction!</em></p>
</div>
<div id="tidyverse" class="section level3 unnumbered">
<h3>Tidyverse</h3>
<p><em>NOTE: Under construction!</em></p>
</div>
</div>
<div id="review-exercise-1" class="section level2 unnumbered">
<h2>Review exercise</h2>
<p><em>NOTE: Under construction!</em></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="importing-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-wrangling.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/databrew/intro-to-data-science/edit/master/04b-dataframes.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["intro-to-data-science.pdf", "intro-to-data-science.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
